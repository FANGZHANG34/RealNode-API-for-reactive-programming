{"version":3,"sources":["0"],"sourcesContent":["\"use strict\";\r\n// ==UserScript==\r\n// @name\t\t\treal-node\r\n// @namespace\t\thttp://tampermonkey.net/\r\n// @version\t\t\t2024-12-14\r\n// @description\t\tTry to take over the world after watching the end of this script!\r\n// @author\t\t\tFANGZHANG34\r\n// @match\t\t\thttps://*/*\r\n// @icon\t\t\thttps://www.google.com/s2/favicons?sz=64&domain=bilibili.com\r\n// @grant\t\t\tnone\r\n// ==/UserScript==\r\n/**\r\n * ## 使用以下代码获得类型提示，不用时再注释掉。\r\n * ### var {\r\n * ### RealWorld,RealNode,RealGroup,RealTarget,\r\n * ### RealStory,RealPromise,\r\n * ### RealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n * ### createRealDivSelect,createRealDivSearch,createRealDivSeries\r\n * ### } = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\nvar {\r\n\tRealWorld,RealNode,RealGroup,RealTarget,\r\n\tRealStory,RealPromise,\r\n\tRealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n\tcreateRealDivSelect,createRealDivSearch,createRealDivSeries\r\n} = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\n * \r\n * ## 如果使用ESM规范，请不要注释掉\"export default\"，否则请注释掉\"export default\"。\r\n */\r\nexport default\r\n({\r\n\tRealWorld,RealNode,RealGroup,RealTarget,\r\n\tRealStory,RealPromise,\r\n\tRealElement,RealCanvas,RealLoader,RealSelect,\r\n\tRealComtag,RealSVG,\r\n\tRealDivList,RealImgList,RealDivQueue,\r\n\tcreateRealDivSelect,createRealDivSearch,createRealDivSeries,\r\n} = (()=>{\r\n\tfunction prevent(v){return v;}\r\n\t/**##   */\r\n\t/**# 搜索## */\r\n\tconst\r\n\tElement = globalThis.Element ?? prevent,\r\n\tperformance = globalThis.performance ?? Date,\r\n\temptyArray = [],\r\n\tt0 = performance.now(),\r\n\ttryFunctionRealNode = true,\r\n\temptyObj = Object.create(null),\r\n\t/**## browserMode 是否存在浏览器环境 */\r\n\tbrowserMode = Element !== prevent,\r\n\tnonEnumerableConfig = {enumerable: false},\r\n\twritableNull = {value: null,writable: true},\r\n\ttempConfig = {writable: false,enumerable: false},\r\n\t/**### bind @type {typeof console.log} */\r\n\tlog = ((...argArray)=>console.log.apply(console,argArray)),\r\n\t/**\r\n\t * \r\n\t * @type {{\r\n\t * (thisArg: RealNode)=>*;\r\n\t * (thisArg: RealNode,value,react: Boolean,notify: Boolean,noSelf: Boolean)=>Boolean;\r\n\t * }}\r\n\t */\r\n\tprotoThisArg =\r\n\t/**\r\n\t * \r\n\t * @param {RealNode} thisArg \r\n\t * @param {[*,Boolean,Boolean,Boolean] | []} argArray \r\n\t */\r\n\t(thisArg,...argArray)=>argArray.length ? thisArg.realSet(...argArray,true,true,true) : thisArg.get(),\r\n\ttryYieldKey =\r\n\t/**\r\n\t * \r\n\t * @template T\r\n\t * @param {*[] | IterableIterator} iter \r\n\t * @param {T} [type] \r\n\t * @returns {IterableIterator<T>}\r\n\t */\r\n\tfunction*tryYieldKey(iter,key,type){try{for(const target of iter) yield target?.[key] ?? target;}catch(e){console.error(e);}}\r\n\t;\r\n\t/**## nodeMode 是否存在nodejs环境 */\r\n\tvar nodeMode = false;\r\n\t/**\r\n\t * ## 使用以下代码获得类型提示，不用时再注释掉。\r\n\t * ### var {\r\n\t * ### RealWorld,RealNode,RealGroup,RealTarget,\r\n\t * ### RealStory,RealPromise,\r\n\t * ### RealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n\t * ### createRealDivSelect,createRealDivSearch,createRealDivSeries\r\n\t * ### } = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\n\t * @type {{\r\n\t * RealWorld: typeof RealWorld;\r\n\t * RealNode: typeof RealNode;\r\n\t * RealGroup: typeof RealGroup;\r\n\t * RealTarget: typeof RealTarget;\r\n\t * RealStory: typeof RealStory;\r\n\t * RealPromise: typeof RealPromise;\r\n\t * RealElement: typeof RealElement;\r\n\t * RealCanvas: typeof RealCanvas;\r\n\t * RealLoader: typeof RealLoader;\r\n\t * RealSelect: typeof RealSelect;\r\n\t * RealComtag: typeof RealComtag;\r\n\t * RealSVG: typeof RealSVG;\r\n\t * RealDivList: typeof RealDivList;\r\n\t * RealImgList: typeof RealImgList;\r\n\t * RealDivQueue: typeof RealDivQueue;\r\n\t * createRealDivSelect: typeof createRealDivSelect;\r\n\t * createRealDivSearch: typeof createRealDivSearch;\r\n\t * createRealDivSeries: typeof createRealDivSeries;\r\n\t * }} \r\n\t */\r\n\tvar\r\n\tEXPORTS,\r\n\tnodeRequire,\r\n\tsetInterval = globalThis.setInterval ?? prevent,\r\n\tclearInterval = globalThis.clearInterval ?? prevent\r\n\t;\r\n\ttry{nodeRequire = require;EXPORTS = module.exports;nodeMode = true;}\r\n\tcatch{EXPORTS = {};nodeRequire = path=>new Promise(async r=>{try{\r\n\t\tconst exports = await import(String(path));\r\n\t\tr('default' in exports ? exports.default : exports);\r\n\t}catch(e){r(e);console.log('\\n\\r\\t'+String(e)+e?.stack);}});}\r\n\tconst nodeFS = nodeRequire('fs');\r\n\t/**# RealWorld 事件循环类 */\r\n\tvar RealWorld = (()=>{\r\n\t\tvar undefined;\r\n\t\t/**@this {{resolve(...value)=>void}} */\r\n\t\tfunction thisResolve(...value){this.resolve(value);};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} timeSep \r\n\t\t * @param {...()=>void} fnList \r\n\t\t */\r\n\t\tfunction RealWorld(timeSep,...fnList){\r\n\t\t\tif(null == this || this === globalThis) return new RealWorld(timeSep,...fnList);\r\n\t\t\ttry{Number.isFinite(this.timeSep = Number(timeSep)) || (this.timeSep = 10);}catch{this.timeSep = 10;}\r\n\t\t\tthis._id = setInterval(/**### bind */()=>this._mainFn(),this.timeSep);\r\n\t\t\t/**@type {(()=>*)[]} */\r\n\t\t\tthis.fnList = fnList;\r\n\t\t\tthis.info = undefined;\r\n\t\t\t/**@type {HTMLDivElement} */\r\n\t\t\tthis.self = browserMode ? document.createElement('div') : {};\r\n\t\t\tthis.paused = false;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.intervalFn = undefined;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.ifFn = undefined;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.soFn = undefined;\r\n\t\t\tReflect.defineProperty(this,'_id',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'fnList',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'timeSep',tempConfig);\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t/**\r\n\t\t * ## onload 环境准备好时兑现的承诺\r\n\t\t * @type {Promise<void>}\r\n\t\t */\r\n\t\tRealWorld.onload =\r\n\t\tbrowserMode ? new Promise(r=>addEventListener('load',function tempListener(){r();removeEventListener('load',tempListener)})) :\r\n\t\tnodeMode ? Promise.resolve() : new Promise(async r=>{if(setInterval === prevent){\r\n\t\t\tconst {setTimeout,clearTimeout} = globalThis.setTimeout ? globalThis :\r\n\t\t\t/**@type {{setTimeout: typeof globalThis.setTimeout;clearTimeout: typeof globalThis.clearTimeout;}} */ (await nodeRequire('os'));\r\n\t\t\tfunction Interval(handler,timeout,...argArray){\r\n\t\t\t\tif(null == this || this === globalThis) return new Interval(handler,timeout,...argArray);\r\n\t\t\t\treturn this._ = setTimeout(this.transform(handler,timeout,...argArray),timeout,...argArray),this;\r\n\t\t\t}\r\n\t\t\tInterval.prototype.transform = function(handler,timeout,...argArray){\r\n\t\t\t\tconst tempFn = ()=>{this._ = setTimeout(tempFn,timeout,...argArray);handler.apply(null,argArray);};\r\n\t\t\t\treturn tempFn; \r\n\t\t\t},Interval.prototype.clear = function(){clearTimeout(this._);};\r\n\t\t\tsetInterval = Interval,clearInterval = /**@type {(id: Interval)=>void} */ id=>id.clear();\r\n\t\t\tReflect.defineProperty(RealNode.eventLoop,'_id',{\r\n\t\t\t\tvalue: setInterval(/**### bind */()=>RealNode.eventLoop._mainFn(),RealNode.eventLoop.timeSep)\r\n\t\t\t}),r();\r\n\t\t}});\r\n\t\tRealWorld.createInterval =\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} timeSep \r\n\t\t * @param {()=>void} intervalFn \r\n\t\t * @returns {RealWorld}\r\n\t\t */\r\n\t\tfunction(timeSep,intervalFn){return (timeSep = new RealWorld(timeSep)).intervalFn = intervalFn,timeSep;};\r\n\t\t/**## getPromiseState 异步获取承诺状态 */\r\n\t\tRealWorld.getPromiseState = (()=>{\r\n\t\t\tconst temp = Symbol(),tryFn = v=>+(temp !== v),catchFn = ()=>-1;\r\n\t\t\treturn function getPromiseState(promise){return Promise.race([promise,temp]).then(tryFn,catchFn);};\r\n\t\t})();\r\n\t\tRealWorld.onceIf =\r\n\t\t/**\r\n\t\t * ## onceIf 生成条件检测承诺 \r\n\t\t * @method\r\n\t\t * @param {()=>Boolean} ifFn\r\n\t\t * @param {Number} [timeSep]\r\n\t\t */\r\n\t\tasync(ifFn,timeSep)=>{\r\n\t\t\tif(typeof ifFn !== 'function') throw new TypeError('\"ifFn\" must be Function !');\r\n\t\t\tconst temp = new RealWorld(timeSep);\r\n\t\t\tawait new Promise(soFn=>(temp.ifFn = ifFn,temp.soFn = soFn));\r\n\t\t\tclearInterval(temp._id);\r\n\t\t};\r\n\t\tRealWorld.cb2promise =\r\n\t\t/**\r\n\t\t * ## cb2promise 回调转承诺\r\n\t\t * @template T\r\n\t\t * @param {{thisArg?: {}; useFn: String | (callback: (err?: Error,...value: T)=>void)=>void; callback: typeof thisResolve;}} param0 \r\n\t\t * @param {...any} parameters \r\n\t\t * @returns {Promise<[?Error,...T]>}\r\n\t\t */\r\n\t\tfunction({thisArg,useFn,callback = thisResolve} = emptyObj,...parameters){\r\n\t\t\tif(typeof useFn !== 'function') useFn = thisArg?.[useFn];\r\n\t\t\tif(typeof useFn !== 'function') throw new Error('=> Wrong:\\n\t\"thisArg\" is not Object\\n or\\n\t\"useFn\" not in \"thisArg\" !');\r\n\t\t\treturn new Promise(resolve=>{\r\n\t\t\t\tconst temp = {callback,resolve};\r\n\t\t\t\ttry{useFn.call(thisArg,...parameters,(...value)=>temp.callback(...value));}catch(error0){\r\n\t\t\t\t\ttry{useFn.call(thisArg,(...value)=>temp.callback(...value),...parameters);}catch(error1){\r\n\t\t\t\t\t\ttemp.resolve([new Error('=> Neither head or tail of parameters is Callback !\\n'+(\r\n\t\t\t\t\t\t\tString(error0?.stack ?? error0)+'\\n'+String(error1?.stack ?? error1)\r\n\t\t\t\t\t\t))]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).catch(e=>console.error(e.stack));\r\n\t\t};\r\n\t\t/**## destroy 销毁本对象 */\r\n\t\tRealWorld.prototype.destroy = function(){clearInterval(this._id),this._mainFn();};\r\n\t\t/**## then 添加函数入执行队列 */\r\n\t\tRealWorld.prototype.then = function(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;};\r\n\t\t/**## 生成RealElement实例 */\r\n\t\tRealWorld.prototype.getRealElement = function(){\r\n\t\t\treturn new RealElement({self: this.self,key: 'innerHTML'},{id: this.self.id,initValue: this.self.innerHTML});\r\n\t\t};\r\n\t\t/**## 变更时间间隔 */\r\n\t\tRealWorld.prototype.setTimeSep = function(timeSep){\r\n\t\t\treturn (Number.isFinite(timeSep = Number(timeSep)) ? timeSep : 10) !== this.timeSep && (\r\n\t\t\t\tclearInterval(this._id),Reflect.defineProperty(this,'timeSep',{value: timeSep}),\r\n\t\t\t\tReflect.defineProperty(this,'_id',{value: setInterval(/**### bind */()=>this._mainFn(),this.timeSep)})\r\n\t\t\t);\r\n\t\t};\r\n\t\tRealWorld.prototype._mainFn = function(){\r\n\t\t\tif(this.paused) return;\r\n\t\t\ttry{this.intervalFn?.();}catch(e){this.intervalFn = null;console.error(e);}\r\n\t\t\ttry{this.info = this.fnList.pop()?.call?.(this,this.info);}catch(e){console.error(e);}\r\n\t\t\ttry{if(this.ifFn?.()) this.ifFn = this.soFn = void this.soFn?.();}catch(e0){\r\n\t\t\t\ttry{this.ifFn?.();}catch(e1){e0 = e1;this.ifFn = null;this.paused = true;}\r\n\t\t\t\tthis.paused || (this.soFn = null);this.paused = false;console.error(e0);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn RealWorld;\r\n\t})();\r\n\tvar RealNode = class RealNode{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @throws\r\n\t\t * @param {String} message \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\tstatic error(message){throw new Error(this.name+' : '+message);}\r\n\t\t/**@type {Map<Symbol,RealNode>} */\r\n\t\tstatic _sys = new Map;\r\n\t\tstatic t0 = Date.now();\r\n\t\tstatic tryRealNode = false;\r\n\t\tstatic now = Promise.resolve();\r\n\t\tstatic eventLoop = new RealWorld;\r\n\t\t/**\r\n\t\t * @typedef {{\r\n\t\t * tryRealNode: Boolean,\r\n\t\t * childRNs: ({info: [RealNode,String[],String[]]} & RealNode)[],\r\n\t\t * get()=>*,\r\n\t\t * set(value)=>Boolean,\r\n\t\t * react()=>Boolean,\r\n\t\t * id: Symbol,\r\n\t\t * value,\r\n\t\t * }} AntiNode \r\n\t\t */\r\n\t\tstatic proto = class AntiNode{\r\n\t\t\ttryRealNode;\r\n\t\t\t/**@type {(RealNode & {info: [RealNode,String[],String[]]})[]} */\r\n\t\t\tchildRNs = [];\r\n\t\t\t/**@type {()=>*} */\r\n\t\t\t['get'];\r\n\t\t\t/**@type {(value)=>Boolean} */\r\n\t\t\t['set'];\r\n\t\t\t/**@type {()=>Boolean} */\r\n\t\t\treact;\r\n\t\t\t/**@type {Symbol} */\r\n\t\t\tid;\r\n\t\t\tvalue;\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Symbol} id \r\n\t\t */\r\n\t\tstatic search(id){return RealNode._sys.get(id);}\r\n\t\tstatic is(value1,value2){return Object.is(value1,value2) || value1 === value2;}\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @param {()=>*} fn \r\n\t\t * @returns {Promise}\r\n\t\t */\r\n\t\tstatic justNow(fn,thisArg,...argArray){return RealNode.now.then(()=>fn.apply(thisArg,argArray));}\r\n\t\tstatic arrayToObject(...argArray){\r\n\t\t\tconst temp = Object.create(null),array = emptyArray.concat(...argArray),length = array.length;\r\n\t\t\tfor(var i = 0;i < length;i++) temp[String(array[i])] = array[i];\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@method */\r\n\t\tstatic createExpression = (set=>\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {()=>any} get \r\n\t\t\t * @param {RealNode[]} relativeRNs\r\n\t\t\t * */\r\n\t\t\t(get,...relativeRNs)=>new RealNode({get,set},true,...relativeRNs)\r\n\t\t)(()=>false);\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic check(realNode){for(const temp of RealNode._sys.entries()) if(realNode === temp[1]) return realNode.id === temp[0];}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {(config: {get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?})=>RealNode}\r\n\t\t */\r\n\t\tstatic createHidden = (temp=>function(config){return new RealNode(Object.assign({},config,temp));})({display: false});\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>*} fn \r\n\t\t * @param {Boolean} keepNow \r\n\t\t * @returns {Promise}\r\n\t\t */\r\n\t\tstatic afterNow(fn,keepNow,thisArg,...argArray){\r\n\t\t\tconst temp = new Promise(r=>RealNode.eventLoop.then(()=>r(fn.apply(thisArg,argArray))));\r\n\t\t\treturn keepNow || (RealNode.now = temp.catch(prevent)),temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>*} get \r\n\t\t */\r\n\t\tstatic protoCreate(get,...argArray){\r\n\t\t\tconst temp = new RealNode({get});\r\n\t\t\ttemp.proto.value = argArray;\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@method @type {((...args)=>RealNode)} */\r\n\t\tstatic createNumber = RealNode.protoCreate.bind(null,function(temp = 0){\r\n\t\t\tif(!Array.isArray(this.proto.value)) return +(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t\t\telse for(const i of this.proto.value) temp +=+(i instanceof RealNode ? i.value : i);\r\n\t\t\treturn temp;\r\n\t\t});\r\n\t\t/**@method */\r\n\t\tstatic copyObj = function copyObj(obj){\r\n\t\t\tif(Object(obj) === obj){\r\n\t\t\t\tconst newObj = Array.isArray(obj) ? [] : Object.create(null);\r\n\t\t\t\tfor(const i of Object.keys(obj)){95 === i.charCodeAt(0) || (newObj[i] = copyObj(obj[i]));}\r\n\t\t\t\treturn newObj;\r\n\t\t\t}else return new.target ? Object(obj) : obj;\r\n\t\t};\r\n\t\t/**@method @type {((...args)=>RealNode)} */\r\n\t\tstatic createString = RealNode.protoCreate.bind(null,function(){\r\n\t\t\tif(Array.isArray(this.proto.value)){\r\n\t\t\t\tconst temp = this.proto.value.concat();\r\n\t\t\t\tfor(var i = temp.length;i --> 0;) if(temp[i] instanceof RealNode) temp[i] = temp[i].value;\r\n\t\t\t\treturn temp.join('');\r\n\t\t\t}else return String(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t\t});\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(()=>*) & Promise} promise \r\n\t\t * @param {(time: Number,error: Error | null,value)=>void} callback \r\n\t\t * @returns {Promise<{error: ?Error,time: Number,value: ?*}>}\r\n\t\t */\r\n\t\tstatic async time(promise,callback){\r\n\t\t\tconst t0 = performance.now(),result = {time: null,error: null,value: null,};\r\n\t\t\ttry{result.value = await(typeof promise === 'function' ? promise() : promise);}catch(e){console.error(result.error = e);}\r\n\t\t\tresult.time = performance.now() - t0;\r\n\t\t\tif(typeof callback === 'function') try{callback(result.time,result.error,result.value);}catch(e){console.error(e);}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} n \r\n\t\t * @param {Number} [tail] \r\n\t\t */\r\n\t\tstatic makeNumStr0oTail(n,tail){\r\n\t\t\tvar int,float;\r\n\t\t\tswitch(typeof n){\r\n\t\t\t\tcase \"bigint\": return n.toString();\r\n\t\t\t\tcase \"symbol\":case \"undefined\": return 'NaN';\r\n\t\t\t}\r\n\t\t\ttry{n = +n;}catch{return 'NaN';}\r\n\t\t\treturn Number.isFinite(n) ? (\r\n\t\t\t\ttail = typeof tail !== 'number' ? 9 : tail > 18 ? 18 : tail < 0 ? 0 : Math.floor(tail),\r\n\t\t\t\t{0: int,1: float = ''} = n.toString(8).split('.'),\r\n\t\t\t\tBigInt('0o'+int).toString()+'_+'+'0o'+float.slice(0,tail).padEnd(tail,'0')\r\n\t\t\t) : 'NaN';\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealNode}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse();\r\n\t\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealNode) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\tprotoReact(){}\r\n\t\tprotoGet(){return this.proto.value;}\r\n\t\tlog(...message){console.log(this+':',...message);}\r\n\t\tdone(){return RealNode.justNow(this.protoDone,this);}\r\n\t\t// done(keepNow){return RealNode.afterNow(this.protoDone,keepNow,this);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @throws\r\n\t\t * @param {String} message \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\terror(message){throw new Error(this+'\\n\"\"\"\\n'+String(message)+'\\n\"\"\"');}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\tprotoSet(value){return value !== this.proto.value && (this.proto.value = value,true);}\r\n\t\tclearChildRNs(){while(this.proto.childRNs.length){this.proto.childRNs.pop().display = false;}return this;}\r\n\t\trealReact(notify = true,noSelf){\r\n\t\t\tconst react = this.proto.react;\r\n\t\t\treturn react ? (react.call(this),notify && this.notify(noSelf),true) : false;\r\n\t\t}\r\n\t\t[Symbol.toPrimitive](hint){try{\r\n\t\t\treturn 'number' === hint ? Number(this.value) : '[object '+this.constructor.name+']{ '+this.id.description+' }';\r\n\t\t}catch{return NaN;}}\r\n\t\tasync protoDone(){\r\n\t\t\tvar i = 0;\r\n\t\t\twhile(i < this.notifyArray.length) await Promise.allSettled(this.notifyArray[i++]);\r\n\t\t\treturn this.notifyArray.splice(0);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @param {RealNode} [thisArg] \r\n\t\t * @param {number} [count] \r\n\t\t * @returns {?Promise<void>}\r\n\t\t */\r\n\t\tnotify(noSelf,thisArg,count){\r\n\t\t\t// return this.relativeRNs.length ? this.done().finally(this.protoNotify.bind(this,noSelf,thisArg,count)) : null;\r\n\t\t\tfor(const id of this.relativeRNs) Promise.resolve(RealNode.search(id)).\r\n\t\t\tthen(realNode=>!realNode || (noSelf && this === realNode) || realNode.realReact?.());\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){try{\r\n\t\t\tvar temp;\r\n\t\t\treturn (this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true) && (react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t\t}catch(e){return console.error(e),e;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {RealNode} realNode \r\n\t\t * @returns {String[][]}\r\n\t\t */\r\n\t\t_getPositionsOfChildRN(realNode){\r\n\t\t\tconst childRNs = this.proto.childRNs,temp = [];\r\n\t\t\tfor(var i = childRNs.length,iter;i --> 0;) iter = childRNs[i].info.values(),realNode === iter.next().value && temp.push(...iter);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @param {RealNode} [thisArg] \r\n\t\t * @param {number} [count] \r\n\t\t */\r\n\t\tprotoNotify(noSelf,thisArg,count = 0){\r\n\t\t\t!thisArg ? thisArg = this : count++;\r\n\t\t\t(thisArg.notifyArray[count] || (thisArg.notifyArray[count] = [])).push(new Promise(r=>{\r\n\t\t\t\tfor(var id of this.relativeRNs){\r\n\t\t\t\t\t!(noSelf && id === this.id) && (id = RealNode.search(id)) && (id.react?.(),id.notify(noSelf,thisArg,count));\r\n\t\t\t\t}\r\n\t\t\t\tr();\r\n\t\t\t}));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} relativeRNs \r\n\t\t */\r\n\t\trelate(...relativeRNs){\r\n\t\t\tvar id = relativeRNs[relativeRNs.length - 1];\r\n\t\t\tconst temp = RealNode.search(id?.id ?? id);\r\n\t\t\twhile(relativeRNs.length){\r\n\t\t\t\tid = relativeRNs.pop();\r\n\t\t\t\ttypeof id === 'symbol' || (id instanceof RealNode ? id = id.id : this.error(\r\n\t\t\t\t\t'=> \"relativeRNs['+relativeRNs.length+']\" is not legal id !'\r\n\t\t\t\t));\r\n\t\t\t\tRealNode.search(id) && !this.relativeRNs.includes(id) && this.relativeRNs.push(id);\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} unrelativeRNs \r\n\t\t */\r\n\t\tunrelate(...unrelativeRNs){\r\n\t\t\tif(!unrelativeRNs.length) return false;\r\n\t\t\tconst temp = this.relativeRNs.concat();\r\n\t\t\tvar i = unrelativeRNs.length;\r\n\t\t\tthis.relativeRNs.splice(0);\r\n\t\t\twhile(i --> 0) typeof unrelativeRNs[i] === 'symbol' || (unrelativeRNs[i] = unrelativeRNs[i]?.id);\r\n\t\t\tfor(i = temp.length;i --> 0;) unrelativeRNs.includes(temp[i]) || this.relativeRNs.push(temp[i]);\r\n\t\t\treturn temp.length !== this.relativeRNs.length;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String[]} [position] \r\n\t\t * @returns {[RealNode, ...string[]][]} \r\n\t\t */\r\n\t\t_computePositionsOfRNs(value,deep = 2,position = [],count = 0){\r\n\t\t\t/**@type {[RealNode, ...string[]][]} */\r\n\t\t\tvar temp = [],i,keys;\r\n\t\t\tif(value instanceof RealNode) return temp.push((position.unshift(value),position)),temp;\r\n\t\t\telse if(count < deep && Object(value) === value) for(i = (keys = Reflect.ownKeys(value)).length;i --> 0;){\r\n\t\t\t\ttemp = temp.concat(this._computePositionsOfRNs(value[keys[i]],deep,[...position,keys[i]],count + 1));\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @param {[RealNode, ...string[]][]} realNodeMap \r\n\t\t */\r\n\t\t_dealWithPositionsOfRNs(realNodeMap,expression){\r\n\t\t\tconst temp = this.clearChildRNs().proto.childRNs,list = [];\r\n\t\t\tconst tempReact = this.constructor._react;\r\n\t\t\tvar value,i,end;\r\n\t\t\trealNodeMap = realNodeMap.concat();\r\n\t\t\twhile(realNodeMap.length){\r\n\t\t\t\t/**@type {[RealNode, ...string[]]} */\r\n\t\t\t\tconst position = realNodeMap.pop(),realNode = position[0],dir = position.slice(1);\r\n\t\t\t\tif(!dir.length) expression = realNode.value;else{\r\n\t\t\t\t\tfor(value = expression,i = 0,end = dir.length - 1;i < end;i++) value = value[key];\r\n\t\t\t\t\tvalue[dir[i]] = realNode.value;\r\n\t\t\t\t}\r\n\t\t\t\ti = list.indexOf(realNode);\r\n\t\t\t\ti < 0 ? (list.push(realNode),temp.push(realNode.relate(\r\n\t\t\t\t\tnew RealNode({info: [realNode,dir],react: (...argArray)=>tempReact.call(this,realNode,...argArray)})\r\n\t\t\t\t))) : temp[i].info.push(dir);\r\n\t\t\t}\r\n\t\t\treturn expression;\r\n\t\t}\r\n\t\t/**@type {Symbol} */\r\n\t\tget id(){return this.proto.id;}\r\n\t\tget childRNs(){return this.proto.childRNs;}\r\n\t\tget value(){return this.get();}\r\n\t\tset value(value){this.realSet(value,true,true);}\r\n\t\tget set(){return this.realSet;}\r\n\t\tset set(set){this.proto.set = typeof set === 'function' ? set : this.protoSet;}\r\n\t\tget get(){return this.proto.get;}\r\n\t\tset get(get){this.proto.get = typeof get === 'function' ? get : this.protoGet;}\r\n\t\tget react(){return this.proto.react;}\r\n\t\tset react(react){this.proto.react = typeof react === 'function' ? react : react ? this.protoReact : null;}\r\n\t\tget display(){return RealNode._sys.has(this.id);}\r\n\t\tset display(display){display ? RealNode._sys.set(this.id,this) : RealNode._sys.delete(this.id);}\r\n\t\tget tryRealNode(){return this.proto.tryRealNode;}\r\n\t\tset tryRealNode(tryRealNode){\r\n\t\t\ttryRealNode = (this.proto.tryRealNode = Boolean(tryRealNode));\r\n\t\t\tvar i = this.proto.childRNs.length;\r\n\t\t\twhile(i --> 0) this.proto.childRNs[i].display = tryRealNode;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?,display?}} [config] \r\n\t\t * @param {...(Symbol | RealNode)} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor(config,tryRealNode = RealNode.tryRealNode,...relativeRNs){\r\n\t\t\tconfig = Object(config);\r\n\t\t\t/**@type {Symbol[]} */\r\n\t\t\tthis.relativeRNs = [];\r\n\t\t\t/**@type {Promise[][]} */\r\n\t\t\tthis.notifyArray = [];\r\n\t\t\t/**@type {AntiNode} */\r\n\t\t\tthis.proto = null;\r\n\t\t\t/**@type {*} */\r\n\t\t\tthis.info = null;\r\n\t\t\t/**@type {this} */\r\n\t\t\tconst thisArg = tryFunctionRealNode ? (...argArray)=>protoThisArg(thisArg,...argArray) : this;\r\n\t\t\t// \"this\" 仅用于获取当前原型，真正的 this 为 \"thisArg\"\r\n\t\t\ttryFunctionRealNode && (\r\n\t\t\t\tthisArg.relativeRNs = this.relativeRNs,\r\n\t\t\t\tthisArg.notifyArray = this.notifyArray,\r\n\t\t\t\tReflect.setPrototypeOf(thisArg,Reflect.getPrototypeOf(this)),\r\n\t\t\t\tReflect.defineProperty(thisArg,'length',writableNull),\r\n\t\t\t\tReflect.defineProperty(thisArg,'name',writableNull)\r\n\t\t\t);\r\n\t\t\t/**@type {AntiNode} */\r\n\t\t\tthisArg.proto = new this.constructor.proto;\r\n\t\t\tthisArg.proto.id = Symbol(String(config.id ?? config.info?.id ?? ''));\r\n\t\t\tReflect.defineProperty(thisArg,'relativeRNs',nonEnumerableConfig);\r\n\t\t\tReflect.defineProperty(thisArg,'notifyArray',nonEnumerableConfig);\r\n\t\t\tReflect.defineProperty(thisArg,'proto',tempConfig);\r\n\t\t\tthisArg.display = config.display ?? true;\r\n\t\t\tthisArg.info = config.info;\r\n\t\t\tthisArg.get = config.get;\r\n\t\t\tthisArg.set = config.set;\r\n\t\t\tthisArg.react = config.react;\r\n\t\t\tthisArg.relate(...relativeRNs);\r\n\t\t\tthisArg.proto.value = config.initValue;\r\n\t\t\tthisArg.tryRealNode = tryRealNode;\r\n\t\t\tif('value' in config) thisArg.value = config.value;\r\n\t\t\treturn thisArg;\r\n\t\t\t\r\n\t\t\t// config = Object(config);\r\n\t\t\t// /**@type {AntiNode} */\r\n\t\t\t// this.proto = new this.constructor.proto;\r\n\t\t\t// this.proto.id = Symbol(String(config.id ?? config.info?.id ?? ''));\r\n\t\t\t// Reflect.defineProperty(this,'relativeRNs',nonEnumerableConfig);\r\n\t\t\t// Reflect.defineProperty(this,'notifyArray',nonEnumerableConfig);\r\n\t\t\t// Reflect.defineProperty(this,'proto',tempConfig);\r\n\t\t\t// this.display = config.display ?? true;\r\n\t\t\t// this.info = config.info;\r\n\t\t\t// this.get = config.get;\r\n\t\t\t// this.set = config.set;\r\n\t\t\t// this.react = config.react;\r\n\t\t\t// this.relate(...relativeRNs);\r\n\t\t\t// this.proto.value = config.initValue;\r\n\t\t\t// this.tryRealNode = tryRealNode;\r\n\t\t\t// if('value' in config) this.value = config.value;\r\n\t\t}\r\n\t};\r\n\tvar RealGroup =\r\n\t/**@template {{}} T */\r\n\tclass RealGroup extends RealNode{\r\n\t\tstatic tempProxy = class AntiGroup extends Function{\r\n\t\t\tapply(){return this.self;}\r\n\t\t\townKeys(){return Reflect.ownKeys(this);}\r\n\t\t\thas(target,key){return Reflect.has(this,key);}\r\n\t\t\tconstruct(){return this.realGroup.getByFilter();}\r\n\t\t\tisExtensible(){return Reflect.isExtensible(this);}\r\n\t\t\t['get'](target,key){return this.realGroup.get(key);}\r\n\t\t\tpreventExtensions(){return Reflect.preventExtensions(this);}\r\n\t\t\tdeleteProperty(target,key){return Reflect.deleteProperty(this.self,key);}\r\n\t\t\tsetPrototypeOf(target,prototype){return Reflect.setPrototypeOf(this,prototype);}\r\n\t\t\t['set'](target,key,value){return this.realGroup.set(Object.create(null,{[key]:{value}}));}\r\n\t\t\tdefineProperty(target,key,attributes){return Reflect.defineProperty(this.self,key,attributes);}\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {{}} self \r\n\t\t\t * @param {RealGroup} realGroup \r\n\t\t\t */\r\n\t\t\tconstructor(self,realGroup){\r\n\t\t\t\tsuper('');\r\n\t\t\t\tthis.self = self;\r\n\t\t\t\tthis.realGroup = realGroup;\r\n\t\t\t}\r\n\t\t};\r\n\t\t/**@type {Map<{},RealGroup>} */\r\n\t\tstatic groupMap = new Map;\r\n\t\tstatic _ = ()=>true;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {T} obj \r\n\t\t * @param {String} [id] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {Boolean} [strict] \r\n\t\t * @returns {RealGroup<T> | any}\r\n\t\t */\r\n\t\tstatic createDeepGroup = function createDeepGroup(obj,id = '',tryRealNode,strict){\r\n\t\t\tvar i;\r\n\t\t\tif(Object(obj) !== obj) return strict ? tryRealNode ? RealNode.createHidden({id,initValue: obj}) : obj : new RealGroup;\r\n\t\t\tconst proto = Reflect.getPrototypeOf(obj);\r\n\t\t\tif(proto && proto !== Object.prototype) return strict ? tryRealNode ?\r\n\t\t\tRealNode.createHidden({id,initValue: obj}) : obj : new RealGroup({self: obj});\r\n\t\t\tconst temp = Object.create(null),keyArray = Reflect.ownKeys(obj),length = keyArray.length;\r\n\t\t\tfor(i = 0;i < length;i++) temp[keyArray[i]] = createDeepGroup(obj[keyArray[i]],keyArray[i],tryRealNode,true);\r\n\t\t\treturn new RealGroup({self: temp});\r\n\t\t};\r\n\t\t/**\r\n\t\t * ## 针对JSON对象的强制数据结构转换\r\n\t\t * @template {{}} T\r\n\t\t * @template U\r\n\t\t * @type {{\r\n\t\t * (target,structure: \"array\")=>*[];\r\n\t\t * (target,structure: \"string\")=>String;\r\n\t\t * (target,structure: \"number\")=>Number;\r\n\t\t * (target,structure: \"bigint\")=>BigInt;\r\n\t\t * (target,structure: \"boolean\")=>Boolean;\r\n\t\t * (target,structure: \"null\" | \"undefined\")=>null;\r\n\t\t * (target,structure: T)=>T;\r\n\t\t * (target: U,structure: unknown)=>U;\r\n\t\t * }} \r\n\t\t */\r\n\t\tstatic getObjByStructure = (()=>{\r\n\t\t\tconst getObjByStructure = (source,structure)=>{\r\n\t\t\t\tvar index,keys,temp,key;\r\n\t\t\t\tswitch(structure){\r\n\t\t\t\t\tcase \"boolean\": return Boolean(source);\r\n\t\t\t\t\tcase \"null\": case \"undefined\": return null;\r\n\t\t\t\t\tcase \"bigint\": try{return BigInt(source);}catch{return 0n;}\r\n\t\t\t\t\tcase \"number\": try{return Number(source);}catch{return NaN;}\r\n\t\t\t\t\tcase \"string\": try{return String(source);}catch{return 'Symbol(unknown)';}\r\n\t\t\t\t\tcase \"array\": switch(typeof source){\r\n\t\t\t\t\t\tdefault: return [];\r\n\t\t\t\t\t\tcase \"string\": return source.split('');\r\n\t\t\t\t\t\tcase \"object\": if(source === null) return [];else if(Array.isArray(source)) return source.concat();\r\n\t\t\t\t\t\telse for(temp = [],keys = Object.keys(source),index = 0;true;) if(\r\n\t\t\t\t\t\t\tNumber.isInteger(key = +keys[index++]) && key > -1\r\n\t\t\t\t\t\t) try{temp[key] = source[key];}catch(e){console.error(e);}else return temp;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: if(Object(structure) !== structure) return source;\r\n\t\t\t\t}\r\n\t\t\t\tsource = Object(source),temp = Object.create(null),keys = Object.keys(structure),index = keys.length;\r\n\t\t\t\twhile(index --> 0) try{\r\n\t\t\t\t\tkey = keys[index],structure[key];\r\n\t\t\t\t\ttry{temp[key] = getObjByStructure(source[key],structure[key]);}\r\n\t\t\t\t\tcatch(e){temp[key] = getObjByStructure(null,structure[key]);console.error(e);}\r\n\t\t\t\t}catch(e){temp[key] = null;console.error(e);}\r\n\t\t\t\treturn temp;\r\n\t\t\t};\r\n\t\t\treturn getObjByStructure;\r\n\t\t})();\r\n\t\tkeys(all){return all ? Reflect.ownKeys(this.proxy()) : Object.keys(this.proxy());}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} [notify] \r\n\t\t * @param {Boolean} [noSelf] \r\n\t\t * @returns {Boolean | Error}\r\n\t\t */\r\n\t\trealSet(value,notify,noSelf){try{return this.protoSet(value) && (notify && this.notify(noSelf),true);}catch(e){return console.error(e),e;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Symbol | ?(keyArray: (String | Symbol)[])=>Boolean} ifKeyOrFn \r\n\t\t * @param {()=>void} listener \r\n\t\t */\r\n\t\taddSetterListener(ifKeyOrFn,listener){\r\n\t\t\tvar temp;\r\n\t\t\tif(!listener) return;\r\n\t\t\tif(typeof listener !== 'function') this.error('\"listener\" must be function !');\r\n\t\t\tif(null == ifKeyOrFn) ifKeyOrFn = RealGroup._;\r\n\t\t\tArray.isArray(temp = this.listenerMap.get(ifKeyOrFn)) || this.listenerMap.set(ifKeyOrFn,temp = []);\r\n\t\t\ttemp.push(listener);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(String | Symbol)[]} [keyArray] \r\n\t\t */\r\n\t\tprotoReact(keyArray = emptyArray){\r\n\t\t\tArray.isArray(keyArray) || this.error('\"keyArray\" must be Array !');\r\n\t\t\tthis.listenerMap.forEach((listenerArray,ifKeyOrFn)=>{try{\r\n\t\t\t\tif(typeof ifKeyOrFn === 'function' ? ifKeyOrFn(keyArray) : keyArray.indexOf(ifKeyOrFn) !== -1){\r\n\t\t\t\t\tfor(var l = listenerArray.length,i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t\t\t}\r\n\t\t\t}catch(e){this.log('Wrong with ',ifKeyOrFn);}});\r\n\t\t}\r\n\t\ttryRealNodeSetter(){\r\n\t\t\tconst self = this.proxy(),keys = Reflect.ownKeys(self);\r\n\t\t\tvar i = keys.length;\r\n\t\t\twhile(i --> 0) Reflect.has(Reflect.getOwnPropertyDescriptor(self,keys[i]),'get') || self[keys[i]] instanceof RealNode ||\r\n\t\t\t(self[keys[i]] = RealNode.createHidden({initValue: self[keys[i]]}));\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(key: String)=>Boolean} [filterFn] \r\n\t\t * @returns {{}}\r\n\t\t */\r\n\t\tgetByFilter(filterFn){\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(self),notFn = typeof filterFn !== 'function',temp = Object.create(null);\r\n\t\t\tvar i = keyArray.length;\r\n\t\t\twhile(i --> 0) if(notFn || filterFn(keyArray[i])) Reflect.\r\n\t\t\tset(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{}} obj \r\n\t\t */\r\n\t\tprotoSet(obj){\r\n\t\t\tif(Object(obj) !== obj) return false;\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(Object(obj)),temp = [];\r\n\t\t\tfor(const key of keyArray) obj[key] instanceof RealNode ? (self[key] = obj[key],temp.push(key)) :\r\n\t\t\tself[key] instanceof RealNode ? self[key].set(obj[key],true,true,true) && temp.push(key) :\r\n\t\t\tobj[key] !== self[key] && (self[key] = obj[key],temp.push(key));\r\n\t\t\tif(temp.length) try{this.protoReact(temp);}catch(e){this.log(e?.stack ?? e);}finally{return true;}else{\r\n\t\t\t\tconst listenerArray = this.listenerMap.get(RealGroup._),l = listenerArray.length;\r\n\t\t\t\tfor(var i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {(()=>{}) & ((objectDescription: {})=>{}) & ((key)=>*)}\r\n\t\t */\r\n\t\tprotoGet(...argArray){\r\n\t\t\tif(0 === argArray.length) return this.getByFilter();\r\n\t\t\tvar temp = argArray[0];\r\n\t\t\tif(Object(temp) !== temp) return (temp = this.proxy()[temp],temp instanceof RealNode ? temp.value : temp);\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(temp);\r\n\t\t\t/**@type {{}} */\r\n\t\t\ttemp = Object.create(null);\r\n\t\t\tvar i = keyArray.length;\r\n\t\t\twhile(i --> 0) Reflect.set(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@type {T & {()=>T}} */\r\n\t\tget proxy(){return this.proto.value;}\r\n\t\tget set(){return this.realSet;}\r\n\t\tset set(set){/**tthis.log('Invalid set \"set\" !'); */}\r\n\t\t/**@type {(keyOrkeyObj?: String | Symbol | {})=> *} */\r\n\t\tget get(){return this.protoGet;}\r\n\t\tset get(get){/**this.log('Invalid set \"get\" !'); */}\r\n\t\tget react(){return this.protoReact;}\r\n\t\tset react(react){/**this.log('Invalid set \"react\" !'); */}\r\n\t\tget tryRealNode(){return false;}\r\n\t\tset tryRealNode(tryRealNode){tryRealNode && this.log('I can not try realNode !');}\r\n\t\t/**@type {Map<String | Symbol | (keyArray: (String | Symbol)[])=>Boolean,(()=>void)[]>} */\r\n\t\tlistenerMap = new Map([[RealGroup._,[]]]);\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{self?: T}} param0 \r\n\t\t */\r\n\t\tconstructor({id,info,self = Object.create(null)} = emptyObj){\r\n\t\t\tvar temp;\r\n\t\t\tif((temp = RealGroup.groupMap.get(self)) instanceof RealGroup) return console.log('Please do not new for \"self\":'+self+' again !'),temp;\r\n\t\t\tsuper({id,info});\r\n\t\t\tif(Object(self) !== self) this.error('\"self\" not typeof object !');\r\n\t\t\tReflect.defineProperty(this,'listenerMap',tempConfig);\r\n\t\t\ttemp = new RealGroup.tempProxy(self,this);\r\n\t\t\tthis.proto.value = new Proxy(temp,temp);\r\n\t\t\tRealGroup.groupMap.set(self,this);\r\n\t\t}\r\n\t};\r\n\tvar RealTarget = class RealTarget extends RealNode{\r\n\t\t/**@typedef {AntiNode & {self: Element & {},isElement: Boolean,transform(value)=>*}} AntiTarget */\r\n\t\tstatic proto = class AntiTarget extends RealNode.proto{\r\n\t\t\t/**@type {Element & {}} */\r\n\t\t\tself;\r\n\t\t\t/**@type {Boolean} */\r\n\t\t\tisElement;\r\n\t\t\t/**@type {(value)=>*} */\r\n\t\t\ttransform;\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {{(element: Element)=>RealElement[];(element: {})=>RealTarget[];(element)=>RealElement[];}}\r\n\t\t */\r\n\t\tstatic searchByObj(element){\r\n\t\t\tconst temp = [];\r\n\t\t\tif(Object(element) !== element) return temp;\r\n\t\t\tfor(const realTarget of RealTarget._sys.values()) if(element === realTarget.self) temp.push(realTarget);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealTarget}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse();\r\n\t\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.fix(),react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealTarget) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {T} value \r\n\t\t */\r\n\t\tprotoTransform(value){return value;}\r\n\t\tfix(){return this.self[this.key] = this.transform(this.proto.value),this;}\r\n\t\tclearClassName(){return this.proto.isElement && (this.proto.self.className = '',true);}\r\n\t\t/**@param {...String} classList */\r\n\t\taddClassName(...classList){return this.proto.isElement && (this.proto.self.classList.add(...classList),true);}\r\n\t\t/**@param {String} className */\r\n\t\ttoggleClassName(className){return this.proto.isElement && this.proto.self.classList.toggle(className);}\r\n\t\t/**@param {...String} classList  */\r\n\t\tremoveClassName(...classList){return this.proto.isElement && (this.proto.self.classList.remove(...classList),true);}\r\n\t\tgetIndexWithin(){\r\n\t\t\tvar i = 0,temp = this.proto.self;\r\n\t\t\twhile(temp = temp.previousElementSibling) i++;\r\n\t\t\treturn i;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){try{\r\n\t\t\tvar temp;\r\n\t\t\treturn (this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true) && (this.fix(),react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t\t}catch(e){return console.error(e),e;};}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {keyof HTMLElementTagNameMap} selfSelector \r\n\t\t * @param {String | {[selector: String]: {[styleName: String]: String}}} classNameOrRuleObjObj \r\n\t\t */\r\n\t\tapplyCSS(selfSelector,classNameOrRuleObjObj){\r\n\t\t\tif(!(this.proto.self instanceof Element)) this.error('I am not RealElement !');\r\n\t\t\tconst strReg = /^[A-Za-z]/;\r\n\t\t\tvar temp = selfSelector;\r\n\t\t\tif(typeof selfSelector !== 'string'){\r\n\t\t\t\twhile(temp = temp?.parentElement) if(temp === this.proto.self) break;\r\n\t\t\t\ttemp ? selfSelector = ' #'+(selfSelector.id || (selfSelector.id = RealElement.getRandomId())) :\r\n\t\t\t\tthis.error('\"selfSelector\" must be String or my descendant !');\r\n\t\t\t}\r\n\t\t\tconst id = this.proto.self.id || (this.proto.self.id = RealElement.getRandomId());\r\n\t\t\ttypeof classNameOrRuleObjObj === 'string' ? classNameOrRuleObjObj = RealElement.myStyle.get(classNameOrRuleObjObj) :\r\n\t\t\tclassNameOrRuleObjObj = Object(classNameOrRuleObjObj);\r\n\t\t\treturn !classNameOrRuleObjObj ? false : (RealElement.addCSSRules(\r\n\t\t\t\t'#'+id+(strReg.test(selfSelector) ? ' ' : '')+selfSelector,classNameOrRuleObjObj\r\n\t\t\t),RealElement.addId(id,false),true);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} keepValue \r\n\t\t * @param {Boolean} fix \r\n\t\t * @param {Boolean} [deepCopyRelativeRNs] \r\n\t\t */\r\n\t\tclone(keepValue,fix,deepCopyRelativeRNs){\r\n\t\t\tconst self = this.proto.self instanceof Element ? this.proto.self.cloneNode() :\r\n\t\t\tObject.assign(Object.create(Reflect.getPrototypeOf(this.proto.self)),this.proto.self);\r\n\t\t\tconst param0 = {self,key: this.key,transform: this.transform};\r\n\t\t\tconst temp = new RealTarget(param0,{\r\n\t\t\t\tget: this.proto.get,\r\n\t\t\t\tset: this.proto.set,\r\n\t\t\t\treact: this.proto.react,\r\n\t\t\t\tid: this.id.description+'-clone',\r\n\t\t\t\tinfo: this.info,\r\n\t\t\t\tinitValue: keepValue ? this.proto.value : void 0,\r\n\t\t\t});\r\n\t\t\tReflect.setPrototypeOf(temp,Reflect.getPrototypeOf(this));\r\n\t\t\tif(null == deepCopyRelativeRNs) temp.relativeRNs = deepCopyRelativeRNs ? this.relativeRNs : this.relativeRNs.concat();\r\n\t\t\treturn fix ? temp.fix() : temp;\r\n\t\t}\r\n\t\tget isElement(){return this.proto.isElement;}\r\n\t\tget transform(){return this.proto.transform;}\r\n\t\t/**@param {(value)=>*} transform */\r\n\t\tset transform(transform){this.proto.transform = typeof transform === 'function' ? transform : this.protoTransform;}\r\n\t\t/**@type { Element | {}} */\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){\r\n\t\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\t\tthis.error('=> \"self\" must be Object !');\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{self: Element | {},key,transform?: (value)=>*}} param0 \r\n\t\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?}} [config] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {...RealNode} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor({self,key,transform},config,tryRealNode,...relativeRNs){\r\n\t\t\tsuper(config,tryRealNode);\r\n\t\t\t/**@type {AntiTarget} */this.proto;\r\n\t\t\tthis.self = self;\r\n\t\t\tthis.key = key;\r\n\t\t\tthis.transform = transform;\r\n\t\t\ttryRealNode && this.realSet(config.initValue);\r\n\t\t\tthis.relate(...relativeRNs);\r\n\t\t\tthis.addClassName(this.constructor.name);\r\n\t\t}\r\n\t};\r\n\tvar RealElement = class RealElement extends RealTarget{\r\n\t\t/**@type {Element} */\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){\r\n\t\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\t\tthis.error('=> \"self\" must be Element !');\r\n\t\t}\r\n\t\t/**@type {Set<String>} */\r\n\t\tstatic idSet = new Set;\r\n\t\tstatic findId(id){return this.idSet.has(id);}\r\n\t\tstatic deleteId(id){typeof id !== 'string' && console.error('=> Please use String \"id\" !');return this.idSet.delete(id);}\r\n\t\tstatic getRandomId(){\r\n\t\t\tfor(var temp;this.idSet.has(temp = 'C3'+Math.floor(Math.random() * 1e14).toString(36)););\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tstatic addId(id,strict = true){\r\n\t\t\tif(id) typeof id !== 'string' ? this.error('=> Please use String \"id\" !') :\r\n\t\t\tthis.idSet.has(id) ? strict && this.error('=> Please use another \"id\" !') :\r\n\t\t\tthis.idSet.add(id);\r\n\t\t}\r\n\t\t/**@type {Map<String,{[selector: String]: {}}>} */\r\n\t\tstatic myStyle = new Map;\r\n\t\t/**@type {{[type: String]:Map<(keyof HTMLElementTagNameMap,EventListener)[]>}} */\r\n\t\tstatic selectorEventListeners = {};\r\n\t\tstatic keyboardController = (browserMode && addEventListener('keydown',e=>{\r\n\t\t\tif(/^(TEXTAREA)|(SELECT)|(INPUT)$/.test(document.activeElement?.tagName)) return;\r\n\t\t\t/**@type {?Element} */\r\n\t\t\tconst onkeyboardController = document.querySelector('.onkeyboardControl') ?? document.querySelector('.keyboardController');\r\n\t\t\tif(!onkeyboardController) return;\r\n\t\t\tvar i,temp;\r\n\t\t\tswitch(e.key){\r\n\t\t\t\tcase RealElement.keyboardController?.previous: i = -1;break;\r\n\t\t\t\tcase RealElement.keyboardController?.next: i = 1;break;\r\n\t\t\t\tcase RealElement.keyboardController?.enter: (temp = RealTarget.searchByObj(onkeyboardController)[0]) instanceof RealDivList ?\r\n\t\t\t\ttemp.proto.list.length ?\r\n\t\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),(temp = temp.proto.list[0]).classList.add('onkeyboardControl')) :\r\n\t\t\t\t(temp = onkeyboardController).click() :\r\n\t\t\t\t(temp = onkeyboardController.querySelector('.keyboardController')) ?\r\n\t\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t\t(temp = onkeyboardController).click();break;\r\n\t\t\t\tcase RealElement.keyboardController?.back:{\r\n\t\t\t\t\ttemp = onkeyboardController;\r\n\t\t\t\t\twhile(temp = temp.parentElement) if(temp.classList.contains('keyboardController')) break;\r\n\t\t\t\t\ttemp ? (onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t\t\t(temp = onkeyboardController).classList.add('onkeyboardControl');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(i++){if(temp = onkeyboardController,onkeyboardController.classList.remove('onkeyboardControl'),i){\r\n\t\t\t\twhile(temp = temp.nextElementSibling) if(getComputedStyle(temp).display !== 'none') break;\r\n\t\t\t\t(temp || (temp = onkeyboardController.parentElement.firstElementChild)).classList.add('onkeyboardControl');\r\n\t\t\t}else{\r\n\t\t\t\twhile(temp = temp.previousElementSibling) if(getComputedStyle(temp).display !== 'none') break;\r\n\t\t\t\t(temp || (temp = onkeyboardController.parentElement.lastElementChild)).classList.add('onkeyboardControl');\r\n\t\t\t}}\r\n\t\t\ttemp && temp.animate({'opacity':[1,0,1]},{duration: 500});\r\n\t\t}),{\r\n\t\t\tprevious: 'ArrowUp',\r\n\t\t\tnext: 'ArrowDown',\r\n\t\t\tenter:'ArrowRight',\r\n\t\t\tback: 'ArrowLeft'\r\n\t\t});\r\n\t\t/**@method */\r\n\t\tstatic makeElementByString = (()=>{\r\n\t\t\t/**@type {HTMLTemplateElement} */\r\n\t\t\tconst template = browserMode ? document.createElement('template') : {content: {}};\r\n\t\t\tfunction makeElementByString(innerHTML){template.innerHTML = String(innerHTML); return template.content.firstElementChild;}\r\n\t\t\treturn makeElementByString._clear = ()=>(template.innerHTML = '',template.content),makeElementByString;\r\n\t\t})();\r\n\t\tstatic createImg(){return new RealElement({self: document.createElement('img'),key: 'src'});}\r\n\t\tstatic createVideo(){return new RealElement({self: document.createElement('video'),key: 'src'});}\r\n\t\tstatic createAudio(){return new RealElement({self: document.createElement('audio'),key: 'src'});}\r\n\t\tstatic createDiv(id,initValue = ''){return new RealElement({self: document.createElement('div'),key: 'textContent'},{id,initValue});}\r\n\t\tstatic createTextarea(placeholder){\r\n\t\t\tconst temp = document.createElement('textarea');\r\n\t\t\treturn new RealElement({self: (temp.placeholder = String(placeholder),temp),key: 'value'});\r\n\t\t}\r\n\t\tstatic newXHTML =\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {keyof HTMLElementTagNameMap} T\r\n\t\t * @param {T} tagName \r\n\t\t * @param {HTMLElement} [config] \r\n\t\t * @param {CSSStyleDeclaration} [cssConfig] \r\n\t\t * @returns {HTMLElementTagNameMap[T]}\r\n\t\t */\r\n\t\t(tagName,config,cssConfig)=>(Object.assign(Object.assign(tagName = document.createElement(tagName),config).style,cssConfig),tagName)\r\n\t\tstatic newSVG =\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {keyof SVGElementTagNameMap} T\r\n\t\t * @param {T} tagName \r\n\t\t * @param {SVGElement} [config] \r\n\t\t * @param {CSSStyleDeclaration} [cssConfig] \r\n\t\t */\r\n\t\t(tagName,config,cssConfig)=>RealElement.makeElement(document.createElementNS('http://www.w3.org/2000/svg',tagName),config,cssConfig);\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Element[] | IterableIterator<Element>} Elements \r\n\t\t */\r\n\t\tstatic newDocumentFragmentFromElements(Elements){\r\n\t\t\tconst temp = new DocumentFragment();\r\n\t\t\tfor(const ele of Elements) try{temp.appendChild(ele);}catch(e){console.error(e);}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(Element | {self: Element})} elementList\r\n\t\t */\r\n\t\tstatic applyKeyboardController(...elementList){\r\n\t\t\tfor(const ele of elementList) ele instanceof Element ? ele.classList.add('keyboardController') :\r\n\t\t\tele?.self instanceof Element && ele.self.classList.add('keyboardController');\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(Element | {self: Element})} elementList\r\n\t\t */\r\n\t\tstatic cancelKeyboardController(...elementList){\r\n\t\t\tfor(const ele of elementList) ele instanceof Element ? ele.classList.remove('keyboardController') :\r\n\t\t\tele?.self instanceof Element && ele.self.classList.remove('keyboardController');\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {Element | keyof HTMLElementTagNameMap} T \r\n\t\t * @param {T} element \r\n\t\t * @param {HTMLElement & SVGElement} [config] \r\n\t\t * @param {CSSStyleDeclaration} [cssConfig] \r\n\t\t * @returns {T extends Element ? T : HTMLElementTagNameMap[T]}\r\n\t\t */\r\n\t\tstatic makeElement(element,config,cssConfig){\r\n\t\t\telement instanceof Element || (element = document.createElement(element));\r\n\t\t\tconst style = element.style;\r\n\t\t\tvar temp;\r\n\t\t\tif(config) for(const attr of Object.keys(config)) try{if(attr in element) try{\r\n\t\t\t\ttypeof (temp = element[attr]) === 'object' && null !== temp ?\r\n\t\t\t\t'baseVal' in temp && element.setAttribute(attr,config[attr]) : element[attr] = config[attr];\r\n\t\t\t}catch(e){console.error(e);}else if(attr in style) style[attr] = String(config[attr]);}catch(e){console.error(e);}\r\n\t\t\treturn Object.assign(style,cssConfig),element;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {String} T\r\n\t\t * @template {Boolean | Node | []} U\r\n\t\t * @param {T} type \r\n\t\t * @param {T extends 'svg' ? (keyof SVGElementTagNameMap)[] : (keyof HTMLElementTagNameMap)[]} tagNameArray \r\n\t\t * @param {U} [toDocumentFragment] \r\n\t\t * @returns {U extends true ? DocumentFragment : T extends 'svg' ? SVGElement[] : Element[]}\r\n\t\t */\r\n\t\tstatic newElements(type,tagNameArray,toDocumentFragment){\r\n\t\t\tconst iter = tagNameArray[Symbol.iterator]();\r\n\t\t\tif(toDocumentFragment){\r\n\t\t\t\tif(toDocumentFragment = new DocumentFragment(),'svg' === type) for(tagNameArray of iter) toDocumentFragment.\r\n\t\t\t\tappendChild(document.createElementNS('http://www.w3.org/2000/svg',tagNameArray?.tagName ?? tagNameArray));\r\n\t\t\t\telse for(tagNameArray of iter) toDocumentFragment.appendChild(document.createElement(tagNameArray?.tagName ?? tagNameArray));\r\n\t\t\t}else if(toDocumentFragment = [],'svg' === type) for(tagNameArray of iter) toDocumentFragment.push(\r\n\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg',tagNameArray?.tagName ?? tagNameArray)\r\n\t\t\t);else for(tagNameArray of iter) toDocumentFragment.push(document.createElement(tagNameArray?.tagName ?? tagNameArray));\r\n\t\t\treturn toDocumentFragment;\r\n\t\t}\r\n\t\t/**@method */\r\n\t\tstatic addEventListenerBySelectors = (()=>{\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {Event} e \r\n\t\t\t * @param {((event: Event)=>void)[]} listenerArray \r\n\t\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t\t */\r\n\t\t\tfunction temp(e,listenerArray,selectors){try{if(Array.from(document.querySelectorAll(selectors)).includes(e.target)){\r\n\t\t\t\tfor(var i = 0,l = listenerArray.length;i < l;) try{listenerArray[i++](e);}catch(e){console.error,alert(e?.stack ?? e);}\r\n\t\t\t}}catch(e){console.error(e);}}\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t\t * @param {keyof HTMLElementEventMap} type \r\n\t\t\t * @param {(event: Event)=>void} listener \r\n\t\t\t */\r\n\t\t\treturn(selectors,type,listener)=>{\r\n\t\t\t\tconst tempStr = type.replace(type[0],type[0].toUpperCase());\r\n\t\t\t\t!selectors || '*' === selectors ? addEventListener(type,listener) : (\r\n\t\t\t\t\t!RealElement.selectorEventListeners[type] && (RealElement.selectorEventListeners[type] = new Map,addEventListener(\r\n\t\t\t\t\t\ttype,e=>{\r\n\t\t\t\t\t\t\tconst t0 = performance.now();\r\n\t\t\t\t\t\t\tRealElement.selectorEventListeners[type].forEach(/**### bind */(listenerArray,selectors)=>temp(e,listenerArray,selectors));\r\n\t\t\t\t\t\t\tlog(tempStr+'-listeners completed\\nin '+RealNode.makeNumStr0oTail(performance.now() - t0)+' ms.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)),\r\n\t\t\t\t\tRealElement.selectorEventListeners[type].has(selectors) ? RealElement.selectorEventListeners[type].get(selectors).push(listener) :\r\n\t\t\t\t\tRealElement.selectorEventListeners[type].set(selectors,[listener])\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t})();\r\n\t\t/**@method */\r\n\t\tstatic addCSSRules = (()=>{\r\n\t\t\tif(!browserMode){const addCSSRules = ()=>addCSSRules; return addCSSRules._css = RealWorld.onload,addCSSRules;}\r\n\t\t\tvar myCSS = RealWorld.onload.then(function(){\r\n\t\t\t\tconst style = document.getElementsByTagName(\"head\")[0].appendChild(document.createElement(\"style\"));\r\n\t\t\t\twindow.createPopup || style.appendChild(document.createTextNode(\"\")),myCSS = style.sheet;\r\n\t\t\t});\r\n\t\t\tconst testReg = /^\\.([A-Za-z][A-Z0-9a-z]{0,})$/;\r\n\t\t\tconst strReg0 = /[A-Za-z]$/,strReg1 = /^[A-Za-z]/;\r\n\t\t\tconst getKeys = obj=>Object(obj) === obj ? Object.keys(obj) : [];\r\n\t\t\t/**@type {(selector: keyof HTMLElementTagNameMap,rulesStr: String)=>Promise<Number>} */\r\n\t\t\tvar insertRule = !globalThis.CSSStyleSheet.prototype.insertRule ? (selector,rulesStr)=>myCSS.addRule(selector,rulesStr,-1) :\r\n\t\t\t(selector,rulesStr)=>myCSS.insertRule(selector+\"{\\n\"+rulesStr+\"}\",myCSS.cssRules.length);\r\n\t\t\tvar tempInsertRule = (selector,rulesStr)=>myCSS instanceof Promise ?\r\n\t\t\tmyCSS.then(()=>(tempInsertRule = insertRule)(selector,rulesStr)) : (tempInsertRule = insertRule)(selector,rulesStr);\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {String} prefix \r\n\t\t\t * @param {{[selector: String]: {[styleName: String]: String}}} ruleObjObj \r\n\t\t\t */\r\n\t\t\tfunction addCSSRules(prefix,ruleObjObj){try{\r\n\t\t\t\tif(Array.isArray(prefix)){\r\n\t\t\t\t\tlet i = prefix.length\r\n\t\t\t\t\twhile(i --> 0) typeof prefix[i] === 'string' && addCSSRules(prefix[i],ruleObjObj);\r\n\t\t\t\t\treturn addCSSRules;\r\n\t\t\t\t}else typeof prefix === 'string' || RealElement.error('\"prefix\" in addCSSRules must be String !');\r\n\t\t\t\tfor(const selector of getKeys(ruleObjObj)){\r\n\t\t\t\t\tconst ruleObj = ruleObjObj[selector],temp = [];\r\n\t\t\t\t\tfor(const key of getKeys(ruleObj)){temp.push(key,':',String(ruleObj[key]),';\\n');}\r\n\t\t\t\t\ttempInsertRule(prefix+(strReg0.test(prefix) && strReg1.test(selector) ? ' ' : '')+selector+' ',temp.join(''));\r\n\t\t\t\t}\r\n\t\t\t\tconst cssName = testReg.exec(prefix)?.[1];\r\n\t\t\t\tcssName && RealElement.myStyle.set(cssName,Object.assign({},RealElement.myStyle.get(cssName),ruleObjObj));\r\n\t\t\t}catch(e){console.error(e);}return addCSSRules;};\r\n\t\t\treturn addCSSRules._css = myCSS,addCSSRules;\r\n\t\t})();\r\n\t\tstatic defaultInit = (()=>{\r\n\t\t\tvar onload = false;\r\n\t\t\treturn ()=>{\r\n\t\t\t\treturn onload ? RealWorld.onload : RealWorld.onload = (onload = true,RealWorld.onload.\r\n\t\t\t\tthen(()=>RealNode.time(()=>void RealElement.addCSSRules('',{\r\n\t\t\t\t\t'*':{\r\n\t\t\t\t\t\t'margin':'0',\r\n\t\t\t\t\t\t'padding':'0',\r\n\t\t\t\t\t\t'border':'0',\r\n\t\t\t\t\t\t'-webkit-user-select':'none',\r\n\t\t\t\t\t\t'-moz-user-select':'none',\r\n\t\t\t\t\t\t'-ms-user-select':'none',\r\n\t\t\t\t\t\t'user-select':'none',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t':root':{\r\n\t\t\t\t\t\t'--mapWidth':'1920px',\r\n\t\t\t\t\t\t'--halfBlack':'rgba(0, 0, 0, 0.5)',\r\n\t\t\t\t\t\t'--halfWhite':'rgba(225, 225, 225, 0.5)',\r\n\t\t\t\t\t\t'--noColor':'rgba(0, 0, 0, 0)',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'pre':{\r\n\t\t\t\t\t\t'text-align':'left',\r\n\t\t\t\t\t\t'align-content':'left',\r\n\t\t\t\t\t\t'vertical-align':'top',\r\n\t\t\t\t\t\t'white-space':'pre-wrap',\r\n\t\t\t\t\t\t'word-wrap':'break-word',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'html':{\r\n\t\t\t\t\t\t'cursor':'default',\r\n\t\t\t\t\t\t'background-color':'black',\r\n\t\t\t\t\t\t'color':'white',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'body':{\r\n\t\t\t\t\t\t'transform':'rotate(0)',\r\n\t\t\t\t\t\t'transform-origin':'50vmin 50vmin',\r\n\t\t\t\t\t\t// 'width':'100vmax',\r\n\t\t\t\t\t\t// 'height':'calc((var(--mapWidth) - 100vmax) * 9 / 16 + 100vmin)',\r\n\t\t\t\t\t\t'overflow':'visible scroll',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'body>*':{'position':'absolute',},\r\n\t\t\t\t\t'hr':{'border':'1px solid white,'},\r\n\t\t\t\t\t'::-webkit-scrollbar':{'display':'none',},\r\n\t\t\t\t})('.coverBody',{\r\n\t\t\t\t\t'':{'width': '100vmax','height':'56.25vmax'},\r\n\t\t\t\t})('.noDisplay',{\r\n\t\t\t\t\t'':{'display':'none'},\r\n\t\t\t\t})('.disappear',{\r\n\t\t\t\t\t'':{'visibility':'hidden'},\r\n\t\t\t\t})('.listDown',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listRight',{\r\n\t\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listDownListRight',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listRightListDown',{\r\n\t\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('div.listClose',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t\t'>:nth-child(1)':{'z-index':'1'},\r\n\t\t\t\t\t'>:nth-child(2)':{'z-index':'2'},\r\n\t\t\t\t\t'>:nth-child(3)':{'z-index':'3'},\r\n\t\t\t\t\t'>:nth-child(4)':{'z-index':'4'},\r\n\t\t\t\t\t'>:nth-child(5)':{'z-index':'5'},\r\n\t\t\t\t\t'>:nth-child(6)':{'z-index':'6'},\r\n\t\t\t\t\t'>:nth-child(7)':{'z-index':'7'},\r\n\t\t\t\t\t'>:nth-child(8)':{'z-index':'8'},\r\n\t\t\t\t\t'>:nth-child(9)':{'z-index':'9'},\r\n\t\t\t\t\t'>:nth-child(10)':{'z-index':'10'},\r\n\t\t\t\t\t'>:nth-child(11)':{'z-index':'11'},\r\n\t\t\t\t\t'>:nth-child(12)':{'z-index':'12'},\r\n\t\t\t\t\t'>:nth-child(13)':{'z-index':'13'},\r\n\t\t\t\t\t'>:nth-child(14)':{'z-index':'14'},\r\n\t\t\t\t\t'>:nth-child(15)':{'z-index':'15'},\r\n\t\t\t\t})('div.listFar',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t\t'>:nth-last-child(1)':{'z-index':'1'},\r\n\t\t\t\t\t'>:nth-last-child(2)':{'z-index':'2'},\r\n\t\t\t\t\t'>:nth-last-child(3)':{'z-index':'3'},\r\n\t\t\t\t\t'>:nth-last-child(4)':{'z-index':'4'},\r\n\t\t\t\t\t'>:nth-last-child(5)':{'z-index':'5'},\r\n\t\t\t\t\t'>:nth-last-child(6)':{'z-index':'6'},\r\n\t\t\t\t\t'>:nth-last-child(7)':{'z-index':'7'},\r\n\t\t\t\t\t'>:nth-last-child(8)':{'z-index':'8'},\r\n\t\t\t\t\t'>:nth-last-child(9)':{'z-index':'9'},\r\n\t\t\t\t\t'>:nth-last-child(10)':{'z-index':'10'},\r\n\t\t\t\t\t'>:nth-last-child(11)':{'z-index':'11'},\r\n\t\t\t\t\t'>:nth-last-child(12)':{'z-index':'12'},\r\n\t\t\t\t\t'>:nth-last-child(13)':{'z-index':'13'},\r\n\t\t\t\t\t'>:nth-last-child(14)':{'z-index':'14'},\r\n\t\t\t\t\t'>:nth-last-child(15)':{'z-index':'15'},\r\n\t\t\t\t})('.onhover',{\r\n\t\t\t\t\t':hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t\t})('.onactive',{\r\n\t\t\t\t\t':active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t\t})('.childOnhover',{\r\n\t\t\t\t\t'>:hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t\t})('.childOnactive',{\r\n\t\t\t\t\t'>:active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t\t})('.relativeSquare',{\r\n\t\t\t\t\t'':{'width':'20vmin','height':'20vmin'},\r\n\t\t\t\t})('.fontTitle',{\r\n\t\t\t\t\t'':{'font-size':'20vmin'},\r\n\t\t\t\t})('.fontHead',{\r\n\t\t\t\t\t'':{'font-size':'10vmin'},\r\n\t\t\t\t})('.fontNormal',{\r\n\t\t\t\t\t'':{'font-size':'3vmin'},\r\n\t\t\t\t})('.scrollY',{\r\n\t\t\t\t\t'':{'overflow':'hidden scroll'},\r\n\t\t\t\t})('.scrollX',{\r\n\t\t\t\t\t'':{'overflow':'scroll hidden'},\r\n\t\t\t\t})('.scrollXY',{\r\n\t\t\t\t\t'':{'overflow':'scroll'},\r\n\t\t\t\t})('.scrollNone',{\r\n\t\t\t\t\t'':{'overflow':'hidden'},\r\n\t\t\t\t})('.centerCenter',{\r\n\t\t\t\t\t'':{\r\n\t\t\t\t\t\t'text-align':'justify',// 文本左右对齐方式\r\n\t\t\t\t\t\t'align-items':'center',// 子元素自垂直对齐\r\n\t\t\t\t\t\t'align-content':'center',// 元素左右对齐方式\r\n\t\t\t\t\t\t'vertical-align':'baseline',// 元素相对文字对齐\r\n\t\t\t\t\t\t'justify-content':'center',// 子元素水平对齐\r\n\t\t\t\t\t},\r\n\t\t\t\t})('.autoFull',{\r\n\t\t\t\t\t'':{'width':'100vmax','height':'100vmin'},\r\n\t\t\t\t})('.selfCenterCenter',{\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\t// 'align-self':'center',\r\n\t\t\t\t\t\t'left':'50%',\r\n\t\t\t\t\t\t'top':'50%',\r\n\t\t\t\t\t\t'transform':'translate(-50%,-50%)',\r\n\t\t\t\t\t},\r\n\t\t\t\t})._css.finally(),time=>log('Init defaultCSS\\nin '+RealNode.makeNumStr0oTail(time)+' ms.'))));\r\n\t\t\t};\r\n\t\t})();\r\n\t};\r\n\t{\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @typedef {{\r\n\t\t * resolve: (value)=>void;\r\n\t\t * reject: (reason?)=>void;\r\n\t\t * promise: Promise;\r\n\t\t * }} StoryPromise \r\n\t\t */\r\n\t\t/**@type {{()=>StoryPromise; new()=>StoryPromise;}} */\r\n\t\tconst StoryPromise = function(){\r\n\t\t\tif(null == this || this === globalThis) return new StoryPromise;\r\n\t\t\t/**@type {(value)=>void} */\r\n\t\t\tthis.resolve = null;\r\n\t\t\t/**@type {(reason?)=>void} */\r\n\t\t\tthis.reject = null;\r\n\t\t\treturn this.promise = new Promise((resolve,reject)=>{this.resolve = resolve;this.reject = reject;}),this;\r\n\t\t};\r\n\tvar RealStory = new class RealStory{\r\n\t\tnewPage(){return new RealStory(this);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {(page: RealStory)=>T} fn \r\n\t\t * @returns {Promise<T>}\r\n\t\t */\r\n\t\tnewPrivatePage(fn){return new Promise(r=>r(fn?.(this.newPage())));}\r\n\t\tthen(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;}\r\n\t\tgetNextPage(){\r\n\t\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\t\tconst temp = this.ofStory.pages;\r\n\t\t\treturn temp[temp.indexOf(this) + 1];\r\n\t\t}\r\n\t\tgetPreviousPage(){\r\n\t\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\t\tconst temp = this.ofStory.pages;\r\n\t\t\treturn temp[temp.indexOf(this) - 1];\r\n\t\t}\r\n\t\tnewPromiseObj(){\r\n\t\t\tconst temp = new StoryPromise;\r\n\t\t\treturn this.then(()=>temp.promise),temp;\r\n\t\t}\r\n\t\tasync launch(){\r\n\t\t\tvar i = 0,temp = this;\r\n\t\t\twhile((temp = temp.ofStory) instanceof RealStory) i++;\r\n\t\t\tconst bool = !i;\r\n\t\t\tif(bool) isBusy = true;\r\n\t\t\twhile(this.pages.length || this.fnList.length){\r\n\t\t\t\twhile(this.fnList.length) try{this.info = await this.fnList.pop()?.(this.info);}\r\n\t\t\t\tcatch(e){console.error('Depth of the fn : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t\t\ttry{await this.pages.shift()?.launch?.();}catch(e){console.error('Depth of the page : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t\t}if(bool) isBusy = false;\r\n\t\t}\r\n\t\tget StoryPromise(){return StoryPromise;}\r\n\t\tget index(){return this.ofStory instanceof RealStory ? this.ofStory.pages.indexOf(this) : -1;}\r\n\t\t/**@type {?RealStory} */\r\n\t\tofStory;\r\n\t\t/**@type {RealStory[]} */\r\n\t\tpages = [];\r\n\t\t/**@type {(()=>*)[]} */\r\n\t\tfnList = [];\r\n\t\tinfo;\r\n\t\tconstructor(ofStory){(this.ofStory = ofStory instanceof RealStory && ofStory) && ofStory.pages.push(this);}\r\n\t};\r\n\t\tlet isBusy = Reflect.getPrototypeOf(RealStory).constructor = false;\r\n\t\tRealWorld.onload.then(()=>Reflect.getPrototypeOf(RealStory).constructor = setInterval(()=>isBusy || RealStory.launch(),50));\r\n\t}\r\n\tvar RealPromise = new\r\n\t/**@template T */\r\n\tclass RealPromise{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {Promise<T> | T} promise \r\n\t\t */\r\n\t\tnewOne(promise){return new RealPromise(promise);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(reason)=>*} [onrejected] \r\n\t\t */\r\n\t\tcatch(onrejected){return this.self = Promise.resolve(this.self).catch(onrejected),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>void} [onfinally] \r\n\t\t */\r\n\t\tfinally(onfinally){return this.self = Promise.resolve(this.self).finally(onfinally),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U\r\n\t\t * @param {U} v \r\n\t\t */\r\n\t\t_push(v){return this.list.push(v),v;}\r\n\t\t/**\r\n\t\t * @throws \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\t_throw(e){throw this.list.push(e),e;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U\r\n\t\t * @template V\r\n\t\t * @param {(value: T)=>U} [onfulfilled] \r\n\t\t * @param {(reason)=>V} [onrejected] \r\n\t\t * @returns {RealPromise<U>}\r\n\t\t */\r\n\t\tthen(onfulfilled,onrejected){return this.self = Promise.resolve(this.self).then(onfulfilled,onrejected).then(this._push,this._throw),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U\r\n\t\t * @param {(v)=>U} handler \r\n\t\t * @param {(error: Error)=>void} [onerror] \r\n\t\t */\r\n\t\tasync tryHandler(handler,onerror){\r\n\t\t\tif(typeof handler !== 'function') throw new TypeError('\"handler\" must be Function !');\r\n\t\t\ttry{await this.self;}catch(e){console.error(this.length,e);}\r\n\t\t\tvar i = this.length;\r\n\t\t\twhile(i --> 0) try{try{return handler(await this.list[i]);}catch(e){(onerror ?? console.error)(e);}}catch(e){console.error(e);}\r\n\t\t}\r\n\t\tget require(){return RealPromise.require;}\r\n\t\tstatic require = (()=>{\r\n\t\t\t/**@this {Element} */\r\n\t\t\tfunction onfinally(){this.remove();}\r\n\t\t\tconst pathSet = {},tempReg = /[^\\/]+\\/\\.\\.\\//g;\r\n\t\t\treturn nodeMode ? /**@this {RealPromise} */\r\n\t\t\tfunction(path){return this instanceof RealPromise && this._push(Promise.resolve(nodeRequire(String(path))));} :\r\n\t\t\tbrowserMode ? /**@type {(path: String)=>Promise<*,Error | ErrorEvent | void>}@this {RealPromise} */\r\n\t\t\tfunction(path){\r\n\t\t\t\tvar temp,script;\r\n\t\t\t\tpath = String(path).replaceAll('\\\\','/');\r\n\t\t\t\tif(this instanceof RealPromise) while(tempReg.test(path)) path = path.replaceAll(tempReg,'');else return Promise.reject();\r\n\t\t\t\treturn pathSet[path] || (pathSet[path] = (temp = RealStory.StoryPromise(),document.head.appendChild((\r\n\t\t\t\t\tscript = document.createElement('script'),script.onload = temp.resolve,script.onerror = temp.reject,script.src = path,script\r\n\t\t\t\t)),this._push(temp.promise.finally(onfinally.bind(script)))));\r\n\t\t\t} : function(){return Promise.reject(new Error('Mode error !'));};\r\n\t\t})();\r\n\t\tget length(){return this.list.length;}\r\n\t\tlist = [];\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @param {Promise<T> | T} promise \r\n\t\t */\r\n\t\tconstructor(promise){\r\n\t\t\t/**@type {Promise<T>} */\r\n\t\t\tthis.self = Promise.resolve(promise).then(this._push = v=>(this.list.push(v),v),this._throw = e=>{throw this.list.push(e),e;});\r\n\t\t\tReflect.defineProperty(this,'list',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'_push',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'_throw',tempConfig);\r\n\t\t}\r\n\t}(RealWorld.onload.then(()=>EXPORTS));\r\n\tRealPromise.self.finally(()=>RealNode.time(RealWorld.onload,time=>log('Set up\\nin '+RealNode.makeNumStr0oTail(time)+' ms.')));\r\n\r\nif(browserMode){\r\n\r\n\tvar RealCanvas = class RealCanvas extends RealElement{\r\n\t\t/**\r\n\t\t * @typedef {AntiTarget & {\r\n\t\t * self: HTMLCanvasElement;\r\n\t\t * temp: CanvasRenderingContext2D;\r\n\t\t * backup: CanvasRenderingContext2D;\r\n\t\t * img: HTMLImageElement;\r\n\t\t * clearBeforeDraw: Boolean;\r\n\t\t * ctx: CanvasRenderingContext2D;\r\n\t\t * }} AntiCanvas \r\n\t\t * */\r\n\t\tstatic proto = class AntiCanvas extends RealTarget.proto{\r\n\t\t\ttemp = document.createElement('canvas').getContext('2d');\r\n\t\t\tbackup = document.createElement('canvas').getContext('2d');\r\n\t\t\timg = new Image;\r\n\t\t\tisElement = true;\r\n\t\t\tclearBeforeDraw = true;\r\n\t\t\t/**@type {CanvasRenderingContext2D} */\r\n\t\t\tctx;\r\n\t\t}\r\n\t\tstatic useCache = true;\r\n\t\t/**@type {Map<String,HTMLImageElement>} */\r\n\t\tstatic srcImageMap = new Map;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} n \r\n\t\t * @param {Number} length \r\n\t\t */\r\n\t\tstatic strN(n,length){return String(n).padStart(length,'0');}\r\n\t\tstatic preloadSrc(...srcArray){\r\n\t\t\tfor(var temp = emptyArray.concat(...srcArray),i = temp.length;i --> 0;) temp[i] = RealCanvas.getImageBySrc(temp[i]);\r\n\t\t\treturn Promise.allSettled(temp);\r\n\t\t}\r\n\t\t// /**@method @type {(src)=>Promise<HTMLImageElement>} */\r\n\t\t// static getImageBySrc(src){return new Promise((resolve,reject)=>{\r\n\t\t// \tconst temp = RealCanvas.srcImageMap.get(src) ?? new Image;\r\n\t\t// \ttemp.src ? resolve(temp) : src && typeof src === 'string' && !(RealCanvas.useCache && RealCanvas.srcImageMap.has(src)) ?\r\n\t\t// \t(temp.onload = ()=>(\r\n\t\t// \t\tRealCanvas.srcImageMap.set(src,temp),temp.onload = temp.onerror = resolve(temp)\r\n\t\t// \t),temp.onerror = reject,temp.src = src,temp) : reject();\r\n\t\t// })};\r\n\t\t/**@method @type {(src)=>Promise<HTMLImageElement>} */\r\n\t\tstatic getImageBySrc = (()=>{\r\n\t\t\t/**\r\n\t\t\t * ### bind\r\n\t\t\t * @param {String} src \r\n\t\t\t * @param {(value)=>void} resolve \r\n\t\t\t * @param {(reason?)=>void} reject \r\n\t\t\t */\r\n\t\t\tfunction dealWithSrc(src,resolve,reject){\r\n\t\t\t\tconst temp = RealCanvas.srcImageMap.get(src) ?? new Image;\r\n\t\t\t\ttemp.src ? resolve(temp) : src && typeof src === 'string' && !(RealCanvas.useCache && RealCanvas.srcImageMap.has(src)) ?\r\n\t\t\t\t(temp.onload = ()=>(\r\n\t\t\t\t \tRealCanvas.srcImageMap.set(src,temp),temp.onload = temp.onerror = resolve(temp)\r\n\t\t\t\t),temp.onerror = reject,temp.src = src,temp) : reject();\r\n\t\t\t}\r\n\t\t\treturn src=>new Promise((resolve,reject)=>dealWithSrc(src,resolve,reject));\r\n\t\t})();\r\n\t\tstatic getRealGroupToClear = (()=>{\r\n\t\t\tclass ConfigToClearShape{x = 0;y = 0;radiusX;radiusY;shape;relative;}\r\n\t\t\t/**\r\n\t\t\t * ### bind\r\n\t\t\t * @template {RealCanvas} T \r\n\t\t\t * @param {T} realCanvas \r\n\t\t\t * @param {{initFn?: ()=>void;fnBeforeClear?: (this: T)=>void;fnAfterClear?: (this: T)=>void;}} [param1] \r\n\t\t\t */\r\n\t\t\treturn function getRealGroupToClear(realCanvas,{initFn,fnBeforeClear,fnAfterClear} = emptyObj){\r\n\t\t\t\tif(!(realCanvas instanceof RealCanvas)) throw new Error('=> \"realCanvas\" must be instanceof RealCanvas !');\r\n\t\t\t\tif(typeof fnAfterClear === 'function') fnAfterClear = ()=>fnAfterClear.call(realCanvas);\r\n\t\t\t\tif(typeof fnBeforeClear === 'function') fnBeforeClear = ()=>fnBeforeClear.call(realCanvas);\r\n\t\t\t\tconst config = new ConfigToClearShape,temp = new RealGroup({self: config});\r\n\t\t\t\treturn temp.addSetterListener(null,async()=>{\r\n\t\t\t\t\tawait Promise.resolve(realCanvas.loaded).then(fnBeforeClear);\r\n\t\t\t\t\tawait realCanvas.clearShape(config,config.shape).then(fnAfterClear);\r\n\t\t\t\t}),realCanvas.loaded.finally(initFn),temp;\r\n\t\t\t};\r\n\t\t})();\r\n\t\tprotoTransform(){}\r\n\t\tprotoGet(){return this.loaded.then(()=>this.proto.value);}\r\n\t\tclearAsync(){return this.loaded = Promise.resolve(this.loaded).then(()=>this.clear());}\r\n\t\tfix(imgOrCanvas = this.proto.temp.canvas){(this.proto.clearBeforeDraw ? this.clear() : this.proto.ctx).drawImage(imgOrCanvas,0,0);}\r\n\t\t/**### bind @returns {Promise<PromiseSettledResult<HTMLImageElement>[]>} */\r\n\t\tpreloadSrc(...srcArray){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.preloadSrc(...srcArray));}\r\n\t\tclear(){return this.proto.ctx.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.ctx.closePath(),this.proto.ctx;}\r\n\t\tclearTemp(){return this.proto.temp.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.temp.closePath(),this.proto.temp;}\r\n\t\t/**### bind */\r\n\t\ttestSrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(()=>true,e=>this.rejectSrc(src,e));}\r\n\t\t/**### bind */\r\n\t\trejectSrc(src,error){return src && console.error(error instanceof Error ? error : (\r\n\t\t\tRealCanvas.useCache && error && RealCanvas.srcImageMap.set(src),this+': Fail to load by src \"'+src+'\" !'\r\n\t\t)),false;}\r\n\t\t/**### bind */\r\n\t\tprotoSet(src){\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).\r\n\t\t\tthen(img=>(this.proto.img = img,this.proto.value = src,true),e=>this.rejectSrc(src,e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Promise<Blob>}\r\n\t\t */\r\n\t\ttoBlob(){try{return RealWorld.cb2promise({thisArg: this.self,useFn: 'toBlob'}).then(\r\n\t\t\tresult=>(result[0] instanceof Error ? (console.error(result[0]),new Blob) : result[0])\r\n\t\t);}catch(e){return console.error(e),Promise.resolve(new Blob);}}\r\n\t\tresizeBySrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(img=>{\r\n\t\t\tif(this.self.width !== img.naturalWidth) this.width = img.naturalWidth;\r\n\t\t\tif(this.self.height !== img.naturalHeight) this.height = img.naturalHeight;\r\n\t\t});}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Promise<Boolean>}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){\r\n\t\t\tvar temp;\r\n\t\t\treturn this.loaded = Array.isArray(value) ? this.multiDrawSrcArray({},...value).then(()=>{this.proto.value = value;}) :\r\n\t\t\tPromise.resolve(this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true).then(v=>v && (this.fix(this.img),react && this.react?.(),notify && this.notify(noSelf),true)).catch(e=>(console.error(e),e));\r\n\t\t}\r\n\t\tmultiDrawSrcArray({bgSrc,autoOpacity,resize},...srcArray){\r\n\t\t\tthis.preloadSrc(bgSrc,srcArray);\r\n\t\t\tvar i = -1,temp = bgSrc ?? srcArray[0] ?? false;\r\n\t\t\tresize && temp && this.resizeBySrc(temp);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>this.clearTemp());\r\n\t\t\tif(Array.isArray(bgSrc)){for(temp = bgSrc.length;temp >++ i;) this.temp = bgSrc[i];}\r\n\t\t\telse bgSrc && typeof bgSrc === 'string' && (this.temp = bgSrc);\r\n\t\t\tif(srcArray.length > 1 && autoOpacity){\r\n\t\t\t\tfor(i = srcArray.length,temp = 0;i --> 0;) this.tempOpacity = .625 ** i,this.temp = srcArray[temp++];\r\n\t\t\t}else for(i = -1,temp = srcArray.length;temp >++ i;) this.temp = srcArray[i];\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{this.fix(this.proto.temp.canvas);},e=>log(e?.stack ?? e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t\t * @param {'rect' | 'circle'} [shape] \r\n\t\t */\r\n\t\tapplyMouseClear({radiusX,radiusY,relative} = emptyObj,shape){\r\n\t\t\tconst self = this.proto.self,backup = this.proto.backup,nowStyle = getComputedStyle(self);\r\n\t\t\tconst mouseenter = ()=>(backup.canvas.width = self.width,backup.canvas.height = self.height,backup.drawImage(self,0,0)),\r\n\t\t\t/**@type {(e: MouseEvent)=>Promise<void>} */\r\n\t\t\tmousemove = e=>(mouseleave(),this.clearShape({\r\n\t\t\t\tx: e.offsetX * self.width / +nowStyle.width.slice(0,-2),\r\n\t\t\t\ty: e.offsetY * self.height / +nowStyle.height.slice(0,-2),\r\n\t\t\t\tradiusX,radiusY,relative\r\n\t\t\t},shape)),mouseleave = ()=>this.clear().drawImage(backup.canvas,0,0),\r\n\t\t\t/**## 唯一可以取消该功能的函数 */\r\n\t\t\tcancelMouseClear = ()=>(\r\n\t\t\t\tself.removeEventListener('mouseenter',mouseenter),\r\n\t\t\t\tself.removeEventListener('mouseleave',mouseleave),\r\n\t\t\t\tself.removeEventListener('mousemove',mousemove)\r\n\t\t\t);\r\n\t\t\tself.addEventListener('mouseenter',mouseenter),self.addEventListener('mouseleave',mouseleave),self.addEventListener('mousemove',mousemove);\r\n\t\t\treturn cancelMouseClear;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{x: Number;y: Number;radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t\t * @param {'rect' | 'circle'} [shape] \r\n\t\t */\r\n\t\tclearShape({x = 0,y = 0,radiusX,radiusY,relative} = emptyObj,shape){\r\n\t\t\tvar failed = false;\r\n\t\t\ttypeof radiusX === 'number' ? typeof radiusY === 'number' || (radiusY = radiusX) :\r\n\t\t\ttypeof radiusY === 'number' ? radiusX = radiusY : failed = true;\r\n\t\t\tfailed || (failed = !Number.isFinite(radiusX + radiusY));\r\n\t\t\tif(failed) return Promise.reject(new Error('\"radiusX\": '+String(radiusX)+' or \"radiusY\": '+String(radiusY)+' must be legal number !'));\r\n\t\t\tif(typeof x !== 'number') x = 0;if(typeof y !== 'number') y = 0;\r\n\t\t\tfailed || (failed = !Number.isFinite(x + y));\r\n\t\t\tif(failed) return Promise.reject(new Error('\"x\": '+String(x)+' or \"y\": '+String(y)+' must be legal number !'));\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{\r\n\t\t\t\tconst self = this.proto.self,temp = this.proto.temp;\r\n\t\t\t\tvar i = 0,j;\r\n\t\t\t\tradiusX = Math.abs(relative ? radiusX * this.width / 2 : radiusX);\r\n\t\t\t\tradiusY = Math.abs(relative ? radiusY * this.height / 2 : radiusY);\r\n\t\t\t\ttemp.canvas.width = self.width,temp.canvas.height = self.height;\r\n\t\t\t\ttemp.drawImage(self,0,0);\r\n\t\t\t\tswitch(shape){\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tx = Math.round(x),y = Math.round(y),radiusX = Math.ceil(radiusX),radiusY = Math.ceil(radiusY);\r\n\t\t\t\t\t\tconst yPOW2 = radiusY ** 2,yDIVxPOW2 = yPOW2 / radiusX ** 2;\r\n\t\t\t\t\t\twhile(i ++< radiusX) j = Math.floor(Math.sqrt(yPOW2 - i ** 2 * yDIVxPOW2)) + 1,temp.clearRect(x - i,y - j,i * 2,j * 2);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'rect': {\r\n\t\t\t\t\t\ttemp.clearRect(Math.floor(x - radiusX),Math.floor(y - radiusY),Math.ceil(radiusX * 2),Math.ceil(radiusY * 2));\r\n\t\t\t\t\t\tthis.clear().drawImage(temp.canvas,0,0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}this.clear().drawImage(temp.canvas,0,0);\r\n\t\t\t}).catch(e=>console.error(e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{\r\n\t\t * prefix: String; suffix: String; startN: Number; length: Number; midLength?: Number;\r\n\t\t * bgSrc?: String; playMode?: 0 | 1 | 2 | 3; timeSep?: Number; sizeMode?: 'std' | 'auto';\r\n\t\t * resizeAfter?: Boolean;\r\n\t\t * }} param0 \r\n\t\t * @returns {{loaded: Promise<void>,finished: Promise<void>}}\r\n\t\t */\r\n\t\tanimate({\r\n\t\t\tprefix,suffix,startN = 0,length,midLength,\r\n\t\t\tbgSrc,playMode = 0,timeSep = 100,sizeMode = 'std',resizeAfter = true,\r\n\t\t} = emptyObj){\r\n\t\t\tconst size = {width: this.width,height: this.height},config = '1235',srcArr = [];\r\n\t\t\tvar i = startN + length + playMode;\r\n\t\t\tlength *= config[playMode] || 1;\r\n\t\t\ttimeSep /= config[playMode] || 1;\r\n\t\t\twhile(i --> startN) srcArr.push(prefix+RealCanvas.strN(i,midLength)+suffix);\r\n\t\t\treturn this.preloadSrc(srcArr),i = 0,{loaded: this.loaded,finished: this.loaded.then(()=>{\r\n\t\t\t\tvar resize;\r\n\t\t\t\t/**@type {RealWorld} */\r\n\t\t\t\tconst temp = new RealWorld(timeSep);\r\n\t\t\t\tswitch(sizeMode){\r\n\t\t\t\t\tcase 'auto': resize = true;break;\r\n\t\t\t\t}\r\n\t\t\t\tswitch(playMode){\r\n\t\t\t\t\tdefault: while(length --> 0) temp.then(this.multiDrawSrcArray,this,{bgSrc,resize},prefix+RealCanvas.strN(startN++,midLength)+suffix);\r\n\t\t\t\t\tcase 1:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t(i = !i) || prefix+RealCanvas.strN(startN++,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\tprefix+RealCanvas.strN(startN,midLength)+suffix\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 2:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 2 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t),3 ===++ i && (startN++,i %= 3);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 3:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\t// this.multiDrawSrcArray,this,{bgSrc,autoOpacity: true},\r\n\t\t\t\t\t\t\t// 3 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 0 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t\t// 2 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 1 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t\t// 2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 4 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t2 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 3 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t3 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 2 < i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t),5 ===++ i && (startN++,i %= 5);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn temp.then(()=>(this.clearTemp(),resizeAfter && Object.assign(this,size),temp.destroy()));\r\n\t\t\t})};\r\n\t\t}\r\n\t\tget ctx(){return this.proto.ctx;}\r\n\t\tget img(){return this.proto.img;}\r\n\t\tget imgW(){return this.proto.img.naturalWidth;}\r\n\t\tget imgH(){return this.proto.img.naturalHeight;}\r\n\t\tget width(){return this.proto.self.width;}\r\n\t\tset width(width){this.proto.self.width = this.proto.temp.canvas.width = width ?? 640;}\r\n\t\tget height(){return this.proto.self.height;}\r\n\t\tset height(height){this.proto.self.height = this.proto.temp.canvas.height = height ?? 360;}\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){if(self instanceof HTMLCanvasElement) this.proto.ctx = (this.proto.self = self).getContext('2d');}\r\n\t\tget clearBeforeDraw(){return this.loaded.then(()=>this.proto.clearBeforeDraw);}\r\n\t\tset clearBeforeDraw(clearBeforeDraw){this.loaded = Promise.resolve(this.loaded).then(()=>this.proto.clearBeforeDraw = clearBeforeDraw);}\r\n\t\tget temp(){return this.proto.temp.canvas;}\r\n\t\t/**### bind */\r\n\t\tset temp(src){return this.proto.set.call(this,src).then(()=>(this.proto.temp.drawImage(this.img,0,0),true),e=>this.rejectSrc(src,e));}\r\n\t\tget opacity(){return this.loaded.then(()=>this.proto.ctx.globalAlpha);}\r\n\t\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\t\tset opacity(opacityConfig){\r\n\t\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\t\tthen(value=>{this.proto.ctx.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t\t}\r\n\t\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\t\tset tempOpacity(opacityConfig){\r\n\t\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\t\tthen(value=>{this.proto.temp.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t\t}\r\n\t\tloaded = RealNode.now;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {Number} [width] \r\n\t\t * @param {Number} [height] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {...RealNode} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor(id,width,height,tryRealNode,...relativeRNs){\r\n\t\t\tvar temp;temp = id;\r\n\t\t\tconst self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tself && self instanceof HTMLCanvasElement &&\r\n\t\t\tRealNode.error('=> \"id\" exists but not within an HTMLCanvasElement !');\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\ttemp = {id};\r\n\t\t\tsuper({self: self || RealElement.newXHTML('canvas',temp)},temp,tryRealNode,...relativeRNs);\r\n\t\t\t/**@type {AntiCanvas} */\r\n\t\t\tthis.proto;\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\t\t\tthis.proto.ctx = this.proto.self.getContext('2d');\r\n\t\t}\r\n\t};\r\n\tvar RealLoader =\r\n\t/** @template {Boolean} T */\r\n\tclass RealLoader extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {onerror: null | (error: Error)=>void,onloadend: null | (n: Number)=>void}} AntiLoader */\r\n\t\tstatic proto = class AntiLoader extends RealTarget.proto{\r\n\t\t\t/**@type {null | (error: Error)=>void} */\r\n\t\t\tonerror;\r\n\t\t\t/**@type {null | (this: RealLoader)=>void} */\r\n\t\t\tonloadend;\r\n\t\t};\r\n\t\tstatic fs = (()=>{\r\n\t\t\tconst initHEAD = {method: 'HEAD'},onfulfilled = r=>[,r],onrejected = e=>[e];\r\n\t\t\tclass DocumentFs{get stat(){return DocumentFs.stat;}get readdir(){return DocumentFs.readdir;}}\r\n\t\t\t\t/**@type {(path: string | URL | Request,init?: RequestInit)=>[?Error,?Response]} */\r\n\t\t\tDocumentFs.fetch = (()=>{\r\n\t\t\t\t/**\r\n\t\t\t\t * \r\n\t\t\t\t * @template {Response} T\r\n\t\t\t\t * @param {T} response \r\n\t\t\t\t */\r\n\t\t\t\tconst temp = response=>response.status < 300 ? response : RealLoader.error('Failed request !');\r\n\t\t\t\treturn browserMode && document.location.protocol === 'file:' ?\r\n\t\t\t\t(path,init)=>fetch(path,(init = Object.assign({},init),init.mode = 'no-cors',init)).then(temp) :\r\n\t\t\t\t(path,init)=>fetch(path,Object(init)).then(temp);\r\n\t\t\t})();\r\n\t\t\t/**@type {(path: String)=>Promise<[Error | null,Stats | Response]>} */\r\n\t\t\tDocumentFs.stat = nodeMode ? (async (path)=>RealWorld.cb2promise({thisArg: await nodeFS,useFn: 'stat'},path)) :\r\n\t\t\t(path=>DocumentFs.fetch(path,initHEAD).then(onfulfilled,onrejected));\r\n\t\t\t/**@type {(path: String,...strArgs: (String | String[])[])=>Promise<[Error | null,String[]]>} */\r\n\t\t\tDocumentFs.readdir = nodeMode ?\r\n\t\t\t(async (path)=>RealWorld.cb2promise({thisArg: await nodeFS,useFn: 'readdir'},path)) :\r\n\t\t\t(async (path,...strArgs)=>{try{\r\n\t\t\t\tconst length = strArgs.length;\r\n\t\t\t\tvar i = length,fileName;\r\n\t\t\t\t/\\/$/.test(path) || (path += '/');\r\n\t\t\t\tiLoop: while(i --> 0){\r\n\t\t\t\t\tif(Array.isArray(strArgs[i])){\r\n\t\t\t\t\t\tfor(fileName = strArgs[i].length;fileName --> 0;) strArgs[i][fileName] = String(strArgs[i][fileName]);\r\n\t\t\t\t\t\tcontinue iLoop;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst str = String(strArgs[i]);\r\n\t\t\t\t\tif('\\\\' === str[0]) switch(str[1]){\r\n\t\t\t\t\t\tcase 'w': strArgs[i] = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';break;\r\n\t\t\t\t\t\tcase 'd': strArgs[i] = '0123456789';break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse strArgs[i] = [str];\r\n\t\t\t\t}\r\n\t\t\t\tconst statList = [],testFileNameList = [],fileNameList = [];\r\n\t\t\t\tfor(const temp = Array(length).fill(0);!('-1' in temp);){\r\n\t\t\t\t\tfileName = '';\r\n\t\t\t\t\tfor(i = 0;i < length;i++) fileName+=strArgs[i][temp[i]];\r\n\t\t\t\t\ttestFileNameList.push(fileName),fileName = path+fileName,statList.push(DocumentFs.stat(fileName));\r\n\t\t\t\t\t// log(fileName);\r\n\t\t\t\t\tfor(temp[(i = length) - 1]++;i --> 0;) strArgs[i].length > temp[i] || (temp[i] = 0,temp[i - 1]++);\r\n\t\t\t\t}\r\n\t\t\t\tconst resultList = await Promise.all(statList),limit = resultList.length;\r\n\t\t\t\tfor(i = 0;i < limit;i++) resultList[i][0] ?? log(fileNameList.push(testFileNameList[i]),testFileNameList[i]);\r\n\t\t\t\treturn [null,fileNameList];\r\n\t\t\t}catch(e){return [e,[]];}});\r\n\t\t\treturn new DocumentFs;\r\n\t\t})();\r\n\t\tstatic _configDescriptor = (browserMode && addEventListener('click',async e=>{\r\n\t\t\tif(e.target.classList.contains('RealLoader')) for(const temp of RealTarget.searchByObj(e.target)) if(temp instanceof RealLoader){\r\n\t\t\t\ttry{const err = (await RealLoader.load(temp))[0];err ? temp.onerror?.(err) : temp.onloadend?.();}catch(e){console.error(e);}\r\n\t\t\t\ttemp.notify(true);\r\n\t\t\t\ttemp.react?.();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}),{writable: false,enumerable: false,configurable: false});\r\n\t\tstatic getArrayBufferFrom(data){return Promise.resolve(\r\n\t\t\tdata instanceof ArrayBuffer ? data : ArrayBuffer.isView(data) ? data.buffer :\r\n\t\t\tdata instanceof Blob ? data.arrayBuffer() : new Blob(Array.isArray(data) ? data.join('') : String(data)).arrayBuffer()\r\n\t\t);}\r\n\t\t/**@type {(realLoader: RealLoader)=>Promise<[Error | null,Number | undefined]>} @method */\r\n\t\tstatic load = (\r\n\t\t\tnodeMode ? (async (realLoader)=>{try{\r\n\t\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[];\r\n\t\t\t\t}\r\n\t\t\t\tconst fs = await nodeFS;\r\n\t\t\t\tconst data = await realLoader.dataGetter();\r\n\t\t\t\tconst {1: prefix = 'file',2: suffix = ''} = /(.+)(\\..+)/.exec(realLoader.temp.download) || emptyArray;\r\n\t\t\t\tconst result = await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},'./'+realLoader.temp.download);\r\n\t\t\t\tif(!result) this.error('Unknown Error !');\r\n\t\t\t\tif(result[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},'./'+realLoader.temp.download,Buffer.from(ab)));\r\n\t\t\t\tfor(var i = 1;true;i++){\r\n\t\t\t\t\tconst path = './'+prefix+' - '+i+suffix;\r\n\t\t\t\t\tif((await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},path))[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},path,Buffer.from(ab)));\r\n\t\t\t\t}\r\n\t\t\t}catch(e){return [e];}}) :\r\n\t\t\t(()=>{\r\n\t\t\t\tconst toBlob = data=>new Blob(data);\r\n\t\t\t\treturn async (realLoader)=>{try{\r\n\t\t\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst data = await realLoader.dataGetter();\r\n\t\t\t\t\tconst href = URL.createObjectURL(await(\r\n\t\t\t\t\t\ttypeof data === 'string' ? new Blob([data]) : data instanceof Blob ? data : RealLoader.getArrayBufferFrom(data).then(toBlob)\r\n\t\t\t\t\t));\r\n\t\t\t\t\treturn realLoader.temp.href = href,realLoader.temp.click(),URL.revokeObjectURL(href),[];\r\n\t\t\t\t}catch(e){return [e];}}\r\n\t\t\t})()\r\n\t\t);\r\n\t\tload(){return RealLoader.load(this);}\r\n\t\tprotoSet(value){return this.self[this.key] = String(value),false;}\r\n\t\t/**@type {(this: RealLoader<false>)=>FileList} */\r\n\t\tget files(){return 'upload' === this.type ? this.temp.files : this.error('I\\'m an downloader without files !');}\r\n\t\tget onerror(){return this.proto.onerror;}\r\n\t\tset onerror(onerror){this.proto.onerror = typeof onerror === 'function' ? onerror : null;}\r\n\t\tget onloadend(){return this.proto.onloadend;}\r\n\t\tset onloadend(onloadend){this.proto.onloadend = typeof onloadend === 'function' ? onloadend : null;}\r\n\t\t/**@this {RealLoader<true>} */\r\n\t\tget fileName(){return 'upload' === this.type ? this.error('Uploader bans \"fileName\" !') : this.temp.download;}\r\n\t\t/**@this {RealLoader<true>} */\r\n\t\tset fileName(fileName){\r\n\t\t\t'upload' === this.type && this.error('Uploader bans \"fileName\" !');\r\n\t\t\ttypeof fileName === 'symbol' && this.error('\"fileName\" must be String but not Symbol !');\r\n\t\t\tif(nodeMode && !/^\\.\\//.test(fileName)) fileName = './'+fileName;\r\n\t\t\tthis.temp.download = fileName;\r\n\t\t}\r\n\t\t/**@type {()=>*} */\r\n\t\tdataGetter;\r\n\t\t// /**@type {Promise<Buffer | String>} */\r\n\t\t// data;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {T} isDownload \r\n\t\t * @param {String} fileName \r\n\t\t * @param {()=>*} dataGetter \r\n\t\t * @param {{innerHTML?: String;onerror?: (e)=>void;onloadend?: (this: RealLoader)=>void;}} param3 \r\n\t\t */\r\n\t\tconstructor(isDownload,fileName,dataGetter,{innerHTML,onerror,onloadend} = emptyObj){\r\n\t\t\tsuper({self: document.createElement('div'),key: 'innerHTML'});\r\n\t\t\t/**@type {AntiLoader} */\r\n\t\t\tthis.proto;\r\n\t\t\tthis.onerror = onerror;\r\n\t\t\tthis.onloadend = onloadend;\r\n\t\t\tthis.dataGetter = dataGetter;\r\n\t\t\tthis.value = innerHTML;\r\n\t\t\tisDownload = Boolean(isDownload);\r\n\t\t\t/**@type {T extends true ? HTMLAnchorElement : HTMLInputElement} */\r\n\t\t\tthis.temp = document.createElement(isDownload ? 'a' : 'input');\r\n\t\t\tReflect.defineProperty(this,'temp',RealLoader._configDescriptor);\r\n\t\t\t/**@type {T extends true ? 'download' : 'upload'} */\r\n\t\t\tthis.type = isDownload ? (this.fileName = fileName || 'file','download') : (this.temp.type = 'file','upload');\r\n\t\t\tReflect.defineProperty(this,'type',RealLoader._configDescriptor);\r\n\t\t}\r\n\t};\r\n\tvar RealSelect = class RealSelect extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {list: HTMLOptionElement[]}} AntiSelect */\r\n\t\tstatic proto = class AntiSelect extends RealTarget.proto{\r\n\t\t\t/**@type {HTMLOptionElement[]} */\r\n\t\t\tlist = [];\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealSelect}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value,i;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value){\r\n\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\tfix:for(const key of Object.keys(value)) if(key !== position[0]) i++;else{\r\n\t\t\t\t\t\t\tthis.proto.list[i].value = String(tempValue);\r\n\t\t\t\t\t\t\tbreak fix;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealSelect) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{[text: String]: String}} value \r\n\t\t */\r\n\t\tprotoSet(value){return this.proto.value = Object.assign({},value),true;}\r\n\t\tfix(){\r\n\t\t\tthis.self[this.key] = this.protoTransform(this.proto.value);\r\n\t\t\tthis.proto.list = Array.from(this.self.children);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tgetValueIndexs(){\r\n\t\t\tvar i = this.proto.list.length,temp = [];\r\n\t\t\twhile(i --> 0) this.proto.list[i].selected && temp.push(i);\r\n\t\t\treturn temp.reverse();\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {String[]}\r\n\t\t */\r\n\t\tprotoGet(){\r\n\t\t\tconst valueArray = [],list = this.proto.list,end = list.length;\r\n\t\t\tfor(var i = 0;i < end;i++){list[i].selected && valueArray.push(list[i].value);}\r\n\t\t\treturn valueArray;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {*[]} value \r\n\t\t */\r\n\t\tprotoTransform(value,defaultKey = String(this.defaultKey),defaultValue = String(this.defaultValue)){\r\n\t\t\tvar now;\r\n\t\t\tif(this instanceof RealSelect && !this.self.multiple) value = Object.assign({[defaultKey]: defaultValue},value);\r\n\t\t\tconst innerHTML = [],iterator = Object.entries(value).sort((a,b)=>a[0].localeCompare(b[0])).sort((a,b)=>a[0] - b[0]).values();\r\n\t\t\twhile(!(now = iterator.next()).done)\r\n\t\t\t\tinnerHTML.push(`<option value=\"${String(now.value[1])}\" ${now.value[0] === defaultKey ? 'selected' : ''}>${now.value[0]}</option>`);\r\n\t\t\treturn innerHTML.join('');\r\n\t\t}\r\n\t\t/**@returns {Element[]} */\r\n\t\tget list(){return this.proto.list;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {Boolean} multiple \r\n\t\t * @param {{[text: String]: String}} optionConfig \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {String} [defaultKey] \r\n\t\t * @param {String} [defaultValue] \r\n\t\t * @param {(e: Event)=>void} [onchange] \r\n\t\t */\r\n\t\tconstructor(id,multiple,optionConfig,tryRealNode,defaultKey,defaultValue,onchange){\r\n\t\t\tconst temp = id,self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tif(self) self instanceof HTMLSelectElement ? Object.assign(self,{multiple,onchange}) :\r\n\t\t\tRealNode.error('=> \"id\" exists but not within an HTMLSelectElement !');\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({\r\n\t\t\t\tkey: 'innerHTML',self: self || RealElement.newXHTML('select',{id,multiple,onchange})\r\n\t\t\t},{id,initValue: Object.assign({},optionConfig)},tryRealNode);\r\n\t\t\t/**@type {AntiSelect} */this.proto;\r\n\t\t\tthis.defaultKey = defaultKey ?? '_';\r\n\t\t\tthis.defaultValue = defaultValue ?? '';\r\n\t\t\tthis.fix();\r\n\t\t}\r\n\t};\r\n\tvar RealComtag = class RealComtag extends RealElement{\r\n\t\t/**@type {Map<String,[*[],Boolean,HTMLDivElement,((this: RealComtag)=>void) | null]>} */\r\n\t\tstatic comtagClassMap = new Map;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} className \r\n\t\t * @param {{\r\n\t\t * optionList?: [];\r\n\t\t * tryRealNode?: Boolean;\r\n\t\t * selfAssign?: HTMLDivElement;\r\n\t\t * cssRuleObjObj?: {[selector: String]: {[styleName: String]: String}};\r\n\t\t * callback?: (this: RealDivList)=>void;\r\n\t\t * }} config \r\n\t\t */\r\n\t\tstatic defineComtagClass(className,config){\r\n\t\t\tconst {optionList = [],tryRealNode,selfAssign,cssRuleObjObj,callback} = config || emptyObj;\r\n\t\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\t\tthis.comtagClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\t\tthis.comtagClassMap.set(className,[optionList,tryRealNode,selfAssign,typeof callback === 'function' ? callback : null]);\r\n\t\t}\r\n\t\tstatic createByClassName(className,...argArray){Comtag\r\n\t\t\tconst config = this.comtagClassMap.get(className);\r\n\t\t\tconfig || this.error('\"className\" not found !');\r\n\t\t\tconst temp = new RealComtag('',config[0],config[1],config[2]);\r\n\t\t\treturn config[3] && config[3].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t\t}\r\n\t\tprotoTransform(value){return RealElement.newElements('',value,true);}\r\n\t\tfix(){return this.self.innerHTML = '',this.self.appendChild(this.transform(this.proto.value)),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Array !');\r\n\t\t\t/**@type {[IteratorYieldResult<String>,IteratorYieldResult<String>]} */\r\n\t\t\tconst temp = Array(2),iter1 = tryYieldKey(value,'tagName',''),iter0 = tryYieldKey(this.proto.value,'tagName','');\r\n\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)) if(temp[0].done) break;\r\n\t\t\telse if(temp[0].value.toLowerCase() !== temp[1].value.toLowerCase()) return this.proto.value = Array.from(value),true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {String[]} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,optionList,tryRealNode,selfAssign){\r\n\t\t\tconst temp = id,self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({self: self || RealElement.newXHTML('div',selfAssign)},{\r\n\t\t\t\tid,initValue: optionList?.[Symbol.iterator] ? Array.from(optionList) : []\r\n\t\t\t},tryRealNode);\r\n\t\t\tthis.fix().proto.self.id = id;\r\n\t\t}\r\n\t};\r\n\tvar RealSVG = class RealSVG extends RealComtag{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {Boolean | Node | []} T\r\n\t\t * @param {String[]} hrefList \r\n\t\t * @param {T} [toDocumentFragment] \r\n\t\t * @returns {T extends true ? DocumentFragment : SVGImageElement[]}\r\n\t\t */\r\n\t\tstatic newImages(hrefList,toDocumentFragment){\r\n\t\t\tconst iter = hrefList[Symbol.iterator]();\r\n\t\t\tif(toDocumentFragment) for(hrefList of (toDocumentFragment = new DocumentFragment(),iter)) try{\r\n\t\t\t\ttoDocumentFragment.appendChild(document.createElementNS('http://www.w3.org/2000/svg','image')).href.baseVal = String(hrefList);\r\n\t\t\t}catch(e){console.error(e);}\r\n\t\t\telse for(hrefList of (toDocumentFragment = [],iter)) try{\r\n\t\t\t\tconst SVGImage = document.createElementNS('http://www.w3.org/2000/svg','image');\r\n\t\t\t\ttoDocumentFragment.push(SVGImage),SVGImage.href.baseVal = String(hrefList);\r\n\t\t\t}catch(e){console.error(e);}\r\n\t\t\treturn toDocumentFragment;\r\n\t\t}\r\n\t\tprotoTransform(value){return RealElement.newElements('svg',value,true);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {keyof SVGElementTagNameMap} T\r\n\t\t * @param {T} tagName \r\n\t\t * @param {(keyof SVGElementTagNameMap)[]} [optionList] \r\n\t\t * @param {SVGElementTagNameMap[T]} [selfAssign] \r\n\t\t * @param {(this: RealSVG,children: SVGElement[])=>void} [callback] \r\n\t\t */\r\n\t\tconstructor(tagName,optionList,selfAssign,callback){\r\n\t\t\tsuper(RealElement.newSVG(tagName,selfAssign),optionList,false);\r\n\t\t\ttypeof callback === 'function' && callback.call(this,Array.from(this.proto.self.children));\r\n\t\t}\r\n\t};\r\n\tvar RealDivList = class RealDivList extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {list: Element[],childrenList: Element[][]}} AntiList */\r\n\t\tstatic proto = class AntiList extends RealTarget.proto{\r\n\t\t\t/**@type {HTMLDivElement[]} */\r\n\t\t\tlist = [];\r\n\t\t\t/**@type {Element[][]} */\r\n\t\t\tchildrenList = [];\r\n\t\t}\r\n\t\t/**@type {Map<String,[Boolean,*[],Boolean,{[selector: String]: {[styleName: String]: String}},((this: RealDivList)=>void) | null]>} */\r\n\t\tstatic divListClassMap = new Map;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} length \r\n\t\t * @param {String} tagName \r\n\t\t * @param {String} [id] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tstatic createList(length = 0,tagName,id,selfAssign){\r\n\t\t\tconst temp = [];\r\n\t\t\twhile(length --> 0) temp.push(document.createElement(tagName));\r\n\t\t\treturn new RealDivList(id,true,temp,RealDivList.tryRealNode,selfAssign);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealDivList}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse().concat(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value) (position[1] = this.proto.list[position[0]]).innerHTML = '';\r\n\t\t\t\t\ttempValue instanceof Element ? position[1].appendChild(tempValue) :\r\n\t\t\t\t\tthis.tryHTML ? position[1].innerHTML = tempValue : position[1].textContent = tempValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealDivList) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} className \r\n\t\t * @param {{\r\n\t\t * tryHTML?: Boolean;\r\n\t\t * optionList?: [];\r\n\t\t * tryRealNode?: Boolean;\r\n\t\t * selfAssign?: HTMLDivElement;\r\n\t\t * cssRuleObjObj?: {[selector: String]: {[styleName: String]: String}};\r\n\t\t * callback?: (this: RealDivList)=>void;\r\n\t\t * }} config \r\n\t\t */\r\n\t\tstatic defineDivListClass(className,config){\r\n\t\t\tconst {tryHTML,optionList = [],tryRealNode,selfAssign,cssRuleObjObj,callback} = config || emptyObj;\r\n\t\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\t\tthis.divListClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\t\tthis.divListClassMap.set(className,[tryHTML,optionList,tryRealNode,selfAssign,typeof callback === 'function' ? callback : null]);\r\n\t\t}\r\n\t\tstatic createByClassName(className,...argArray){\r\n\t\t\tconst config = this.divListClassMap.get(className);\r\n\t\t\tconfig || this.error('\"className\" not found !');\r\n\t\t\tconst temp = new RealDivList('',config[0],config[1],config[2],config[3]);\r\n\t\t\treturn config[4] && config[4].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Element[]}\r\n\t\t */\r\n\t\tprotoGet(){return this.proto.list;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){return this.proto.value = Array.from(value),true;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {*[]} value \r\n\t\t */\r\n\t\tprotoTransform(value){\r\n\t\t\tvar list = [],temp,ele;\r\n\t\t\ttry{var iter = value[Symbol.iterator]();}catch{throw new Error('=> \"value\" must be Array !');}\r\n\t\t\twhile(!(temp = iter.next()).done) list.push(ele = document.createElement('div')),\r\n\t\t\ttemp.value instanceof Element ? ele.appendChild(temp.value) :\r\n\t\t\tthis.tryHTML ? ele.innerHTML = String(temp.value) : ele.textContent = String(temp.value);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} [toRealElement] \r\n\t\t * @param {String} [key] \r\n\t\t * @returns {{[id: String]: Element} | {[id: String]: RealElement}}\r\n\t\t */\r\n\t\tgetIdDict(toRealElement,key){\r\n\t\t\t/**@type {{[id: String]: Element} | {[id: String]: RealElement}} */\r\n\t\t\tconst list = Object.create(null);\r\n\t\t\tvar i = this.proto.list.length,temp;\r\n\t\t\tif(toRealElement) while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t\t(list[temp[0].id] = new RealElement({self: this.proto.list[i],key}));\r\n\t\t\telse while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t\t(list[temp[0].id] = this.proto.list[i]);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {RealElement[]}\r\n\t\t */\r\n\t\tgetRealEmentList(){\r\n\t\t\tconst temp = this.proto.list.concat();\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = new RealElement({self: temp[i]});\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tfix(){\r\n\t\t\tvar i = 0;\r\n\t\t\t/**@type {HTMLDivElement[]} list */\r\n\t\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\twhile(i < list.length){childrenList.push(Array.from(elementList.appendChild(list[i++]).children));}\r\n\t\t\tthis.self.innerHTML = '';\r\n\t\t\tthis.self.appendChild(elementList);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**@type {Element[][]} */\r\n\t\tget childrenList(){return this.proto.childrenList;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {Boolean} tryHTML \r\n\t\t * @param {(Element | String)[]} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,tryHTML,optionList,tryRealNode,selfAssign){\r\n\t\t\tconst temp = id,self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({self: self || RealElement.newXHTML('div',selfAssign)},{\r\n\t\t\t\tid,initValue: optionList?.[Symbol.iterator] ? Array.from(optionList) : []\r\n\t\t\t},tryRealNode);\r\n\t\t\t/**@type {AntiList} */this.proto;\r\n\t\t\tthis.tryHTML = tryHTML;\r\n\t\t\tthis.fix().proto.self.id = id;\r\n\t\t}\r\n\t};\r\n\tvar RealImgList = class RealImgList extends RealDivList{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealImgList}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value) this.proto.childrenList[position[0]][0].src = String(tempValue?.src ?? tempValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealImgList) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {HTMLImageElement[]}\r\n\t\t */\r\n\t\tcloneImgList(){\r\n\t\t\tconst temp = this.childrenList.concat();\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = temp[i][0].cloneNode();\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {*[]} value \r\n\t\t */\r\n\t\tprotoTransform(value){\r\n\t\t\tvar list = [],temp,img;\r\n\t\t\ttry{var iter = value[Symbol.iterator]();}catch{throw new Error('=> \"value\" must be Array !');}\r\n\t\t\twhile(!(temp = iter.next()).done) list.push(temp.done = document.createElement('div')),\r\n\t\t\ttemp.done.appendChild(temp.value instanceof Image ? temp.value : ((img = new Image()).src = String(temp.value),img));\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Array !');\r\n\t\t\t/**@type {[IteratorYieldResult<String>,IteratorYieldResult<String>]} */\r\n\t\t\tconst temp = Array(2),iter1 = tryYieldKey(value,'src',''),iter0 = tryYieldKey(this.proto.value,'src','');\r\n\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)) if(temp[0].done) break;\r\n\t\t\telse if(temp[0].value !== temp[1].value) return this.proto.value = Array.from(value),true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} id \r\n\t\t * @param {(Element | String)[]} srcList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,srcList,tryRealNode,selfAssign){super(id,true,srcList,tryRealNode,selfAssign);}\r\n\t};\r\n\tvar RealDivQueue = class RealDivQueue extends RealDivList{\r\n\t\t/**@typedef {AntiList & {queueArray: Number[]}} AntiQueue */\r\n\t\tstatic proto = class AntiQueue extends RealDivList.proto{\r\n\t\t\t/**@type {Number[]} */\r\n\t\t\tqueueArray;\r\n\t\t}\r\n\t\t/**@type {Element} */\r\n\t\tstatic tempTarget = void(browserMode && (RealWorld.onload.then(()=>RealElement.addCSSRules('.RealDivQueue',{\r\n\t\t\t// '>div': {'transition-duration':'.1s'},\r\n\t\t\t'>div:hover': {'transform':'scale(1.1,1)'},\r\n\t\t\t'>div:active': {'transform':'scale(1.2,1)'},\r\n\t\t})),addEventListener('mousedown',e=>(RealDivQueue.tempTarget = e.target)),addEventListener('mouseup',e=>{\r\n\t\t\t/**@type {RealDivQueue} */\r\n\t\t\tvar realDivQueue,target,queue;\r\n\t\t\tconst list0 = [target = RealDivQueue.tempTarget];\r\n\t\t\twhile(target = target.parentElement) list0.push(target);\r\n\t\t\tconst list1 = [target = e.target];\r\n\t\t\twhile(target = target.parentElement) list1.push(target);\r\n\t\t\tif(list0.pop() !== list1.pop()) return;\r\n\t\t\ttarget = [];\r\n\t\t\twhile((target[0] = list0.pop()) === (target[1] = list1.pop())) if(!list0.length) return;\r\n\t\t\tconst [target0,target1] = target;\r\n\t\t\tif(!target0 || !target1) return;\r\n\t\t\t/**@type {Element} */\r\n\t\t\tconst temp = target0.parentElement;\r\n\t\t\tif(temp.classList.contains('RealDivQueue')){\r\n\t\t\t\tfor(realDivQueue of RealTarget.searchByObj(temp)) if(realDivQueue instanceof RealDivQueue) break;\r\n\t\t\t\tqueue = realDivQueue.queueArray;\r\n\t\t\t\tqueue = (target[0] = queue.indexOf(realDivQueue.proto.list.indexOf(target[0]))) >\r\n\t\t\t\t(target[1] = queue.indexOf(realDivQueue.proto.list.indexOf(target[1]))) ?\r\n\t\t\t\tqueue.slice(0,target[1]).concat(queue[target[0]],queue.slice(target[1],target[0]),queue.slice(target[0] + 1)) :\r\n\t\t\t\tqueue.slice(0,target[0]).concat(queue.slice(target[0] + 1,target[1] + 1),queue[target[0]],queue.slice(target[1] + 1));\r\n\t\t\t\trealDivQueue.applyQueue(queue,target0,target1);\r\n\t\t\t}\r\n\t\t})));\r\n\t\tgetListQueue(){\r\n\t\t\t/**@type {AntiQueue} */this.proto;\r\n\t\t\t/**@type {Element[]} */\r\n\t\t\tconst temp = this.queueArray;\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = this.proto.list[temp[i]];\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tfix(){\r\n\t\t\tvar i = 0;\r\n\t\t\t/**@type {HTMLDivElement[]} list */\r\n\t\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\t\twhile(i < list.length) childrenList.push(Array.from(list[i++].children));\r\n\t\t\treturn this.applyQueue([]);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number[]} queueArray \r\n\t\t * @param {Element} [target0] \r\n\t\t * @param {Element} [target1] \r\n\t\t * @returns \r\n\t\t */\r\n\t\tapplyQueue(queueArray,target0,target1){\r\n\t\t\tconst previousQueue = this.queueArray ?? [];\r\n\t\t\tconst temp = Array.isArray(queueArray);queueArray = temp ? queueArray.slice(0,this.proto.list.length) : previousQueue;\r\n\t\t\tconst list = this.proto.list.concat(),length = list.length,top = this.self.scrollTop,left = this.self.scrollLeft;\r\n\t\t\tvar i = length;\r\n\t\t\twhile(i --> 0) queueArray[i] == null && (queueArray[i] = i),queueArray.indexOf(i) === -1 && this.error('Illegal \"queueArray\" !');\r\n\t\t\ti = [previousQueue.indexOf(this.proto.list.indexOf(target0)),previousQueue.indexOf(this.proto.list.indexOf(target1))];\r\n\t\t\tif(i[0] !== -1 && i[1] !== -1) i[0] < i[1] ? target1.insertAdjacentElement('afterend',target0) :\r\n\t\t\ttarget1.insertAdjacentElement('beforebegin',target0);\r\n\t\t\telse{\r\n\t\t\t\ti = 0;\r\n\t\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\t\twhile(i < length) elementList.appendChild(list[queueArray[i++]]);\r\n\t\t\t\tthis.self.classList.add('disappear');\r\n\t\t\t\tthis.self.innerHTML = '';\r\n\t\t\t\tthis.self.appendChild(elementList);\r\n\t\t\t\tthis.self.scrollTo({top,left,behavior: 'instant'});\r\n\t\t\t\tthis.self.classList.remove('disappear');\r\n\t\t\t}\r\n\t\t\tthis.proto.queueArray = queueArray;\r\n\t\t\tif(temp) this.react?.(),this.notify(true);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**@type {Number[]} */\r\n\t\tget queueArray(){return this.proto.queueArray?.concat?.();}\r\n\t};\r\n\t/**\r\n\t * \r\n\t * @param {{[key: String]: *}} [optionConfig] \r\n\t * @param {Boolean} [multiple] \r\n\t * @param {(this: RealDivList,e: Event)=>void} [onchange] \r\n\t */\r\n\tvar createRealDivSelect = (optionConfig,multiple,onchange)=>RealDivList.createByClassName('realDivSelect',optionConfig,multiple,onchange);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSelect',{tryRealNode: true,cssRuleObjObj: {\r\n\t\t'': {'background':'linear-gradient(135deg,#fff,#000)'},\r\n\t\t'>div': {'background-color':'#333','transform':'scale(0.8,1)'},\r\n\t\t'>div:hover': {'transform':'scale(0.9,1)'},\r\n\t\t'>.selected': {'background-color':'#555','transform':'scale(1)','font-weight':'bolder'},\r\n\t},callback: (()=>{\r\n\t\tconst changeConfig = {bubbles: true,cancelable: false};\r\n\t\t/**@type {(this: RealDivList)=>*[]} */\r\n\t\tfunction tempGet(){\r\n\t\t\tconst temp = [],list = this.proto.list;\r\n\t\t\tfor(var i = 0;list[i];i++) list[i].classList.contains('selected') && temp.push(this.info.optionList[i]);\r\n\t\t\tthis.info.multiple || temp.length || !i || (list[0].classList.add('selected'),temp.push(this.info.optionList[0]));\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@type {(this: RealDivList,value: {})=>false} */\r\n\t\tfunction tempSet(value){\r\n\t\t\tfor(const key of (\r\n\t\t\t\tthis.info.optionList = [],\r\n\t\t\t\tthis.proto.value = Object.keys(value = Object(value)).sort().sort((a,b)=>a - b)\r\n\t\t\t)) this.info.optionList.push(value[key]);\r\n\t\t\treturn this.fix().value,false;\r\n\t\t}\r\n\t\t/**@type {(RS: RealDivList)=>Boolean} */\r\n\t\tasync function tempReact(RS){return RS.react?.(),await RS.notify(),RS.self.dispatchEvent(new Event('change',changeConfig));}\r\n\t\taddEventListener('click',e=>{\r\n\t\t\t/**@type {?Element} */\r\n\t\t\tconst parentElement = e.target.parentElement;\r\n\t\t\tif(!parentElement || !parentElement.classList.contains('realDivSelect')) return;\r\n\t\t\tvar i = 0,REList,temp;\r\n\t\t\tREList = RealTarget.searchByObj(parentElement);\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\tconst RS = temp,previousValue = RS.value[0];\r\n\t\t\tREList = RS.proto.list;\r\n\t\t\tif(RS.info.multiple) return e.target.classList.toggle('selected'),tempReact(RS);\r\n\t\t\twhile(temp = REList[i++]) e.target === temp ? temp.classList.add('selected') : temp.classList.remove('selected');\r\n\t\t\tpreviousValue === RS.value[0] || tempReact(RS);\r\n\t\t});\r\n\t\t/**@type {(this: RealDivList,optionConfig?: {[key: String]: *},multiple?: Boolean,onchange?: (this: RealDivList,e: Event)=>void)=>void} */\r\n\t\treturn function(optionConfig,multiple,onchange){\r\n\t\t\tthis.get = tempGet;\r\n\t\t\tthis.set = tempSet;\r\n\t\t\tthis.info = Object(this.info);\r\n\t\t\tthis.info.multiple = Boolean(multiple);\r\n\t\t\t/**### bind */\r\n\t\t\tif(typeof onchange === 'function') this.self.onchange = e=>onchange.call(this,e);\r\n\t\t\tthis.value = optionConfig;\r\n\t\t};\r\n\t})()}));\r\n\t/**\r\n\t * \r\n\t * @param {String} [placeholder] \r\n\t */\r\n\tvar createRealDivSearch = placeholder=>RealDivList.createByClassName('realDivSearch',placeholder);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSearch',{callback: (()=>{\r\n\t\t/**@type {RealDivList} */\r\n\t\tvar tempRealDivList;\r\n\t\tconst changeConfig = {bubbles: true,cancelable: false},now = Promise.resolve();\r\n\t\t/**@type {(this: RealDivList)=>String} */\r\n\t\tfunction tempGet(){return this.info.inputer.value;}\r\n\t\t/**@type {(target: Element)=>void} */\r\n\t\tfunction tempReact(target){tempRealDivList && target !== tempRealDivList.info.inputer && (\r\n\t\t\ttempRealDivList.info.matcher.value = {},tempRealDivList.react?.(),tempRealDivList.notify(true)\r\n\t\t);}\r\n\t\t/**@type {(this: RealDivList,value: *[])=>false} */\r\n\t\tfunction tempSet(value){\r\n\t\t\tArray.isArray(value) ? this.info.wordList = value : this.error('\"value must be Array !');\r\n\t\t\treturn now.then(()=>this.info.inputer.dispatchEvent(new Event('input',changeConfig))),\r\n\t\t\t(tempRealDivList || (tempRealDivList = this)).info.matcher.value = {},false;\r\n\t\t}\r\n\t\taddEventListener('click',e=>RealNode.afterNow(()=>tempReact(e.target)));\r\n\t\tRealElement.addEventListenerBySelectors('.RealDivList.realDivSearch>:nth-child(1)>textarea','click',async e=>(\r\n\t\t\tawait 0,e.target.dispatchEvent(new Event('input',changeConfig))\r\n\t\t));\r\n\t\tRealElement.addEventListenerBySelectors('.RealDivList.realDivSearch>:nth-child(1)>textarea','input',e=>{\r\n\t\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\tconst testReg = new RegExp(temp.info.inputer.value,'i');\r\n\t\t\ttemp.info.matcher.value = RealNode.arrayToObject(temp.info.wordList.filter(str=>testReg.test(String(str))));\r\n\t\t});\r\n\t\tRealElement.addEventListenerBySelectors('.RealDivList.realDivSearch>:nth-child(2)>div>div','click',e=>{\r\n\t\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\ttemp.info.inputer.value = temp.info.matcher.value[0];\r\n\t\t\ttempRealDivList = temp;\r\n\t\t\ttempRealDivList.react?.(),tempRealDivList.notify(true);\r\n\t\t\t// (tempRealDivList = temp).info.inputer.dispatchEvent(new Event('input',changeConfig));\r\n\t\t});\r\n\t\t/**@type {(this: RealDivList)=>void} */\r\n\t\treturn function(placeholder){\r\n\t\t\tconst matcher = RealDivList.createByClassName('realDivSelect');\r\n\t\t\tthis.proto.value = ['<textarea placeholder=\"'+String(placeholder)+'\"></textarea>',matcher.self];\r\n\t\t\tthis.fix().info = Object(this.info);\r\n\t\t\tthis.info.inputer = this.proto.childrenList[0][0];\r\n\t\t\tthis.info.matcher = matcher;\r\n\t\t\tthis.info.wordList = [];\r\n\t\t\tthis.get = tempGet;\r\n\t\t\tthis.set = tempSet;\r\n\t\t};\r\n\t})(),tryHTML: true,tryRealNode: true,cssRuleObjObj: {'>:nth-child(2)>div>div:hover': {'transform':'scale(0.9,1)'}}}));\r\n\t/**\r\n\t * \r\n\t * @param {String | RealNode | ()=>String} titleGetter \r\n\t */\r\n\tvar createRealDivSeries = titleGetter=>RealDivList.createByClassName('realDivSeries',titleGetter);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSeries',{tryRealNode: true,cssRuleObjObj: {\r\n\t\t'>div:nth-child(1)': {'font-weight':'bolder'},\r\n\t\t'.hidden>div:nth-child(n + 2)': {'display':'none'},\r\n\t},callback: (()=>{\r\n\t\tRealElement.addEventListenerBySelectors('.RealDivList.realDivSeries>div:nth-child(1)','click',e=>{\r\n\t\t\tvar REList = RealElement.searchByObj(e.target.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\ttemp && temp.toggleClassName('hidden');\r\n\t\t});\r\n\t\t/**### bind @type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>( typeof_fn | typeof _realNode | typeof _str)} */\r\n\t\tfunction getTransform(titleGetter){\r\n\t\t\treturn typeof titleGetter === 'function' ? /**@param {String[]} value */value=>_fn.call(this,titleGetter,value) :\r\n\t\t\ttitleGetter instanceof RealNode ? /**@param {String[]} value */value=>_realNode.call(this,titleGetter,value) :\r\n\t\t\t/**@param {String[]} value */value=> _str.call(this,titleGetter,value);\r\n\t\t}\r\n\t\t/**@type {(this: RealDivList,titleGetter: ()=>String,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _fn(titleGetter,value){return this.protoTransform(emptyArray.concat(titleGetter(),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: String,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _str(titleGetter,value){return this.protoTransform(emptyArray.concat(String(titleGetter),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: RealNode,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _realNode(titleGetter,value){return this.protoTransform(emptyArray.concat(String(titleGetter.value),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>void} */\r\n\t\treturn function(titleGetter){this.transform = getTransform.call(this,titleGetter),this.fix();};\r\n\t})()}));\r\n\r\n}else log('No DOM !');\r\n\r\n\tEXPORTS.RealWorld = RealWorld,EXPORTS.RealNode = RealNode,EXPORTS.RealGroup = RealGroup,EXPORTS.RealTarget = RealTarget,\r\n\tEXPORTS.RealStory = RealStory,EXPORTS.RealPromise = RealPromise,\r\n\tEXPORTS.RealElement = RealElement,EXPORTS.RealCanvas = RealCanvas,EXPORTS.RealLoader = RealLoader,EXPORTS.RealSelect = RealSelect,\r\n\tEXPORTS.RealComtag = RealComtag,EXPORTS.RealSVG = RealSVG,\r\n\tEXPORTS.RealDivList = RealDivList,EXPORTS.RealImgList = RealImgList,EXPORTS.RealDivQueue = RealDivQueue,\r\n\tEXPORTS.createRealDivSelect = createRealDivSelect,EXPORTS.createRealDivSearch = createRealDivSearch,EXPORTS.createRealDivSeries = createRealDivSeries;\r\n\t(function tempFn(fn){for(const key of Object.keys(fn)){\r\n\t\tif(typeof fn[key] === 'function') Reflect.defineProperty(fn,key,nonEnumerableConfig),tempFn(fn[key]);\r\n\t}})(EXPORTS);\r\n\t/**## 如果用作全局接口，请不要注释掉下面这一行。  */\r\n\t// Object.assign(globalThis,EXPORTS);\r\n\tlog('Sync\\nin '+RealNode.makeNumStr0oTail(performance.now() - t0)+' ms.');\r\n\treturn EXPORTS;\r\n})());\r\nvar\r\nRealNode,RealGroup,RealTarget,\r\nRealStory,RealPromise,\r\nRealElement,RealCanvas,RealLoader,RealSelect,\r\nRealComtag,RealSVG,\r\nRealDivList,RealImgList,RealDivQueue,\r\ncreateRealDivSelect,createRealDivSearch,createRealDivSeries,\r\nRealWorld;\r\n"],"names":["RealWorld","RealNode","RealGroup","RealTarget","RealStory","RealPromise","RealElement","RealCanvas","RealLoader","RealSelect","RealComtag","RealSVG","RealDivList","RealImgList","RealDivQueue","createRealDivSelect","createRealDivSearch","createRealDivSeries","prevent","v","Element","globalThis","performance","Date","emptyArray","t0","now","emptyObj","Object","create","browserMode","nonEnumerableConfig","enumerable","writableNull","value","writable","tempConfig","log","argArray","console","apply","tryYieldKey","iter","key","type","target","yield","e","error","EXPORTS","nodeRequire","nodeMode","setInterval","clearInterval","require","module","exports","path","Promise","r","await","import","String","default","stack","nodeFS","onload","addEventListener","tempListener","removeEventListener","resolve","setTimeout","clearTimeout","Interval","handler","timeout","this","_","transform","prototype","tempFn","clear","id","Reflect","defineProperty","eventLoop","_mainFn","timeSep","createInterval","intervalFn","getPromiseState","temp","Symbol","tryFn","catchFn","promise","race","then","onceIf","async","ifFn","TypeError","soFn","_id","cb2promise","thisArg","useFn","callback","thisResolve","parameters","Error","call","error0","error1","catch","destroy","fn","fnList","unshift","getRealElement","self","initValue","innerHTML","setTimeSep","Number","isFinite","paused","info","pop","e0","e1","undefined","document","createElement","set","message","name","_sys","Map","tryRealNode","proto","AntiNode","childRNs","react","search","get","is","value1","value2","justNow","arrayToObject","array","concat","length","i","createExpression","relativeRNs","check","realNode","entries","createHidden","display","config","assign","afterNow","keepNow","protoCreate","createNumber","bind","Array","isArray","copyObj","obj","newObj","keys","charCodeAt","createString","join","time","result","makeNumStr0oTail","n","tail","int","float","toString","Math","floor","0","1","split","BigInt","slice","padEnd","_react","notify","noSelf","_getPositionsOfChildRN","position","reverse","realSet","protoReact","protoGet","done","protoDone","protoSet","clearChildRNs","realReact","toPrimitive","hint","constructor","description","NaN","notifyArray","allSettled","splice","count","_computePositionsOfRNs","_dealWithPositionsOfRNs","values","next","push","protoNotify","relate","includes","unrelate","unrelativeRNs","deep","ownKeys","realNodeMap","expression","end","list","tempReact","dir","indexOf","has","delete","Boolean","protoThisArg","setPrototypeOf","getPrototypeOf","tempProxy","AntiGroup","Function","construct","realGroup","getByFilter","isExtensible","preventExtensions","deleteProperty","attributes","super","groupMap","createDeepGroup","strict","keyArray","getObjByStructure","source","structure","index","isInteger","all","proxy","addSetterListener","ifKeyOrFn","listener","listenerMap","forEach","listenerArray","l","tryRealNodeSetter","getOwnPropertyDescriptor","filterFn","notFn","Proxy","AntiTarget","isElement","searchByObj","element","realTarget","fix","protoTransform","clearClassName","className","addClassName","classList","add","toggleClassName","toggle","removeClassName","remove","getIndexWithin","previousElementSibling","applyCSS","selfSelector","classNameOrRuleObjObj","parentElement","getRandomId","myStyle","addCSSRules","test","addId","clone","keepValue","deepCopyRelativeRNs","param0","cloneNode","idSet","Set","findId","deleteId","random","selectorEventListeners","keyboardController","activeElement","tagName","onkeyboardController","querySelector","previous","enter","click","back","contains","nextElementSibling","getComputedStyle","firstElementChild","lastElementChild","animate","opacity","duration","makeElementByString","template","content","_clear","createImg","createVideo","createAudio","createDiv","createTextarea","placeholder","newXHTML","cssConfig","style","newSVG","makeElement","createElementNS","newDocumentFragmentFromElements","Elements","ele","DocumentFragment","appendChild","applyKeyboardController","elementList","cancelKeyboardController","attr","setAttribute","newElements","tagNameArray","toDocumentFragment","iterator","addEventListenerBySelectors","selectors","tempStr","replace","toUpperCase","from","querySelectorAll","alert","_css","myCSS","getElementsByTagName","window","createPopup","createTextNode","sheet","testReg","strReg0","strReg1","getKeys","insertRule","CSSStyleSheet","selector","rulesStr","cssRules","addRule","tempInsertRule","prefix","ruleObjObj","let","ruleObj","cssName","exec","defaultInit","*","margin","padding","border","-webkit-user-select","-moz-user-select","-ms-user-select","user-select",":root","--mapWidth","--halfBlack","--halfWhite","--noColor","pre","text-align","align-content","vertical-align","white-space","word-wrap","html","cursor","background-color","color","body","transform-origin","overflow","body>*","hr","::-webkit-scrollbar","","width","height","visibility","writing-mode",">*",">*>*",">:nth-child(1)","z-index",">:nth-child(2)",">:nth-child(3)",">:nth-child(4)",">:nth-child(5)",">:nth-child(6)",">:nth-child(7)",">:nth-child(8)",">:nth-child(9)",">:nth-child(10)",">:nth-child(11)",">:nth-child(12)",">:nth-child(13)",">:nth-child(14)",">:nth-child(15)",">:nth-last-child(1)",">:nth-last-child(2)",">:nth-last-child(3)",">:nth-last-child(4)",">:nth-last-child(5)",">:nth-last-child(6)",">:nth-last-child(7)",">:nth-last-child(8)",">:nth-last-child(9)",">:nth-last-child(10)",">:nth-last-child(11)",">:nth-last-child(12)",">:nth-last-child(13)",">:nth-last-child(14)",">:nth-last-child(15)",":hover","background",":active",">:hover",">:active","font-size","align-items","justify-content","left","top","finally","StoryPromise","reject","newPage","newPrivatePage","getNextPage","ofStory","pages","getPreviousPage","newPromiseObj","launch","bool","isBusy","shift","newOne","onrejected","onfinally","_push","_throw","onfulfilled","tryHandler","onerror","pathSet","tempReg","script","replaceAll","head","src","AntiCanvas","getContext","backup","img","Image","clearBeforeDraw","ctx","useCache","srcImageMap","strN","padStart","preloadSrc","srcArray","getImageBySrc","dealWithSrc","getRealGroupToClear","ConfigToClearShape","x","y","radiusX","radiusY","shape","relative","realCanvas","initFn","fnBeforeClear","fnAfterClear","loaded","clearShape","clearAsync","imgOrCanvas","canvas","drawImage","clearRect","closePath","clearTemp","testSrc","rejectSrc","toBlob","Blob","resizeBySrc","naturalWidth","naturalHeight","multiDrawSrcArray","bgSrc","autoOpacity","resize","tempOpacity","applyMouseClear","nowStyle","mouseenter","mousemove","mouseleave","offsetX","offsetY","failed","j","abs","round","ceil","yPOW2","yDIVxPOW2","sqrt","suffix","startN","midLength","playMode","sizeMode","resizeAfter","size","srcArr","finished","imgW","imgH","HTMLCanvasElement","globalAlpha","opacityConfig","getElementById","AntiLoader","onloadend","fs","initHEAD","method","DocumentFs","stat","readdir","fetch","response","status","location","protocol","init","mode","strArgs","fileName","str","statList","testFileNameList","fileNameList","fill","resultList","limit","_configDescriptor","err","load","configurable","getArrayBufferFrom","data","ArrayBuffer","isView","buffer","arrayBuffer","realLoader","files","dataGetter","2","download","ab","Buffer","href","URL","createObjectURL","revokeObjectURL","isDownload","AntiSelect","tempValue","children","getValueIndexs","selected","valueArray","defaultKey","defaultValue","multiple","sort","a","b","localeCompare","optionConfig","onchange","HTMLSelectElement","comtagClassMap","defineComtagClass","optionList","selfAssign","cssRuleObjObj","createByClassName","Comtag","iter1","iter0","toLowerCase","newImages","hrefList","baseVal","SVGImage","AntiList","childrenList","divListClassMap","createList","tryHTML","textContent","defineDivListClass","getIdDict","toRealElement","getRealEmentList","cloneImgList","srcList","AntiQueue","queueArray","tempTarget",">div:hover",">div:active","realDivQueue","list0","list1","target0","target1","queue","applyQueue","getListQueue","previousQueue","scrollTop","scrollLeft","insertAdjacentElement","scrollTo","behavior",">div",">.selected","font-weight","changeConfig","bubbles","cancelable","tempGet","tempSet","RS","dispatchEvent","Event","REList","previousValue","tempRealDivList","inputer","wordList","matcher","RegExp","filter",">:nth-child(2)>div>div:hover","titleGetter",">div:nth-child(1)",".hidden>div:nth-child(n + 2)","getTransform","_fn","_realNode","_str"],"mappings":"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"}