{"version":3,"sources":["0"],"sourcesContent":["\"use strict\";\r\n// ==UserScript==\r\n// @name\t\t\treal-node\r\n// @namespace\t\thttp://tampermonkey.net/\r\n// @version\t\t\t2024-12-14\r\n// @description\t\tTry to take over the world after watching the end of this script!\r\n// @author\t\t\tFANGZHANG34\r\n// @match\t\t\thttps://*/*\r\n// @icon\t\t\thttps://www.google.com/s2/favicons?sz=64&domain=bilibili.com\r\n// @grant\t\t\tnone\r\n// ==/UserScript==\r\nvar\r\nRealWorld,RealNode,RealGroup,RealTarget,\r\nRealStory,RealPromise,\r\nRealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\ncreateRealDivSelect,createRealDivSearch,createRealDivSeries\r\n;\r\n/**\r\n * ## 使用以下代码获得类型提示，不用时再注释掉。\r\n * ### var {\r\n * ### RealWorld,RealNode,RealGroup,RealTarget,\r\n * ### RealStory,RealPromise,\r\n * ### RealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n * ### createRealDivSelect,createRealDivSearch,createRealDivSeries\r\n * ### } = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\nvar {\r\n\tRealWorld,RealNode,RealGroup,RealTarget,\r\n\tRealStory,RealPromise,\r\n\tRealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n\tcreateRealDivSelect,createRealDivSearch,createRealDivSeries\r\n} = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\n * \r\n * ## 如果使用ESM规范，请不要注释掉\"export default\"，否则请注释掉\"export default\"。\r\n */\r\nexport default\r\n({\r\n\tRealWorld,RealNode,RealGroup,RealTarget,\r\n\tRealStory,RealPromise,\r\n\tRealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n\tcreateRealDivSelect,createRealDivSearch,createRealDivSeries\r\n} = (()=>{\r\n\tfunction prevent(v){return v;}\r\n\t/**##   */\r\n\t/**# 搜索## */\r\n\tconst\r\n\tElement = globalThis.Element ?? prevent,\r\n\tperformance = globalThis.performance ?? Date,\r\n\tsetInterval = globalThis.setInterval ?? prevent,\r\n\tclearInterval = globalThis.clearInterval ?? prevent,\r\n\tt0 = performance.now(),\r\n\t/**## browserMode 是否存在浏览器环境 */\r\n\tbrowserMode = Element !== prevent,\r\n\ttempConfig = {writable: false,enumerable: false},\r\n\t/**@type {typeof console.log} */\r\n\tlog = (console.log.bind(console))\r\n\t;\r\n\t/**## nodeMode 是否存在nodejs环境 */\r\n\tvar nodeMode = false;\r\n\t/**\r\n\t * ## 使用以下代码获得类型提示，不用时再注释掉。\r\n\t * ### var {\r\n\t * ### RealWorld,RealNode,RealGroup,RealTarget,\r\n\t * ### RealStory,RealPromise,\r\n\t * ### RealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n\t * ### createRealDivSelect,createRealDivSearch,createRealDivSeries\r\n\t * ### } = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\n\t * @type {{\r\n\t * RealWorld: typeof RealWorld;\r\n\t * RealNode: typeof RealNode;\r\n\t * RealGroup: typeof RealGroup;\r\n\t * RealTarget: typeof RealTarget;\r\n\t * RealStory: typeof RealStory;\r\n\t * RealPromise: typeof RealPromise;\r\n\t * RealElement: typeof RealElement;\r\n\t * RealCanvas: typeof RealCanvas;\r\n\t * RealLoader: typeof RealLoader;\r\n\t * RealSelect: typeof RealSelect;\r\n\t * RealComtag: typeof RealComtag;\r\n\t * RealDivList: typeof RealDivList;\r\n\t * RealImgList: typeof RealImgList;\r\n\t * RealDivQueue: typeof RealDivQueue;\r\n\t * createRealDivSelect: typeof createRealDivSelect;\r\n\t * createRealDivSearch: typeof createRealDivSearch;\r\n\t * createRealDivSeries: typeof createRealDivSeries;\r\n\t * }} \r\n\t */\r\n\tvar EXPORTS,nodeRequire;\r\n\ttry{nodeRequire = require;EXPORTS = module.exports;nodeMode = true;}\r\n\tcatch{EXPORTS = {};nodeRequire = path=>new Promise(async r=>r((await import(String(path))).default));}\r\n\tconst nodeFS = nodeRequire('fs');\r\n\t/**# RealWorld 事件循环类 */\r\n\tvar RealWorld = (()=>{\r\n\t\tvar undefined;\r\n\t\t/**@this {{resolve(...value)=>void}} */\r\n\t\tfunction thisResolve(...value){this.resolve(value);};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} timeSep \r\n\t\t * @param {...()=>void} fnList \r\n\t\t */\r\n\t\tfunction RealWorld(timeSep,...fnList){\r\n\t\t\tif(!new.target) return new RealWorld(timeSep,...fnList);\r\n\t\t\ttry{Number.isFinite(this.timeSep = Number(timeSep)) || (this.timeSep = 10);}catch{this.timeSep = 10;}\r\n\t\t\tthis._id = setInterval(this._mainFn.bind(this),this.timeSep);\r\n\t\t\t/**@type {(()=>*)[]} */\r\n\t\t\tthis.fnList = fnList;\r\n\t\t\tthis.info = undefined;\r\n\t\t\t/**@type {HTMLDivElement} */\r\n\t\t\tthis.self = browserMode ? document.createElement('div') : {};\r\n\t\t\tthis.paused = false;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.intervalFn = undefined;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.ifFn = undefined;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.soFn = undefined;\r\n\t\t\tReflect.defineProperty(this,'_id',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'fnList',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'timeSep',tempConfig);\r\n\t\t};\r\n\t\t/**\r\n\t\t * ## onload 环境准备好时兑现的承诺\r\n\t\t * @type {Promise<void>}\r\n\t\t */\r\n\t\treturn RealWorld.onload = !browserMode ? Promise.resolve() :\r\n\t\tnew Promise(r=>addEventListener('load',function tempListener(){r();removeEventListener('load',tempListener)})),\r\n\t\tRealWorld.createInterval =\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} timeSep \r\n\t\t * @param {()=>void} intervalFn \r\n\t\t * @returns {RealWorld}\r\n\t\t */\r\n\t\tfunction(timeSep,intervalFn){return (timeSep = new RealWorld(timeSep)).intervalFn = intervalFn,timeSep;},\r\n\t\t/**## getPromiseState 异步获取承诺状态 */\r\n\t\tRealWorld.getPromiseState = (()=>{\r\n\t\t\tconst temp = Symbol(),tryFn = v=>+(temp !== v),catchFn = ()=>-1;\r\n\t\t\treturn function getPromiseState(promise){return Promise.race([promise,temp]).then(tryFn,catchFn);};\r\n\t\t})(),\r\n\t\tRealWorld.onceIf = \r\n\t\t/**\r\n\t\t * ## onceIf 生成条件检测承诺 \r\n\t\t * @method\r\n\t\t * @param {()=>Boolean} ifFn\r\n\t\t * @param {Number} [timeSep]\r\n\t\t */\r\n\t\tasync(ifFn,timeSep)=>{\r\n\t\t\tif(typeof ifFn !== 'function') throw new TypeError('\"ifFn\" must be Function !');\r\n\t\t\tconst temp = new RealWorld(timeSep);\r\n\t\t\tawait new Promise(soFn=>(temp.ifFn = ifFn,temp.soFn = soFn));\r\n\t\t\tclearInterval(temp._id);\r\n\t\t},\r\n\t\tRealWorld.cb2promise = \r\n\t\t/**\r\n\t\t * ## cb2promise 回调转承诺\r\n\t\t * @template T\r\n\t\t * @param {{thisArg?: {}; useFn: String | (callback: (err?: Error,...value: T)=>void)=>void; callback: typeof thisResolve;}} param0 \r\n\t\t * @param {...any} parameters \r\n\t\t * @returns {Promise<[?Error,...T]>}\r\n\t\t */\r\n\t\tfunction({thisArg,useFn,callback = thisResolve} = {},...parameters){\r\n\t\t\tif(typeof useFn !== 'function') useFn = thisArg?.[useFn];\r\n\t\t\tif(typeof useFn !== 'function') throw new Error('=> Wrong:\\n\t\"thisArg\" is not Object\\n or\\n\t\"useFn\" not in \"thisArg\" !');\r\n\t\t\treturn new Promise(resolve=>{\r\n\t\t\t\tconst temp = {callback,resolve};\r\n\t\t\t\ttry{useFn.call(thisArg,...parameters,(...value)=>temp.callback(...value));}catch(error0){\r\n\t\t\t\t\ttry{useFn.call(thisArg,(...value)=>temp.callback(...value),...parameters);}catch(error1){\r\n\t\t\t\t\t\ttemp.resolve([new Error('=> Neither head or tail of parameters is Callback !\\n'+(\r\n\t\t\t\t\t\t\tString(error0?.stack ?? error0)+'\\n'+String(error1?.stack ?? error1)\r\n\t\t\t\t\t\t))]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).catch(e=>console.error(e.stack));\r\n\t\t},\r\n\t\t/**## destroy 销毁本对象 */\r\n\t\tRealWorld.prototype.destroy = function(){clearInterval(this._id),this._mainFn();},\r\n\t\t/**## then 添加函数入执行队列 */\r\n\t\tRealWorld.prototype.then = function(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;},\r\n\t\t/**## 生成RealElement实例 */\r\n\t\tRealWorld.prototype.getRealElement = function(){\r\n\t\t\treturn new RealElement({self: this.self,key: 'innerHTML'},{id: this.self.id,initValue: this.self.innerHTML});\r\n\t\t},\r\n\t\t/**## 变更时间间隔 */\r\n\t\tRealWorld.prototype.setTimeSep = function(timeSep){\r\n\t\t\treturn (Number.isFinite(timeSep = Number(timeSep)) ? timeSep : 10) !== this.timeSep && (\r\n\t\t\t\tclearInterval(this._id),Reflect.defineProperty(this,'timeSep',{value: timeSep}),\r\n\t\t\t\tReflect.defineProperty(this,'_id',{value: setInterval(this._mainFn.bind(this),this.timeSep)})\r\n\t\t\t);\r\n\t\t},\r\n\t\tRealWorld.prototype._mainFn = function(){\r\n\t\t\tif(this.paused) return;\r\n\t\t\ttry{this.intervalFn?.();}catch(e){this.intervalFn = console.error(e);}\r\n\t\t\ttry{this.info = this.fnList.pop()?.call?.(this,this.info);}catch(e){console.error(e);}\r\n\t\t\ttry{if(this.ifFn?.()){this.soFn?.();this.ifFn = this.soFn = null;}}catch(e0){\r\n\t\t\t\ttry{this.ifFn?.();}catch(e1){e0 = e1;this.ifFn = null;this.paused = true;}\r\n\t\t\t\tthis.paused || (this.soFn = null);this.paused = false;console.error(e0);\r\n\t\t\t}\r\n\t\t},RealWorld;\r\n\t})();\r\n\tvar RealNode = class RealNode{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @throws\r\n\t\t * @param {String} message \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\tstatic error(message){throw new Error(this.name+' : '+message);}\r\n\t\t/**@type {Map<Symbol,RealNode>} */\r\n\t\tstatic _sys = new Map;\r\n\t\tstatic t0 = Date.now();\r\n\t\tstatic tryRealNode = false;\r\n\t\tstatic now = Promise.resolve();\r\n\t\tstatic eventLoop = new RealWorld;\r\n\t\t/**\r\n\t\t * @typedef {{\r\n\t\t * tryRealNode: Boolean,\r\n\t\t * childRNs: ({info: [RealNode,String[],String[]]} & RealNode)[],\r\n\t\t * get()=>*,\r\n\t\t * set(value)=>Boolean,\r\n\t\t * react()=>Boolean,\r\n\t\t * id: Symbol,\r\n\t\t * value,\r\n\t\t * }} AntiNode \r\n\t\t */\r\n\t\tstatic proto = class AntiNode{\r\n\t\t\ttryRealNode;\r\n\t\t\t/**@type {(RealNode & {info: [RealNode,String[],String[]]})[]} */\r\n\t\t\tchildRNs = [];\r\n\t\t\t/**@type {()=>*} */\r\n\t\t\t['get'];\r\n\t\t\t/**@type {(value)=>Boolean} */\r\n\t\t\t['set'];\r\n\t\t\t/**@type {()=>Boolean} */\r\n\t\t\treact;\r\n\t\t\t/**@type {Symbol} */\r\n\t\t\tid;\r\n\t\t\tvalue;\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Symbol} id \r\n\t\t */\r\n\t\tstatic search(id){return this._sys.get(id);}\r\n\t\tstatic is(value1,value2){return Object.is(value1,value2) || value1 === value2;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>*} fn \r\n\t\t * @returns {Promise}\r\n\t\t */\r\n\t\tstatic justNow(fn,thisArg,...argArray){return RealNode.now.then(fn.bind(thisArg,...argArray));}\r\n\t\tstatic arrayToObject(){\r\n\t\t\tconst temp = Object.create(null),array = Array.from(arguments).flat(),length = array.length;\r\n\t\t\tfor(var i = 0;i < length;i++) temp[String(array[i])] = array[i];\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@method */\r\n\t\tstatic createExpression = (set=>\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {()=>any} get \r\n\t\t\t * @param {RealNode[]} relativeRNs\r\n\t\t\t * */\r\n\t\t\t(get,...relativeRNs)=>new RealNode({get,set},true,...relativeRNs)\r\n\t\t)(()=>false);\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic check(realNode){for(const temp of this._sys.entries()) if(realNode === temp[1]) return realNode.id === temp[0];}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {(config: {get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?})=>RealNode}\r\n\t\t */\r\n\t\tstatic createHidden = (temp=>function(config){return new RealNode(Object.assign({},config,temp));})({display: false});\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>*} fn \r\n\t\t * @param {Boolean} keepNow \r\n\t\t * @returns {Promise}\r\n\t\t */\r\n\t\tstatic afterNow(fn,keepNow,thisArg,...argArray){\r\n\t\t\tconst temp = new Promise(r=>this.eventLoop.then(()=>r(fn.apply(thisArg,argArray))));\r\n\t\t\treturn keepNow || (this.now = temp.catch(prevent)),temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>*} get \r\n\t\t */\r\n\t\tstatic protoCreate(get,...argArray){\r\n\t\t\tconst temp = new RealNode({get});\r\n\t\t\ttemp.proto.value = argArray;\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@method @type {((...args)=>RealNode)} */\r\n\t\tstatic createNumber = this.protoCreate.bind(null,function(temp = 0){\r\n\t\t\tif(!Array.isArray(this.proto.value)) return +(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t\t\telse for(const i of this.proto.value) temp +=+(i instanceof RealNode ? i.value : i);\r\n\t\t\treturn temp;\r\n\t\t});\r\n\t\t/**@method */\r\n\t\tstatic copyObj = function copyObj(obj){\r\n\t\t\tif(Object(obj) === obj){\r\n\t\t\t\tconst newObj = Array.isArray(obj) ? [] : Object.create(null);\r\n\t\t\t\tfor(const i of Object.keys(obj)){95 === i.charCodeAt(0) || (newObj[i] = copyObj(obj[i]));}\r\n\t\t\t\treturn newObj;\r\n\t\t\t}else return new.target ? Object(obj) : obj;\r\n\t\t};\r\n\t\t/**@method @type {((...args)=>RealNode)} */\r\n\t\tstatic createString = this.protoCreate.bind(null,function(){\r\n\t\t\tif(Array.isArray(this.proto.value)){\r\n\t\t\t\tconst temp = this.proto.value.concat();\r\n\t\t\t\tfor(var i = temp.length;i --> 0;) if(temp[i] instanceof RealNode) temp[i] = temp[i].value;\r\n\t\t\t\treturn temp.join('');\r\n\t\t\t}else return String(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t\t});\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(()=>*) & Promise} promise \r\n\t\t * @param {(time: Number,error: Error | null,value)=>void} callback \r\n\t\t * @returns {Promise<{error: ?Error,time: Number,value: ?*}>}\r\n\t\t */\r\n\t\tstatic async time(promise,callback){\r\n\t\t\tconst t0 = performance.now(),result = {time: null,error: null,value: null,};\r\n\t\t\ttry{result.value = await(typeof promise === 'function' ? promise() : promise);}catch(e){console.error(result.error = e);}\r\n\t\t\tresult.time = performance.now() - t0;\r\n\t\t\tif(typeof callback === 'function') try{callback(result.time,result.error,result.value);}catch(e){console.error(e);}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} n \r\n\t\t * @param {Number} [tail] \r\n\t\t */\r\n\t\tstatic makeNumStr0oTail(n,tail){\r\n\t\t\tvar int,float;\r\n\t\t\tswitch(typeof n){\r\n\t\t\t\tcase \"bigint\": return n.toString();\r\n\t\t\t\tcase \"symbol\":case \"undefined\": return 'NaN';\r\n\t\t\t}\r\n\t\t\ttry{n = +n;}catch{return 'NaN';}\r\n\t\t\treturn Number.isFinite(n) ? (\r\n\t\t\t\ttail = typeof tail !== 'number' ? 9 : tail > 18 ? 18 : tail < 0 ? 0 : Math.floor(tail),\r\n\t\t\t\t{0: int,1: float = ''} = n.toString(8).split('.'),\r\n\t\t\t\tBigInt('0o'+int).toString()+'_+'+'0o'+float.slice(0,tail).padEnd(tail,'0')\r\n\t\t\t) : 'NaN';\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealNode}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse();\r\n\t\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealNode) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\tprotoReact(){}\r\n\t\tprotoGet(){return this.proto.value;}\r\n\t\tlog(...message){console.log(this+':',...message);}\r\n\t\tdone(){return RealNode.justNow(this.protoDone,this);}\r\n\t\t// done(keepNow){return RealNode.afterNow(this.protoDone,keepNow,this);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @throws\r\n\t\t * @param {String} message \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\terror(message){throw new Error(this+'\\n\"\"\"\\n'+String(message)+'\\n\"\"\"');}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\tprotoSet(value){return value !== this.proto.value && (this.proto.value = value,true);}\r\n\t\tclearChildRNs(){while(this.proto.childRNs.length){this.proto.childRNs.pop().display = false;}return this;}\r\n\t\trealReact(notify = true,noSelf){\r\n\t\t\tconst react = this.proto.react;\r\n\t\t\treturn react ? (react.call(this),notify && this.notify(noSelf),true) : false;\r\n\t\t}\r\n\t\t[Symbol.toPrimitive](hint){try{\r\n\t\t\treturn 'number' === hint ? Number(this.value) : '[object '+this.constructor.name+']{ '+this.id.description+' }';\r\n\t\t}catch{return NaN;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Promise[][]}\r\n\t\t */\r\n\t\tasync protoDone(){\r\n\t\t\tvar i = 0;\r\n\t\t\twhile(i < this.notifyArray.length) await Promise.allSettled(this.notifyArray[i++]);\r\n\t\t\ti = this.notifyArray;\r\n\t\t\tthis.notifyArray = [];\r\n\t\t\treturn i;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @param {RealNode} [thisArg] \r\n\t\t * @param {number} [count] \r\n\t\t * @returns {?Promise<void>}\r\n\t\t */\r\n\t\tnotify(noSelf,thisArg,count){\r\n\t\t\t// return this.relativeRNs.length ? this.done().finally(this.protoNotify.bind(this,noSelf,thisArg,count)) : null;\r\n\t\t\tfor(const id of this.relativeRNs) Promise.resolve(RealNode.search(id)).\r\n\t\t\tthen(realNode=>!realNode || (noSelf && this === realNode) || realNode.realReact?.());\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){try{\r\n\t\t\tvar temp;\r\n\t\t\treturn (this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true) && (react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t\t}catch(e){return console.error(e),e;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {RealNode} realNode \r\n\t\t * @returns {String[][]}\r\n\t\t */\r\n\t\t_getPositionsOfChildRN(realNode){\r\n\t\t\tconst childRNs = this.proto.childRNs,temp = [];\r\n\t\t\tfor(var i = childRNs.length,iter;i --> 0;) iter = childRNs[i].info.values(),realNode === iter.next().value && temp.push(...iter);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @param {RealNode} [thisArg] \r\n\t\t * @param {number} [count] \r\n\t\t */\r\n\t\tprotoNotify(noSelf,thisArg,count = 0){\r\n\t\t\t!thisArg ? thisArg = this : count++;\r\n\t\t\t(thisArg.notifyArray[count] || (thisArg.notifyArray[count] = [])).push(new Promise(r=>{\r\n\t\t\t\tfor(var id of this.relativeRNs){\r\n\t\t\t\t\t!(noSelf && id === this.id) && (id = RealNode.search(id)) && (id.react?.(),id.notify(noSelf,thisArg,count));\r\n\t\t\t\t}\r\n\t\t\t\tr();\r\n\t\t\t}));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} relativeRNs \r\n\t\t */\r\n\t\trelate(...relativeRNs){\r\n\t\t\tvar id = relativeRNs[relativeRNs.length - 1];\r\n\t\t\tconst temp = RealNode.search(id?.id ?? id);\r\n\t\t\twhile(relativeRNs.length){\r\n\t\t\t\tid = relativeRNs.pop();\r\n\t\t\t\ttypeof id === 'symbol' || (id instanceof RealNode ? id = id.id : this.error(\r\n\t\t\t\t\t'=> \"relativeRNs['+relativeRNs.length+']\" is not legal id !'\r\n\t\t\t\t));\r\n\t\t\t\tRealNode.search(id) && !this.relativeRNs.includes(id) && this.relativeRNs.push(id);\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} unrelativeRNs \r\n\t\t */\r\n\t\tunrelate(...unrelativeRNs){\r\n\t\t\tif(!unrelativeRNs.length) return false;\r\n\t\t\tconst temp = this.relativeRNs.concat();\r\n\t\t\tvar i = unrelativeRNs.length;\r\n\t\t\tthis.relativeRNs.splice(0);\r\n\t\t\twhile(i --> 0) typeof unrelativeRNs[i] === 'symbol' || (unrelativeRNs[i] = unrelativeRNs[i]?.id);\r\n\t\t\tfor(i = temp.length;i --> 0;) unrelativeRNs.includes(temp[i]) || this.relativeRNs.push(temp[i]);\r\n\t\t\treturn temp.length !== this.relativeRNs.length;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String[]} [position] \r\n\t\t * @returns {[RealNode, ...string[]][]} \r\n\t\t */\r\n\t\t_computePositionsOfRNs(value,deep = 2,position = [],count = 0){\r\n\t\t\t/**@type {[RealNode, ...string[]][]} */\r\n\t\t\tvar temp = [],i,keys;\r\n\t\t\tif(value instanceof RealNode) return temp.push((position.unshift(value),position)),temp;\r\n\t\t\telse if(count < deep && Object(value) === value) for(i = (keys = Reflect.ownKeys(value)).length;i --> 0;){\r\n\t\t\t\ttemp = temp.concat(this._computePositionsOfRNs(value[keys[i]],deep,[...position,keys[i]],count + 1));\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {[RealNode, ...string[]][]} realNodeMap \r\n\t\t */\r\n\t\t_dealWithPositionsOfRNs(realNodeMap,expression){\r\n\t\t\tconst temp = this.clearChildRNs().proto.childRNs,list = [];\r\n\t\t\tvar value,i,end;\r\n\t\t\trealNodeMap = realNodeMap.concat();\r\n\t\t\twhile(realNodeMap.length){\r\n\t\t\t\t/**@type {[RealNode, ...string[]]} */\r\n\t\t\t\tconst position = realNodeMap.pop(),realNode = position[0],dir = position.slice(1);\r\n\t\t\t\tif(!dir.length) expression = realNode.value;else{\r\n\t\t\t\t\tfor(value = expression,i = 0,end = dir.length - 1;i < end;i++) value = value[key];\r\n\t\t\t\t\tvalue[dir[i]] = realNode.value;\r\n\t\t\t\t}\r\n\t\t\t\ti = list.indexOf(realNode);\r\n\t\t\t\ti < 0 ? (list.push(realNode),temp.push(realNode.relate(\r\n\t\t\t\t\tnew RealNode({info: [realNode,dir],react: this.constructor._react.bind(this,realNode)})\r\n\t\t\t\t))) : temp[i].info.push(dir);\r\n\t\t\t}\r\n\t\t\treturn expression;\r\n\t\t}\r\n\t\t/**@type {Symbol} */\r\n\t\tget id(){return this.proto.id;}\r\n\t\tget childRNs(){return this.proto.childRNs;}\r\n\t\tget value(){return this.get();}\r\n\t\tset value(value){this.realSet(value,true,true);}\r\n\t\tget set(){return this.realSet;}\r\n\t\tset set(set){this.proto.set = typeof set === 'function' ? set : this.protoSet;}\r\n\t\tget get(){return this.proto.get;}\r\n\t\tset get(get){this.proto.get = typeof get === 'function' ? get : this.protoGet;}\r\n\t\tget react(){return this.proto.react;}\r\n\t\tset react(react){this.proto.react = typeof react === 'function' ? react : react ? this.protoReact : null;}\r\n\t\tget display(){return RealNode._sys.has(this.id);}\r\n\t\tset display(display){display ? RealNode._sys.set(this.id,this) : RealNode._sys.delete(this.id);}\r\n\t\tget tryRealNode(){return this.proto.tryRealNode;}\r\n\t\tset tryRealNode(tryRealNode){\r\n\t\t\ttryRealNode = (this.proto.tryRealNode = Boolean(tryRealNode)) ? 'appear' : 'disappear';\r\n\t\t\tvar i = this.proto.childRNs.length;\r\n\t\t\twhile(i --> 0) this.proto.childRNs[tryRealNode]();\r\n\t\t}\r\n\t\t/**@type {Symbol[]} */\r\n\t\trelativeRNs = [];\r\n\t\t/**@type {Promise[][]} */\r\n\t\tnotifyArray = [];\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?,display?}} [config] \r\n\t\t * @param {...(Symbol | RealNode)} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor(config,tryRealNode = RealNode.tryRealNode,...relativeRNs){\r\n\t\t\tconfig = Object(config);\r\n\t\t\t/**@type {AntiNode} */\r\n\t\t\tthis.proto = new this.constructor.proto;\r\n\t\t\tthis.proto.id = Symbol(String(config.id ?? config.info?.id ?? ''));\r\n\t\t\tReflect.defineProperty(this,'notifyArray',{enumerable: false});\r\n\t\t\tReflect.defineProperty(this,'proto',tempConfig);\r\n\t\t\tthis.display = config.display ?? true;\r\n\t\t\tthis.info = config.info;\r\n\t\t\tthis.get = config.get;\r\n\t\t\tthis.set = config.set;\r\n\t\t\tthis.react = config.react;\r\n\t\t\tthis.relate(...relativeRNs);\r\n\t\t\tthis.proto.value = config.initValue;\r\n\t\t\tthis.tryRealNode = tryRealNode;\r\n\t\t\tif('value' in config) this.value = config.value;\r\n\t\t}\r\n\t};\r\n\tvar RealGroup =\r\n\t/**@template {{}} T */\r\n\tclass RealGroup extends RealNode{\r\n\t\tstatic tempProxy = class AntiGroup extends Function{\r\n\t\t\tstatic arr = [];\r\n\t\t\tapply(){return this.self;}\r\n\t\t\townKeys(){return Reflect.ownKeys(this);}\r\n\t\t\thas(target,key){return Reflect.has(this,key);}\r\n\t\t\tconstruct(){return this.realGroup.getByFilter();}\r\n\t\t\tisExtensible(){return Reflect.isExtensible(this);}\r\n\t\t\t['get'](target,key){return this.realGroup.get(key);}\r\n\t\t\tpreventExtensions(){return Reflect.preventExtensions(this);}\r\n\t\t\tdeleteProperty(target,key){return Reflect.deleteProperty(this.self,key);}\r\n\t\t\tsetPrototypeOf(target,prototype){return Reflect.setPrototypeOf(this,prototype);}\r\n\t\t\t['set'](target,key,value){return this.realGroup.set(Object.create(null,{[key]:{value}}));}\r\n\t\t\tdefineProperty(target,key,attributes){return Reflect.defineProperty(this.self,key,attributes);}\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {{}} self \r\n\t\t\t * @param {RealGroup} realGroup \r\n\t\t\t */\r\n\t\t\tconstructor(self,realGroup){\r\n\t\t\t\tsuper('');\r\n\t\t\t\tthis.self = self;\r\n\t\t\t\tthis.realGroup = realGroup;\r\n\t\t\t}\r\n\t\t};\r\n\t\t/**@type {Map<{},RealGroup>} */\r\n\t\tstatic groupMap = new Map;\r\n\t\tstatic _ = ()=>true;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {T} obj \r\n\t\t * @param {String} [id] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {Boolean} [strict] \r\n\t\t * @returns {RealGroup<T> | any}\r\n\t\t */\r\n\t\tstatic createDeepGroup = function createDeepGroup(obj,id = '',tryRealNode,strict){\r\n\t\t\tvar i;\r\n\t\t\tif(Object(obj) !== obj) return strict ? tryRealNode ? RealNode.createHidden({id,initValue: obj}) : obj : new RealGroup;\r\n\t\t\tconst proto = Reflect.getPrototypeOf(obj);\r\n\t\t\tif(proto && proto !== Object.prototype) return strict ? tryRealNode ?\r\n\t\t\tRealNode.createHidden({id,initValue: obj}) : obj : new RealGroup({self: obj});\r\n\t\t\tconst temp = Object.create(null),keyArray = Reflect.ownKeys(obj),length = keyArray.length;\r\n\t\t\tfor(i = 0;i < length;i++) temp[keyArray[i]] = createDeepGroup(obj[keyArray[i]],keyArray[i],tryRealNode,true);\r\n\t\t\treturn new RealGroup({self: temp});\r\n\t\t};\r\n\t\tstatic getObjByStructure = (()=>{\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @template {{}} T\r\n\t\t\t * @template U\r\n\t\t\t * @type {{\r\n\t\t\t * (target,structure: \"string\")=>String;\r\n\t\t\t * (target,structure: \"number\")=>Number;\r\n\t\t\t * (target,structure: \"boolean\")=>Boolean;\r\n\t\t\t * (target,structure: \"undefined\" | \"null\")=>null;\r\n\t\t\t * (target,structure: \"array\")=>*[];\r\n\t\t\t * (target,structure: T)=>T;\r\n\t\t\t * (target: U,structure: unknown)=>U;\r\n\t\t\t * }} \r\n\t\t\t */\r\n\t\t\tconst getObjByStructure = (target,structure)=>{\r\n\t\t\t\tvar index,keys,temp,key;\r\n\t\t\t\tswitch(structure){\r\n\t\t\t\t\tcase \"string\": {\r\n\t\t\t\t\t\ttry{return String(target);}catch{}\r\n\t\t\t\t\t\ttry{return String(target[Symbol.toPrimitive]());}catch{}\r\n\t\t\t\t\t\ttry{return String(target.toString());}catch{}\r\n\t\t\t\t\t\ttry{return String(target.valueOf());}catch{}\r\n\t\t\t\t\t\ttry{return Object.prototype.toString.call(target);}catch{}\r\n\t\t\t\t\t\treturn '[object Object]';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase \"number\": try{return Number(target);}catch{return NaN;}\r\n\t\t\t\t\tcase \"boolean\": return Boolean(target);\r\n\t\t\t\t\tcase \"undefined\": case \"null\": return null;\r\n\t\t\t\t\tcase \"array\": if(Array.isArray(target)) return target;else try{\r\n\t\t\t\t\t\ttemp = [],keys = Object.keys(target),index = 0;\r\n\t\t\t\t\t\twhile(true){\r\n\t\t\t\t\t\t\tconst i = +(key = keys[index++]);\r\n\t\t\t\t\t\t\tif(Number.isInteger(i) && i > -1) try{temp[i] = target[i];}catch(e){console.error(e);}else return temp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch{return temp;}\r\n\t\t\t\t}\r\n\t\t\t\tif(Object(structure) !== structure) return target;\r\n\t\t\t\ttarget = Object(target),temp = Object.create(null),keys = Object.keys(structure),index = keys.length;\r\n\t\t\t\twhile(index --> 0) try{\r\n\t\t\t\t\tkey = keys[index],structure[key];\r\n\t\t\t\t\ttry{temp[key] = getObjByStructure(target[key],structure[key]);}\r\n\t\t\t\t\tcatch(e){temp[key] = getObjByStructure(null,structure[key]);console.error(e);}\r\n\t\t\t\t}catch(e){temp[key] = null;console.error(e);}\r\n\t\t\t\treturn temp;\r\n\t\t\t};\r\n\t\t\treturn getObjByStructure;\r\n\t\t})();\r\n\t\tkeys(all){return all ? Reflect.ownKeys(this.proxy()) : Object.keys(this.proxy());}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} [notify] \r\n\t\t * @param {Boolean} [noSelf] \r\n\t\t * @returns {Boolean | Error}\r\n\t\t */\r\n\t\trealSet(value,notify,noSelf){try{\r\n\t\t\treturn this.protoSet(value) && (notify && this.notify(noSelf),true);\r\n\t\t}catch(e){return console.error(e),e;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Symbol | ?(keyArray: (String | Symbol)[])=>Boolean} ifKeyOrFn \r\n\t\t * @param {()=>void} listener \r\n\t\t */\r\n\t\taddSetterListener(ifKeyOrFn,listener){\r\n\t\t\tif(!listener) return;\r\n\t\t\tif(typeof listener !== 'function') this.error('\"listener\" must be function !');\r\n\t\t\tifKeyOrFn ?? (ifKeyOrFn = RealGroup._);\r\n\t\t\tvar temp;\r\n\t\t\tArray.isArray(temp = this.listenerMap.get(ifKeyOrFn)) || this.listenerMap.set(ifKeyOrFn,temp = []);\r\n\t\t\ttemp.push(listener);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(String | Symbol)[]} [keyArray] \r\n\t\t */\r\n\t\tprotoReact(keyArray = RealGroup.tempProxy.arr){\r\n\t\t\tArray.isArray(keyArray) || this.error('\"keyArray\" must be Array !');\r\n\t\t\tthis.listenerMap.forEach((listenerArray,ifKeyOrFn)=>{try{\r\n\t\t\t\tif(typeof ifKeyOrFn === 'function' ? ifKeyOrFn(keyArray) : keyArray.indexOf(ifKeyOrFn) !== -1){\r\n\t\t\t\t\tfor(var l = listenerArray.length,i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t\t\t}\r\n\t\t\t}catch(e){this.log('Wrong with ',ifKeyOrFn);}});\r\n\t\t}\r\n\t\ttryRealNodeSetter(){\r\n\t\t\tconst self = this.proxy(),keys = Reflect.ownKeys(self);\r\n\t\t\tvar i = keys.length;\r\n\t\t\twhile(i --> 0) Reflect.has(Reflect.getOwnPropertyDescriptor(self,keys[i]),'get') || self[keys[i]] instanceof RealNode ||\r\n\t\t\t(self[keys[i]] = RealNode.createHidden({initValue: self[keys[i]]}));\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(key: String)=>Boolean} [filterFn] \r\n\t\t * @returns {{}}\r\n\t\t */\r\n\t\tgetByFilter(filterFn){\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(self),notFn = typeof filterFn !== 'function',temp = Object.create(null);\r\n\t\t\tvar i = keyArray.length;\r\n\t\t\twhile(i --> 0) if(notFn || filterFn(keyArray[i])) Reflect.\r\n\t\t\tset(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{}} obj \r\n\t\t */\r\n\t\tprotoSet(obj){\r\n\t\t\tif(Object(obj) !== obj) return false;\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(Object(obj)),temp = [];\r\n\t\t\tfor(const key of keyArray) obj[key] instanceof RealNode ? (self[key] = obj[key],temp.push(key)) :\r\n\t\t\tself[key] instanceof RealNode ? self[key].set(obj[key],true,true,true) && temp.push(key) :\r\n\t\t\tobj[key] !== self[key] && (self[key] = obj[key],temp.push(key));\r\n\t\t\tthis.listenerMap.get(RealGroup._).forEach(listener=>listener());\r\n\t\t\tif(temp.length) try{this.react?.(temp);}catch(e){this.log(e?.stack ?? e);}else{\r\n\t\t\t\tconst listenerArray = this.listenerMap.get(RealGroup._),l = listenerArray.length;\r\n\t\t\t\tfor(var i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t\t}\r\n\t\t\treturn Boolean(temp.length);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Symbol | {}} [keyOrkeyObj] \r\n\t\t */\r\n\t\tprotoGet(keyOrkeyObj){\r\n\t\t\tvar temp;\r\n\t\t\tif(!arguments.length) return this.getByFilter();\r\n\t\t\tif(Object(keyOrkeyObj) !== keyOrkeyObj) return (temp = this.proxy()[keyOrkeyObj],temp instanceof RealNode ? temp.value : temp);\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(Object(keyOrkeyObj));\r\n\t\t\t/**@type {{}} */\r\n\t\t\ttemp = Object.create(null);\r\n\t\t\tvar i = keyArray.length;\r\n\t\t\twhile(i --> 0) Reflect.set(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@type {T & {()=>T}} */\r\n\t\tget proxy(){return this.proto.value;}\r\n\t\tget set(){return this.realSet;}\r\n\t\tset set(set){/**tthis.log('Invalid set \"set\" !'); */}\r\n\t\t/**@type {(keyOrkeyObj?: String | Symbol | {})=> *} */\r\n\t\tget get(){return this.protoGet;}\r\n\t\tset get(get){/**this.log('Invalid set \"get\" !'); */}\r\n\t\tget react(){return this.protoReact;}\r\n\t\tset react(react){/**this.log('Invalid set \"react\" !'); */}\r\n\t\tget tryRealNode(){return false;}\r\n\t\tset tryRealNode(tryRealNode){tryRealNode && this.log('I can not try realNode !');}\r\n\t\t/**@type {Map<String | Symbol | (keyArray: (String | Symbol)[])=>Boolean,(()=>void)[]>} */\r\n\t\tlistenerMap = new Map([[RealGroup._,[]]]);\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{self?: T}} param0 \r\n\t\t */\r\n\t\tconstructor({id,info,self = Object.create(null)} = {}){\r\n\t\t\tvar temp;\r\n\t\t\tif((temp = RealGroup.groupMap.get(self)) instanceof RealGroup) return console.log('Please do not new for \"self\":'+self+' again !'),temp;\r\n\t\t\tsuper({id,info});\r\n\t\t\tif(Object(self) !== self) this.error('\"self\" not typeof object !');\r\n\t\t\tReflect.defineProperty(this,'listenerMap',tempConfig);\r\n\t\t\ttemp = new RealGroup.tempProxy(self,this);\r\n\t\t\tthis.proto.value = new Proxy(temp,temp);\r\n\t\t\tRealGroup.groupMap.set(self,this);\r\n\t\t}\r\n\t};\r\n\tvar RealTarget = class RealTarget extends RealNode{\r\n\t\t/**@typedef {AntiNode & {self: Element & {},isElement: Boolean,transform(value)=>*}} AntiTarget */\r\n\t\tstatic proto = class AntiTarget extends RealNode.proto{\r\n\t\t\t/**@type {Element & {}} */\r\n\t\t\tself;\r\n\t\t\t/**@type {Boolean} */\r\n\t\t\tisElement;\r\n\t\t\t/**@type {(value)=>*} */\r\n\t\t\ttransform;\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {{(element: Element)=>RealElement[];(element: {})=>RealTarget[];(element)=>RealElement[];}}\r\n\t\t */\r\n\t\tstatic searchByObj(element){\r\n\t\t\tconst temp = [];\r\n\t\t\tif(Object(element) !== element) return temp;\r\n\t\t\tfor(const realTarget of RealTarget._sys.values()) if(element === realTarget.self) temp.push(realTarget);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealTarget}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse();\r\n\t\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.fix(),react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealTarget) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {T} value \r\n\t\t */\r\n\t\tprotoTransform(value){return value;}\r\n\t\tfix(){return this.self[this.key] = this.transform(this.proto.value),this;}\r\n\t\tclearClassName(){return this.proto.isElement && (this.proto.self.className = '',true);}\r\n\t\t/**@param {...String} */\r\n\t\taddClassName(){return this.proto.isElement && (this.proto.self.classList.add(...arguments),true);}\r\n\t\t/**@param {String} className */\r\n\t\ttoggleClassName(className){return this.proto.isElement && this.proto.self.classList.toggle(className);}\r\n\t\t/**@param {...String} */\r\n\t\tremoveClassName(){return this.proto.isElement && (this.proto.self.classList.remove(...arguments),true);}\r\n\t\tgetIndexWithin(){\r\n\t\t\tvar i = 0,temp = this.proto.self;\r\n\t\t\twhile(temp = temp.previousElementSibling) i++;\r\n\t\t\treturn i;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){try{\r\n\t\t\tvar temp;\r\n\t\t\treturn (this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true) && (this.fix(),react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t\t}catch(e){return console.error(e),e;};}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {keyof HTMLElementTagNameMap} selfSelector \r\n\t\t * @param {String | {[selector: String]: {[styleName: String]: String}}} classNameOrRuleObjObj \r\n\t\t */\r\n\t\tapplyCSS(selfSelector,classNameOrRuleObjObj){\r\n\t\t\tif(!(this.proto.self instanceof Element)) this.error('I am not RealElement !');\r\n\t\t\tconst strReg = /^[A-Za-z]/;\r\n\t\t\tvar temp = selfSelector;\r\n\t\t\tif(typeof selfSelector !== 'string'){\r\n\t\t\t\twhile(temp = temp?.parentElement) if(temp === this.proto.self) break;\r\n\t\t\t\ttemp ? selfSelector = ' #'+(selfSelector.id || (selfSelector.id = RealElement.getRandomId())) :\r\n\t\t\t\tthis.error('\"selfSelector\" must be String or my descendant !');\r\n\t\t\t}\r\n\t\t\tconst id = this.proto.self.id || (this.proto.self.id = RealElement.getRandomId());\r\n\t\t\ttypeof classNameOrRuleObjObj === 'string' ? classNameOrRuleObjObj = RealElement.myStyle.get(classNameOrRuleObjObj) :\r\n\t\t\tclassNameOrRuleObjObj = Object(classNameOrRuleObjObj);\r\n\t\t\treturn !classNameOrRuleObjObj ? false : (RealElement.addCSSRules(\r\n\t\t\t\t'#'+id+(strReg.test(selfSelector) ? ' ' : '')+selfSelector,classNameOrRuleObjObj\r\n\t\t\t),RealElement.addId(id,false),true);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} keepValue \r\n\t\t * @param {Boolean} fix \r\n\t\t * @param {Boolean} [deepCopyRelativeRNs] \r\n\t\t */\r\n\t\tclone(keepValue,fix,deepCopyRelativeRNs){\r\n\t\t\tconst self = this.proto.self instanceof Element ? this.proto.self.cloneNode() :\r\n\t\t\tObject.assign(Object.create(Reflect.getPrototypeOf(this.proto.self)),this.proto.self);\r\n\t\t\tconst param0 = {self,key: this.key,transform: this.transform};\r\n\t\t\tconst temp = new RealTarget(param0,{\r\n\t\t\t\tget: this.proto.get,\r\n\t\t\t\tset: this.proto.set,\r\n\t\t\t\treact: this.proto.react,\r\n\t\t\t\tid: this.id.description+'-clone',\r\n\t\t\t\tinfo: this.info,\r\n\t\t\t\tinitValue: keepValue ? this.proto.value : void 0,\r\n\t\t\t});\r\n\t\t\tReflect.setPrototypeOf(temp,Reflect.getPrototypeOf(this));\r\n\t\t\tif(null == deepCopyRelativeRNs) temp.relativeRNs = deepCopyRelativeRNs ? this.relativeRNs : this.relativeRNs.concat();\r\n\t\t\treturn fix ? temp.fix() : temp;\r\n\t\t}\r\n\t\tget isElement(){return this.proto.isElement;}\r\n\t\tget transform(){return this.proto.transform;}\r\n\t\t/**@param {(value)=>*} transform */\r\n\t\tset transform(transform){this.proto.transform = typeof transform === 'function' ? transform : this.protoTransform;}\r\n\t\t/**@type { Element | {}} */\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){\r\n\t\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\t\tthis.error('=> \"self\" must be Object !');\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{self: Element | {},key,transform?: (value)=>*}} param0 \r\n\t\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?}} [config] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {...RealNode} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor({self,key,transform},config,tryRealNode,...relativeRNs){\r\n\t\t\tsuper(config,tryRealNode);\r\n\t\t\t/**@type {AntiTarget} */this.proto;\r\n\t\t\tthis.self = self;\r\n\t\t\tthis.key = key;\r\n\t\t\tthis.transform = transform;\r\n\t\t\ttryRealNode && this.realSet(config.initValue);\r\n\t\t\tthis.relate(...relativeRNs);\r\n\t\t\tthis.addClassName(this.constructor.name);\r\n\t\t}\r\n\t};\r\n\tvar RealElement = class RealElement extends RealTarget{\r\n\t\t/**@type {Element} */\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){\r\n\t\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\t\tthis.error('=> \"self\" must be Element !');\r\n\t\t}\r\n\t\t/**@type {Set<String>} */\r\n\t\tstatic idSet = new Set;\r\n\t\tstatic findId(id){return this.idSet.has(id);}\r\n\t\tstatic deleteId(id){typeof id !== 'string' && console.error('=> Please use String \"id\" !');return this.idSet.delete(id);}\r\n\t\tstatic getRandomId(){\r\n\t\t\tfor(var temp;this.idSet.has(temp = 'C3'+Math.floor(Math.random() * 1e14).toString(36)););\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tstatic addId(id,strict = true){\r\n\t\t\tif(id) typeof id !== 'string' ? this.error('=> Please use String \"id\" !') :\r\n\t\t\tthis.idSet.has(id) ? strict && this.error('=> Please use another \"id\" !') :\r\n\t\t\tthis.idSet.add(id);\r\n\t\t}\r\n\t\t/**@type {Map<String,{[selector: String]: {}}>} */\r\n\t\tstatic myStyle = new Map;\r\n\t\t/**@type {{[type: String]:Map<keyof HTMLElementTagNameMap,EventListener[]>}} */\r\n\t\tstatic selectorEventListeners = {};\r\n\t\tstatic keyboardController = (browserMode && addEventListener('keydown',e=>{\r\n\t\t\tif(/^(TEXTAREA)|(SELECT)|(INPUT)$/.test(document.activeElement?.tagName)) return;\r\n\t\t\t/**@type {?Element} */\r\n\t\t\tconst onkeyboardController = document.querySelector('.onkeyboardControl') ?? document.querySelector('.keyboardController');\r\n\t\t\tif(!onkeyboardController) return;\r\n\t\t\tvar i,temp;\r\n\t\t\tswitch(e.key){\r\n\t\t\t\tcase RealElement.keyboardController?.previous: i = -1;break;\r\n\t\t\t\tcase RealElement.keyboardController?.next: i = 1;break;\r\n\t\t\t\tcase RealElement.keyboardController?.enter: (temp = RealTarget.searchByObj(onkeyboardController)[0]) instanceof RealDivList ?\r\n\t\t\t\ttemp.proto.list.length ?\r\n\t\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),(temp = temp.proto.list[0]).classList.add('onkeyboardControl')) :\r\n\t\t\t\t(temp = onkeyboardController).click() :\r\n\t\t\t\t(temp = onkeyboardController.querySelector('.keyboardController')) ?\r\n\t\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t\t(temp = onkeyboardController).click();break;\r\n\t\t\t\tcase RealElement.keyboardController?.back:{\r\n\t\t\t\t\ttemp = onkeyboardController;\r\n\t\t\t\t\twhile(temp = temp.parentElement) if(temp.classList.contains('keyboardController')) break;\r\n\t\t\t\t\ttemp ? (onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t\t\t(temp = onkeyboardController).classList.add('onkeyboardControl');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(i++){if(temp = onkeyboardController,onkeyboardController.classList.remove('onkeyboardControl'),i){\r\n\t\t\t\twhile(temp = temp.nextElementSibling) if(getComputedStyle(temp).display !== 'none') break;\r\n\t\t\t\t(temp || (temp = onkeyboardController.parentElement.firstElementChild)).classList.add('onkeyboardControl');\r\n\t\t\t}else{\r\n\t\t\t\twhile(temp = temp.previousElementSibling) if(getComputedStyle(temp).display !== 'none') break;\r\n\t\t\t\t(temp || (temp = onkeyboardController.parentElement.lastElementChild)).classList.add('onkeyboardControl');\r\n\t\t\t}}\r\n\t\t\ttemp && temp.animate({'opacity':[1,0,1]},{duration: 500});\r\n\t\t}),{\r\n\t\t\tprevious: 'ArrowUp',\r\n\t\t\tnext: 'ArrowDown',\r\n\t\t\tenter:'ArrowRight',\r\n\t\t\tback: 'ArrowLeft'\r\n\t\t});\r\n\t\t/**@method */\r\n\t\tstatic makeElementByString = (()=>{\r\n\t\t\t/**@type {HTMLTemplateElement} */\r\n\t\t\tconst template = browserMode ? document.createElement('template') : {content: {}};\r\n\t\t\tfunction makeElementByString(innerHTML){template.innerHTML = String(innerHTML); return template.content.firstElementChild;}\r\n\t\t\treturn makeElementByString._clear = ()=>(template.innerHTML = '',template.content),makeElementByString;\r\n\t\t})();\r\n\t\tstatic createImg(){return new RealElement({self: document.createElement('img'),key: 'src'});}\r\n\t\tstatic createVideo(){return new RealElement({self: document.createElement('video'),key: 'src'});}\r\n\t\tstatic createAudio(){return new RealElement({self: document.createElement('audio'),key: 'src'});}\r\n\t\tstatic createDiv(id,initValue = ''){return new RealElement({self: document.createElement('div'),key: 'textContent'},{id,initValue});}\r\n\t\tstatic createTextarea(placeholder){return new RealElement({self: RealElement.makeElement('textarea',{placeholder: String(placeholder)}),key: 'value'});}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {Element} T\r\n\t\t * @param {keyof HTMLElementTagNameMap | T} tagName \r\n\t\t * @param {{this: T | Element;[attr: String]: String}} [config] \r\n\t\t * @param {{this: CSSStyleDeclaration;[attr: String]: String}} [cssConfig] \r\n\t\t * @returns {T}\r\n\t\t */\r\n\t\tstatic makeElement(tagName,config,cssConfig){\r\n\t\t\ttagName instanceof Element || (tagName = document.createElement(tagName));\r\n\t\t\treturn Object.assign(Object.assign(tagName,config).style,cssConfig),tagName;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(Element | {self: Element})}\r\n\t\t */\r\n\t\tstatic applyKeyboardController(){\r\n\t\t\tfor(const ele of arguments) ele instanceof Element ? ele.classList.add('keyboardController') :\r\n\t\t\tele?.self instanceof Element && ele.self.classList.add('keyboardController');\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(Element | {self: Element})}\r\n\t\t */\r\n\t\tstatic cancelKeyboardController(){\r\n\t\t\tfor(const ele of arguments) ele instanceof Element ? ele.classList.remove('keyboardController') :\r\n\t\t\tele?.self instanceof Element && ele.self.classList.remove('keyboardController');\r\n\t\t}\r\n\t\t/**@method */\r\n\t\tstatic addEventListenerBySelectors = (()=>{\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {Event} e \r\n\t\t\t * @param {((event: Event)=>void)[]} listenerArray \r\n\t\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t\t */\r\n\t\t\tfunction temp(e,listenerArray,selectors){try{if(Array.from(document.querySelectorAll(selectors)).includes(e.target)){\r\n\t\t\t\tfor(var i = 0,l = listenerArray.length;i < l;) try{listenerArray[i++](e);}catch(e){console.error,alert(e?.stack ?? e);}\r\n\t\t\t}}catch(e){console.error(e);}}\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t\t * @param {keyof HTMLElementEventMap} type \r\n\t\t\t * @param {(event: Event)=>void} listener \r\n\t\t\t */\r\n\t\t\treturn(selectors,type,listener)=>{\r\n\t\t\t\tconst tempStr = type.replace(type[0],type[0].toUpperCase());\r\n\t\t\t\t!selectors || '*' === selectors ? addEventListener(type,listener) : (\r\n\t\t\t\t\t!RealElement.selectorEventListeners[type] && (RealElement.selectorEventListeners[type] = new Map,addEventListener(\r\n\t\t\t\t\t\ttype,e=>{\r\n\t\t\t\t\t\t\tconst t0 = performance.now();\r\n\t\t\t\t\t\t\tRealElement.selectorEventListeners[type].forEach(temp.bind(null,e));\r\n\t\t\t\t\t\t\tlog(tempStr+'-listeners completed\\nin '+RealNode.makeNumStr0oTail(performance.now() - t0)+' ms.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)),\r\n\t\t\t\t\tRealElement.selectorEventListeners[type].has(selectors) ? RealElement.selectorEventListeners[type].get(selectors).push(listener) :\r\n\t\t\t\t\tRealElement.selectorEventListeners[type].set(selectors,[listener])\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t})();\r\n\t\t/**@method */\r\n\t\tstatic addCSSRules = (()=>{\r\n\t\t\tif(!browserMode){const addCSSRules = ()=>addCSSRules; return addCSSRules._css = RealWorld.onload,addCSSRules;}\r\n\t\t\tvar myCSS = RealWorld.onload.then(function(){\r\n\t\t\t\tdocument.getElementsByTagName(\"head\")[0].\r\n\t\t\t\tappendChild(document.createElement(\"style\"))[!window.createPopup && \"appendChild\"]?.(document.createTextNode(\"\"));\r\n\t\t\t\tmyCSS = document.styleSheets[document.styleSheets.length - 1];\r\n\t\t\t});\r\n\t\t\tconst testReg = /^\\.([A-Za-z][A-Z0-9a-z]{0,})$/;\r\n\t\t\tconst strReg0 = /[A-Za-z]$/,strReg1 = /^[A-Za-z]/;\r\n\t\t\tconst getKeys = obj=>Object(obj) === obj ? Object.keys(obj) : [];\r\n\t\t\t/**@type {(selector: keyof HTMLElementTagNameMap,rulesStr: String)=>Promise<Number>} */\r\n\t\t\tvar insertRule = !globalThis.CSSStyleSheet.prototype.insertRule ? (selector,rulesStr)=>myCSS.addRule(selector,rulesStr,-1) :\r\n\t\t\t(selector,rulesStr)=>myCSS.insertRule(selector+\"{\\n\"+rulesStr+\"}\",myCSS.cssRules.length);\r\n\t\t\tvar tempInsertRule = (selector,rulesStr)=>myCSS instanceof Promise ?\r\n\t\t\tmyCSS.then(()=>(tempInsertRule = insertRule)(selector,rulesStr)) : (tempInsertRule = insertRule)(selector,rulesStr);\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {String} prefix \r\n\t\t\t * @param {{[selector: String]: {[styleName: String]: String}}} ruleObjObj \r\n\t\t\t */\r\n\t\t\tfunction addCSSRules(prefix,ruleObjObj){try{\r\n\t\t\t\tif(Array.isArray(prefix)){\r\n\t\t\t\t\tlet i = prefix.length\r\n\t\t\t\t\twhile(i --> 0) typeof prefix[i] === 'string' && addCSSRules(prefix[i],ruleObjObj);\r\n\t\t\t\t\treturn addCSSRules;\r\n\t\t\t\t}else typeof prefix === 'string' || RealElement.error('\"prefix\" in addCSSRules must be String !');\r\n\t\t\t\tfor(const selector of getKeys(ruleObjObj)){\r\n\t\t\t\t\tconst ruleObj = ruleObjObj[selector],temp = [];\r\n\t\t\t\t\tfor(const key of getKeys(ruleObj)){temp.push(key,':',String(ruleObj[key]),';\\n');}\r\n\t\t\t\t\ttempInsertRule(prefix+(strReg0.test(prefix) && strReg1.test(selector) ? ' ' : '')+selector+' ',temp.join(''));\r\n\t\t\t\t}\r\n\t\t\t\tconst cssName = testReg.exec(prefix)?.[1];\r\n\t\t\t\tcssName && RealElement.myStyle.set(cssName,Object.assign({},RealElement.myStyle.get(cssName),ruleObjObj));\r\n\t\t\t}catch(e){console.error(e);}return addCSSRules;};\r\n\t\t\treturn addCSSRules._css = myCSS,addCSSRules;\r\n\t\t})();\r\n\t\tstatic defaultInit = (()=>{\r\n\t\t\tvar onload = false;\r\n\t\t\treturn ()=>{\r\n\t\t\t\treturn onload ? RealWorld.onload : RealWorld.onload = (onload = true,RealWorld.onload.\r\n\t\t\t\tthen(()=>RealNode.time(()=>void RealElement.addCSSRules('',{\r\n\t\t\t\t\t'*':{\r\n\t\t\t\t\t\t'margin':'0',\r\n\t\t\t\t\t\t'padding':'0',\r\n\t\t\t\t\t\t'border':'0',\r\n\t\t\t\t\t\t'-webkit-user-select':'none',\r\n\t\t\t\t\t\t'-moz-user-select':'none',\r\n\t\t\t\t\t\t'-ms-user-select':'none',\r\n\t\t\t\t\t\t'user-select':'none',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t':root':{\r\n\t\t\t\t\t\t'--mapWidth':'1920px',\r\n\t\t\t\t\t\t'--halfBlack':'rgba(0, 0, 0, 0.5)',\r\n\t\t\t\t\t\t'--halfWhite':'rgba(225, 225, 225, 0.5)',\r\n\t\t\t\t\t\t'--noColor':'rgba(0, 0, 0, 0)',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'pre':{\r\n\t\t\t\t\t\t'text-align':'left',\r\n\t\t\t\t\t\t'align-content':'left',\r\n\t\t\t\t\t\t'vertical-align':'top',\r\n\t\t\t\t\t\t'white-space':'pre-wrap',\r\n\t\t\t\t\t\t'word-wrap':'break-word',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'html':{\r\n\t\t\t\t\t\t'cursor':'default',\r\n\t\t\t\t\t\t'background-color':'black',\r\n\t\t\t\t\t\t'color':'white',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'body':{\r\n\t\t\t\t\t\t'transform':'rotate(0)',\r\n\t\t\t\t\t\t'transform-origin':'50vmin 50vmin',\r\n\t\t\t\t\t\t// 'width':'100vmax',\r\n\t\t\t\t\t\t// 'height':'calc((var(--mapWidth) - 100vmax) * 9 / 16 + 100vmin)',\r\n\t\t\t\t\t\t'overflow':'visible scroll',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'body>*':{'position':'absolute',},\r\n\t\t\t\t\t'hr':{'border':'1px solid white,'},\r\n\t\t\t\t\t'::-webkit-scrollbar':{'display':'none',},\r\n\t\t\t\t})('.coverBody',{\r\n\t\t\t\t\t'':{'width': '100vmax','height':'56.25vmax'},\r\n\t\t\t\t})('.noDisplay',{\r\n\t\t\t\t\t'':{'display':'none'},\r\n\t\t\t\t})('.disappear',{\r\n\t\t\t\t\t'':{'visibility':'hidden'},\r\n\t\t\t\t})('.listDown',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listRight',{\r\n\t\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listDownListRight',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listRightListDown',{\r\n\t\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('div.listClose',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t\t'>:nth-child(1)':{'z-index':'1'},\r\n\t\t\t\t\t'>:nth-child(2)':{'z-index':'2'},\r\n\t\t\t\t\t'>:nth-child(3)':{'z-index':'3'},\r\n\t\t\t\t\t'>:nth-child(4)':{'z-index':'4'},\r\n\t\t\t\t\t'>:nth-child(5)':{'z-index':'5'},\r\n\t\t\t\t\t'>:nth-child(6)':{'z-index':'6'},\r\n\t\t\t\t\t'>:nth-child(7)':{'z-index':'7'},\r\n\t\t\t\t\t'>:nth-child(8)':{'z-index':'8'},\r\n\t\t\t\t\t'>:nth-child(9)':{'z-index':'9'},\r\n\t\t\t\t\t'>:nth-child(10)':{'z-index':'10'},\r\n\t\t\t\t\t'>:nth-child(11)':{'z-index':'11'},\r\n\t\t\t\t\t'>:nth-child(12)':{'z-index':'12'},\r\n\t\t\t\t\t'>:nth-child(13)':{'z-index':'13'},\r\n\t\t\t\t\t'>:nth-child(14)':{'z-index':'14'},\r\n\t\t\t\t\t'>:nth-child(15)':{'z-index':'15'},\r\n\t\t\t\t})('div.listFar',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t\t'>:nth-last-child(1)':{'z-index':'1'},\r\n\t\t\t\t\t'>:nth-last-child(2)':{'z-index':'2'},\r\n\t\t\t\t\t'>:nth-last-child(3)':{'z-index':'3'},\r\n\t\t\t\t\t'>:nth-last-child(4)':{'z-index':'4'},\r\n\t\t\t\t\t'>:nth-last-child(5)':{'z-index':'5'},\r\n\t\t\t\t\t'>:nth-last-child(6)':{'z-index':'6'},\r\n\t\t\t\t\t'>:nth-last-child(7)':{'z-index':'7'},\r\n\t\t\t\t\t'>:nth-last-child(8)':{'z-index':'8'},\r\n\t\t\t\t\t'>:nth-last-child(9)':{'z-index':'9'},\r\n\t\t\t\t\t'>:nth-last-child(10)':{'z-index':'10'},\r\n\t\t\t\t\t'>:nth-last-child(11)':{'z-index':'11'},\r\n\t\t\t\t\t'>:nth-last-child(12)':{'z-index':'12'},\r\n\t\t\t\t\t'>:nth-last-child(13)':{'z-index':'13'},\r\n\t\t\t\t\t'>:nth-last-child(14)':{'z-index':'14'},\r\n\t\t\t\t\t'>:nth-last-child(15)':{'z-index':'15'},\r\n\t\t\t\t})('.onhover',{\r\n\t\t\t\t\t':hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t\t})('.onactive',{\r\n\t\t\t\t\t':active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t\t})('.childOnhover',{\r\n\t\t\t\t\t'>:hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t\t})('.childOnactive',{\r\n\t\t\t\t\t'>:active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t\t})('.relativeSquare',{\r\n\t\t\t\t\t'':{'width':'20vmin','height':'20vmin'},\r\n\t\t\t\t})('.fontTitle',{\r\n\t\t\t\t\t'':{'font-size':'20vmin'},\r\n\t\t\t\t})('.fontHead',{\r\n\t\t\t\t\t'':{'font-size':'10vmin'},\r\n\t\t\t\t})('.fontNormal',{\r\n\t\t\t\t\t'':{'font-size':'3vmin'},\r\n\t\t\t\t})('.scrollY',{\r\n\t\t\t\t\t'':{'overflow':'hidden scroll'},\r\n\t\t\t\t})('.scrollX',{\r\n\t\t\t\t\t'':{'overflow':'scroll hidden'},\r\n\t\t\t\t})('.scrollXY',{\r\n\t\t\t\t\t'':{'overflow':'scroll'},\r\n\t\t\t\t})('.scrollNone',{\r\n\t\t\t\t\t'':{'overflow':'hidden'},\r\n\t\t\t\t})('.centerCenter',{\r\n\t\t\t\t\t'':{\r\n\t\t\t\t\t\t'text-align':'justify',// 文本左右对齐方式\r\n\t\t\t\t\t\t'align-items':'center',// 子元素自垂直对齐\r\n\t\t\t\t\t\t'align-content':'center',// 元素左右对齐方式\r\n\t\t\t\t\t\t'vertical-align':'baseline',// 元素相对文字对齐\r\n\t\t\t\t\t\t'justify-content':'center',// 子元素水平对齐\r\n\t\t\t\t\t},\r\n\t\t\t\t})('.autoFull',{\r\n\t\t\t\t\t'':{'width':'100vmax','height':'100vmin'},\r\n\t\t\t\t})('.selfCenterCenter',{\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\t// 'align-self':'center',\r\n\t\t\t\t\t\t'left':'50%',\r\n\t\t\t\t\t\t'top':'50%',\r\n\t\t\t\t\t\t'transform':'translate(-50%,-50%)',\r\n\t\t\t\t\t},\r\n\t\t\t\t})._css.finally(),time=>log('Init defaultCSS\\nin '+RealNode.makeNumStr0oTail(time)+' ms.'))));\r\n\t\t\t};\r\n\t\t})();\r\n\t};\r\n\t{\r\n\t\t/**\r\n\t\t * @typedef {{\r\n\t\t * resolve: (value)=>void;\r\n\t\t * reject: (reason?)=>void;\r\n\t\t * promise: Promise;\r\n\t\t * }} StoryPromise \r\n\t\t */\r\n\t\t/**@this {StoryPromise} */\r\n\t\tconst executor = function(resolve,reject){this.resolve = resolve,this.reject = reject;};\r\n\t\t/**@type {{()=>StoryPromise; new()=>StoryPromise;}} */\r\n\t\tconst StoryPromise = function(){\r\n\t\t\tif(!new.target) return new StoryPromise;\r\n\t\t\t/**@type {(value)=>void} */\r\n\t\t\tthis.resolve = null;\r\n\t\t\t/**@type {(reason?)=>void} */\r\n\t\t\tthis.reject = null;\r\n\t\t\tthis.promise = new Promise(executor.bind(this));\r\n\t\t};\r\n\tvar RealStory = new class RealStory{\r\n\t\tnewPage(){return new RealStory(this);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {(page: RealStory)=>T} fn \r\n\t\t * @returns {Promise<T>}\r\n\t\t */\r\n\t\tnewPrivatePage(fn){return new Promise(r=>r(fn?.(this.newPage())));}\r\n\t\tthen(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;}\r\n\t\tgetNextPage(){\r\n\t\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\t\tconst temp = this.ofStory.pages;\r\n\t\t\treturn temp[temp.indexOf(this) + 1];\r\n\t\t}\r\n\t\tgetPreviousPage(){\r\n\t\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\t\tconst temp = this.ofStory.pages;\r\n\t\t\treturn temp[temp.indexOf(this) - 1];\r\n\t\t}\r\n\t\tnewPromiseObj(){\r\n\t\t\tconst temp = new StoryPromise;\r\n\t\t\treturn this.then(()=>temp.promise),temp;\r\n\t\t}\r\n\t\tasync launch(){\r\n\t\t\tvar i = 0,temp = this;\r\n\t\t\twhile((temp = temp.ofStory) instanceof RealStory) i++;\r\n\t\t\tif(!i) isBusy = true;\r\n\t\t\twhile(this.pages.length || this.fnList.length){\r\n\t\t\t\twhile(this.fnList.length) try{this.info = await this.fnList.pop()?.(this.info);}\r\n\t\t\t\tcatch(e){console.error('Depth of the fn : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t\t\ttry{await this.pages.shift()?.launch?.();}catch(e){console.error('Depth of the page : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t\t}\r\n\t\t\tif(!i) isBusy = false;\r\n\t\t}\r\n\t\tget StoryPromise(){return StoryPromise;}\r\n\t\tget index(){return this.ofStory instanceof RealStory ? this.ofStory.pages.indexOf(this) : -1;}\r\n\t\t/**@type {?RealStory} */\r\n\t\tofStory;\r\n\t\t/**@type {RealStory[]} */\r\n\t\tpages = [];\r\n\t\t/**@type {(()=>*)[]} */\r\n\t\tfnList = [];\r\n\t\tinfo;\r\n\t\tconstructor(ofStory){(this.ofStory = ofStory instanceof RealStory && ofStory) && ofStory.pages.push(this);}\r\n\t};\r\n\t\tlet isBusy = false;\r\n\t\tReflect.getPrototypeOf(RealStory).constructor = setInterval(()=>isBusy || RealStory.launch(),50);\r\n\t}\r\n\tvar RealPromise = new\r\n\t/**@template T */\r\n\tclass RealPromise{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {Promise<T> | T} promise \r\n\t\t */\r\n\t\tnewOne(promise){return new RealPromise(promise);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(reason)=>*} [onrejected] \r\n\t\t */\r\n\t\tcatch(onrejected){return this.self = Promise.resolve(this.self).catch(onrejected),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>void} [onfinally] \r\n\t\t */\r\n\t\tfinally(onfinally){return this.self = Promise.resolve(this.self).finally(onfinally),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U\r\n\t\t * @param {U} v \r\n\t\t */\r\n\t\t_push(v){return this.list.push(v),v;}\r\n\t\t/**\r\n\t\t * @throws \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\t_throw(e){throw this.list.push(e),e;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U\r\n\t\t * @template V\r\n\t\t * @param {(value: T)=>U} [onfulfilled] \r\n\t\t * @param {(reason)=>V} [onrejected] \r\n\t\t * @returns {RealPromise<U>}\r\n\t\t */\r\n\t\tthen(onfulfilled,onrejected){return this.self = Promise.resolve(this.self).then(onfulfilled,onrejected).then(this._push,this._throw),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U\r\n\t\t * @param {(v)=>U} handler \r\n\t\t * @param {(error: Error)=>void} [onerror] \r\n\t\t */\r\n\t\tasync tryHandler(handler,onerror){\r\n\t\t\tif(typeof handler !== 'function') throw new TypeError('\"handler\" must be Function !');\r\n\t\t\ttry{await this.self;}catch(e){console.error(this.length,e);}\r\n\t\t\tvar i = this.length;\r\n\t\t\twhile(i --> 0) try{try{return handler(await this.list[i]);}catch(e){(onerror ?? console.error)(e);}}catch(e){console.error(e);}\r\n\t\t}\r\n\t\tget require(){return RealPromise.require;}\r\n\t\tstatic require = (()=>{\r\n\t\t\t/**@this {Element} */\r\n\t\t\tfunction onfinally(){this.remove();}\r\n\t\t\tconst pathSet = {},tempReg = /[^\\/]+\\/\\.\\.\\//g;\r\n\t\t\treturn nodeMode ? /**@this {RealPromise} */\r\n\t\t\tfunction(path){return this instanceof RealPromise && this._push(Promise.resolve(nodeRequire(String(path))));} :\r\n\t\t\tbrowserMode ? /**@type {(path: String)=>Promise<*,Error | ErrorEvent | void>}@this {RealPromise} */\r\n\t\t\tfunction(path){\r\n\t\t\t\tvar temp,script;\r\n\t\t\t\tpath = String(path).replaceAll('\\\\','/');\r\n\t\t\t\tif(this instanceof RealPromise) while(tempReg.test(path)) path = path.replaceAll(tempReg,'');else return Promise.reject();\r\n\t\t\t\treturn pathSet[path] || (pathSet[path] = (temp = RealStory.StoryPromise(),document.head.appendChild(\r\n\t\t\t\t\tscript = RealElement.makeElement('script',{onload: temp.resolve,onerror: temp.reject,src: path})\r\n\t\t\t\t),this._push(temp.promise.finally(onfinally.bind(script)))));\r\n\t\t\t} : function(){return Promise.reject(new Error('Mode error !'));};\r\n\t\t})();\r\n\t\tget length(){return this.list.length;}\r\n\t\tlist = [];\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Promise<T> | T} promise \r\n\t\t */\r\n\t\tconstructor(promise){\r\n\t\t\tReflect.defineProperty(this,'list',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'_push',{value: this._push.bind(this),enumerable: false,writable: false});\r\n\t\t\tReflect.defineProperty(this,'_throw',{value: this._throw.bind(this),enumerable: false,writable: false});\r\n\t\t\t/**@type {Promise<T>} */\r\n\t\t\tthis.self = Promise.resolve(promise).then(this._push,this._throw);\r\n\t\t}\r\n\t}(RealWorld.onload);\r\n\tRealPromise.self.finally(()=>RealNode.time(RealWorld.onload,time=>log('Set up\\nin '+RealNode.makeNumStr0oTail(time)+' ms.')));\r\n\r\n\tif(browserMode){\r\n\r\n\tvar RealCanvas = class RealCanvas extends RealElement{\r\n\t\t/**\r\n\t\t * @typedef {AntiTarget & {\r\n\t\t * self: HTMLCanvasElement;\r\n\t\t * temp: CanvasRenderingContext2D;\r\n\t\t * backup: CanvasRenderingContext2D;\r\n\t\t * img: HTMLImageElement;\r\n\t\t * clearBeforeDraw: Boolean;\r\n\t\t * ctx: CanvasRenderingContext2D;\r\n\t\t * }} AntiCanvas \r\n\t\t * */\r\n\t\tstatic proto = class AntiCanvas extends RealTarget.proto{\r\n\t\t\ttemp = document.createElement('canvas').getContext('2d');\r\n\t\t\tbackup = document.createElement('canvas').getContext('2d');\r\n\t\t\timg = new Image;\r\n\t\t\tisElement = true;\r\n\t\t\tclearBeforeDraw = true;\r\n\t\t\t/**@type {CanvasRenderingContext2D} */\r\n\t\t\tctx;\r\n\t\t}\r\n\t\tstatic useCache = true;\r\n\t\t/**@type {Map<String,HTMLImageElement>} */\r\n\t\tstatic srcImageMap = new Map;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number | String} N \r\n\t\t * @param {Number} longN \r\n\t\t * @returns {String}\r\n\t\t */\r\n\t\tstatic strN(N,longN){return String(N).padStart(longN,'0');}\r\n\t\tstatic preloadSrc(){\r\n\t\t\tfor(var temp = RealGroup.tempProxy.arr.concat(...arguments),i = temp.length;i --> 0;) temp[i] = RealCanvas.getImageBySrc(temp[i]);\r\n\t\t\treturn Promise.allSettled(temp);\r\n\t\t}\r\n\t\t/**@method @type {(src)=>Promise<HTMLImageElement>} */\r\n\t\tstatic getImageBySrc = (()=>{\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {String} src \r\n\t\t\t * @param {(value)=>void} resolve \r\n\t\t\t * @param {(reason?)=>void} reject \r\n\t\t\t */\r\n\t\t\tfunction dealWithSrc(src,resolve,reject){\r\n\t\t\t\tconst temp = RealCanvas.srcImageMap.get(src) ?? new Image;\r\n\t\t\t\ttemp.src ? resolve(temp) : src && typeof src === 'string' && !(RealCanvas.useCache && RealCanvas.srcImageMap.has(src)) ?\r\n\t\t\t\tObject.assign(temp,{onload: ()=>(\r\n\t\t\t\t\tRealCanvas.srcImageMap.set(src,temp),temp.onload = temp.onerror = resolve(temp)\r\n\t\t\t\t),onerror: reject,src}) : reject();\r\n\t\t\t}\r\n\t\t\treturn src=>new Promise(dealWithSrc.bind(null,src));\r\n\t\t})();\r\n\t\tstatic getRealGroupToClear = (()=>{\r\n\t\t\tclass ConfigToClearShape{x = 0;y = 0;radiusX;radiusY;shape;relative;}\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @template {RealCanvas} T \r\n\t\t\t * @param {T} realCanvas \r\n\t\t\t * @param {{initFn?: ()=>void;fnBeforeClear?: (this: T)=>void;fnAfterClear?: (this: T)=>void;}} [param1] \r\n\t\t\t */\r\n\t\t\treturn function getRealGroupToClear(realCanvas,{initFn,fnBeforeClear,fnAfterClear} = {}){\r\n\t\t\t\tif(!(realCanvas instanceof RealCanvas)) throw new Error('=> \"realCanvas\" must be instanceof RealCanvas !');\r\n\t\t\t\tif(typeof fnAfterClear === 'function') fnAfterClear = fnAfterClear.bind(realCanvas);\r\n\t\t\t\tif(typeof fnBeforeClear === 'function') fnBeforeClear = fnBeforeClear.bind(realCanvas);\r\n\t\t\t\tconst config = new ConfigToClearShape,temp = new RealGroup({self: config});\r\n\t\t\t\treturn temp.addSetterListener(null,async()=>{\r\n\t\t\t\t\tawait Promise.resolve(realCanvas.loaded).then(fnBeforeClear);\r\n\t\t\t\t\tawait realCanvas.clearShape(config,config.shape).then(fnAfterClear);\r\n\t\t\t\t}),realCanvas.loaded.finally(initFn),temp;\r\n\t\t\t};\r\n\t\t})();\r\n\t\tprotoTransform(){}\r\n\t\tprotoGet(){return this.loaded.then(()=>this.proto.value);}\r\n\t\tclearAsync(){return this.loaded = Promise.resolve(this.loaded).then(()=>this.clear());}\r\n\t\tfix(imgOrCanvas = this.proto.temp.canvas){(this.proto.clearBeforeDraw ? this.clear() : this.proto.ctx).drawImage(imgOrCanvas,0,0);}\r\n\t\t/**@returns {Promise<PromiseSettledResult<HTMLImageElement>[]>} */\r\n\t\tpreloadSrc(){return this.loaded = Promise.resolve(this.loaded).then(prevent.bind(null,RealCanvas.preloadSrc.apply(null,arguments)));}\r\n\t\tclear(){return this.proto.ctx.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.ctx.closePath(),this.proto.ctx;}\r\n\t\tclearTemp(){return this.proto.temp.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.temp.closePath(),this.proto.temp;}\r\n\t\ttestSrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(()=>true,this.rejectSrc.bind(this,src));}\r\n\t\trejectSrc(src,error){return src && console.error(\r\n\t\t\terror instanceof Error ? error : (RealCanvas.useCache && error && RealCanvas.srcImageMap.set(src),this+': Fail to load by src \"'+src+'\" !')\r\n\t\t),false;}\r\n\t\tprotoSet(src){\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).\r\n\t\t\tthen(img=>(this.proto.img = img,this.proto.value = src,true),this.rejectSrc.bind(this,src));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Promise<Blob>}\r\n\t\t */\r\n\t\ttoBlob(){try{return RealWorld.cb2promise({thisArg: this.self,useFn: 'toBlob'}).then(\r\n\t\t\tresult=>(result[0] instanceof Error ? (console.error(result[0]),new Blob) : result[0])\r\n\t\t);}catch(e){return console.error(e),Promise.resolve(new Blob);}}\r\n\t\tresizeBySrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(img=>{\r\n\t\t\tif(this.self.width !== img.naturalWidth) this.width = img.naturalWidth;\r\n\t\t\tif(this.self.height !== img.naturalHeight) this.height = img.naturalHeight;\r\n\t\t});}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Promise<Boolean>}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){\r\n\t\t\tvar temp;\r\n\t\t\treturn this.loaded = Array.isArray(value) ? this.multiDrawSrcArray({},...value).then(()=>{this.proto.value = value;}) :\r\n\t\t\tPromise.resolve(this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true).then(v=>v && (this.fix(this.img),react && this.react?.(),notify && this.notify(noSelf),true)).catch(e=>(console.error(e),e));\r\n\t\t}\r\n\t\tmultiDrawSrcArray({bgSrc,autoOpacity,resize},...srcArray){\r\n\t\t\tthis.preloadSrc(bgSrc,srcArray);\r\n\t\t\tvar i = -1,temp = bgSrc ?? srcArray[0] ?? false;\r\n\t\t\tresize && temp && this.resizeBySrc(temp);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>this.clearTemp());\r\n\t\t\tif(Array.isArray(bgSrc)){for(temp = bgSrc.length;temp >++ i;) this.temp = bgSrc[i];}\r\n\t\t\telse bgSrc && typeof bgSrc === 'string' && (this.temp = bgSrc);\r\n\t\t\tif(srcArray.length > 1 && autoOpacity){\r\n\t\t\t\tfor(i = srcArray.length,temp = 0;i --> 0;) this.tempOpacity = .625 ** i,this.temp = srcArray[temp++];\r\n\t\t\t}else for(i = -1,temp = srcArray.length;temp >++ i;) this.temp = srcArray[i];\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{this.fix(this.proto.temp.canvas);},e=>log(e?.stack ?? e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t\t * @param {'rect' | 'circle'} [shape] \r\n\t\t */\r\n\t\tapplyMouseClear({radiusX,radiusY,relative} = {},shape){\r\n\t\t\tconst self = this.proto.self,backup = this.proto.backup,nowStyle = getComputedStyle(self);\r\n\t\t\tconst mouseenter = ()=>(backup.canvas.width = self.width,backup.canvas.height = self.height,backup.drawImage(self,0,0)),\r\n\t\t\t/**@type {(e: MouseEvent)=>Promise<void>} */\r\n\t\t\tmousemove = e=>(mouseleave(),this.clearShape({\r\n\t\t\t\tx: e.offsetX * self.width / +nowStyle.width.slice(0,-2),\r\n\t\t\t\ty: e.offsetY * self.height / +nowStyle.height.slice(0,-2),\r\n\t\t\t\tradiusX,radiusY,relative\r\n\t\t\t},shape)),mouseleave = ()=>this.clear().drawImage(backup.canvas,0,0),\r\n\t\t\t/**## 唯一可以取消该功能的函数 */\r\n\t\t\tcancelMouseClear = ()=>(\r\n\t\t\t\tself.removeEventListener('mouseenter',mouseenter),\r\n\t\t\t\tself.removeEventListener('mouseleave',mouseleave),\r\n\t\t\t\tself.removeEventListener('mousemove',mousemove)\r\n\t\t\t);\r\n\t\t\tself.addEventListener('mouseenter',mouseenter),self.addEventListener('mouseleave',mouseleave),self.addEventListener('mousemove',mousemove);\r\n\t\t\treturn cancelMouseClear;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{x: Number;y: Number;radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t\t * @param {'rect' | 'circle'} [shape] \r\n\t\t */\r\n\t\tclearShape({x = 0,y = 0,radiusX,radiusY,relative} = {},shape){\r\n\t\t\tvar failed = false;\r\n\t\t\ttypeof radiusX === 'number' ? typeof radiusY === 'number' || (radiusY = radiusX) :\r\n\t\t\ttypeof radiusY === 'number' ? radiusX = radiusY : failed = true;\r\n\t\t\tfailed || (failed = !Number.isFinite(radiusX + radiusY));\r\n\t\t\tif(failed) return Promise.reject(new Error('\"radiusX\": '+String(radiusX)+' or \"radiusY\": '+String(radiusY)+' must be legal number !'));\r\n\t\t\tif(typeof x !== 'number') x = 0;if(typeof y !== 'number') y = 0;\r\n\t\t\tfailed || (failed = !Number.isFinite(x + y));\r\n\t\t\tif(failed) return Promise.reject(new Error('\"x\": '+String(x)+' or \"y\": '+String(y)+' must be legal number !'));\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{\r\n\t\t\t\tconst self = this.proto.self,temp = this.proto.temp;\r\n\t\t\t\tvar i = 0,j;\r\n\t\t\t\tradiusX = Math.abs(relative ? radiusX * this.width / 2 : radiusX);\r\n\t\t\t\tradiusY = Math.abs(relative ? radiusY * this.height / 2 : radiusY);\r\n\t\t\t\ttemp.canvas.width = self.width,temp.canvas.height = self.height;\r\n\t\t\t\ttemp.drawImage(self,0,0);\r\n\t\t\t\tswitch(shape){\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tx = Math.round(x),y = Math.round(y),radiusX = Math.ceil(radiusX),radiusY = Math.ceil(radiusY);\r\n\t\t\t\t\t\tconst yPOW2 = radiusY ** 2,yDIVxPOW2 = yPOW2 / radiusX ** 2;\r\n\t\t\t\t\t\twhile(i ++< radiusX) j = Math.floor(Math.sqrt(yPOW2 - i ** 2 * yDIVxPOW2)) + 1,temp.clearRect(x - i,y - j,i * 2,j * 2);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'rect': {\r\n\t\t\t\t\t\ttemp.clearRect(Math.floor(x - radiusX),Math.floor(y - radiusY),Math.ceil(radiusX * 2),Math.ceil(radiusY * 2));\r\n\t\t\t\t\t\tthis.clear().drawImage(temp.canvas,0,0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}this.clear().drawImage(temp.canvas,0,0);\r\n\t\t\t}).catch(e=>console.error(e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{\r\n\t\t * prefix: String; suffix: String; startN: Number; length: Number; midLength?: Number;\r\n\t\t * bgSrc?: String; playMode?: 0 | 1 | 2 | 3; timeSep?: Number; sizeMode?: 'std' | 'auto';\r\n\t\t * resizeAfter?: Boolean;\r\n\t\t * }} param0 \r\n\t\t * @returns {{loaded: Promise<void>,finished: Promise<void>}}\r\n\t\t */\r\n\t\tanimate({\r\n\t\t\tprefix,suffix,startN = 0,length,midLength,\r\n\t\t\tbgSrc,playMode = 0,timeSep = 100,sizeMode = 'std',resizeAfter = true,\r\n\t\t} = {}){\r\n\t\t\tconst size = {width: this.width,height: this.height},config = '1235',srcArr = [];\r\n\t\t\tvar i = startN + length + playMode;\r\n\t\t\tlength *= config[playMode] || 1;\r\n\t\t\ttimeSep /= config[playMode] || 1;\r\n\t\t\twhile(i --> startN) srcArr.push(prefix+RealCanvas.strN(i,midLength)+suffix);\r\n\t\t\treturn this.preloadSrc(srcArr),i = 0,{loaded: this.loaded,finished: this.loaded.then(()=>{\r\n\t\t\t\tvar resize;\r\n\t\t\t\t/**@type {RealWorld} */\r\n\t\t\t\tconst temp = new RealWorld(timeSep);\r\n\t\t\t\tswitch(sizeMode){\r\n\t\t\t\t\tcase 'auto': resize = true;break;\r\n\t\t\t\t}\r\n\t\t\t\tswitch(playMode){\r\n\t\t\t\t\tdefault: while(length --> 0) temp.then(this.multiDrawSrcArray,this,{bgSrc,resize},prefix+RealCanvas.strN(startN++,midLength)+suffix);\r\n\t\t\t\t\tcase 1:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t(i = !i) || prefix+RealCanvas.strN(startN++,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\tprefix+RealCanvas.strN(startN,midLength)+suffix\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 2:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 2 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t),3 ===++ i && (startN++,i %= 3);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 3:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\t// this.multiDrawSrcArray,this,{bgSrc,autoOpacity: true},\r\n\t\t\t\t\t\t\t// 3 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 0 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t\t// 2 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 1 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t\t// 2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 4 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t2 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 3 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t3 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 2 < i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t),5 ===++ i && (startN++,i %= 5);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn temp.then(()=>(this.clearTemp(),resizeAfter && Object.assign(this,size),temp.destroy()));\r\n\t\t\t})};\r\n\t\t}\r\n\t\tget ctx(){return this.proto.ctx;}\r\n\t\tget img(){return this.proto.img;}\r\n\t\tget imgW(){return this.proto.img.naturalWidth;}\r\n\t\tget imgH(){return this.proto.img.naturalHeight;}\r\n\t\tget width(){return this.proto.self.width;}\r\n\t\tset width(width){this.proto.self.width = this.proto.temp.canvas.width = width ?? 640;}\r\n\t\tget height(){return this.proto.self.height;}\r\n\t\tset height(height){this.proto.self.height = this.proto.temp.canvas.height = height ?? 360;}\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){if(self instanceof HTMLCanvasElement) this.proto.ctx = (this.proto.self = self).getContext('2d');}\r\n\t\tget clearBeforeDraw(){return this.loaded.then(()=>this.proto.clearBeforeDraw);}\r\n\t\tset clearBeforeDraw(clearBeforeDraw){this.loaded = Promise.resolve(this.loaded).then(()=>this.proto.clearBeforeDraw = clearBeforeDraw);}\r\n\t\tget temp(){return this.proto.temp.canvas;}\r\n\t\tset temp(src){return this.proto.set.call(this,src).then(()=>(this.proto.temp.drawImage(this.img,0,0),true),this.rejectSrc.bind(this,src));}\r\n\t\tget opacity(){return this.loaded.then(()=>this.proto.ctx.globalAlpha);}\r\n\t\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\t\tset opacity(opacityConfig){\r\n\t\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\t\tthen(value=>{this.proto.ctx.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t\t}\r\n\t\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\t\tset tempOpacity(opacityConfig){\r\n\t\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\t\tthen(value=>{this.proto.temp.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t\t}\r\n\t\tloaded = RealNode.now;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} [width] \r\n\t\t * @param {Number} [height] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {...RealNode} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor(id,width,height,tryRealNode,...relativeRNs){\r\n\t\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\t\tself && self.tagName.toLocaleLowerCase() !== 'canvas' &&\r\n\t\t\tRealNode.error('=> \"id\" exists but not within an HTMLCanvasElement !');\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({self: self || RealElement.makeElement('canvas',{id})},{id},tryRealNode,...relativeRNs);\r\n\t\t\t/**@type {AntiCanvas} */\r\n\t\t\tthis.proto;\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\t\t\tthis.proto.ctx = this.proto.self.getContext('2d');\r\n\t\t}\r\n\t};\r\n\tvar RealLoader =\r\n\t/** @template {Boolean} T */\r\n\tclass RealLoader extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {onerror: null | (error: Error)=>void,onloadend: null | (n: Number)=>void}} AntiLoader */\r\n\t\tstatic proto = class AntiLoader extends RealTarget.proto{\r\n\t\t\t/**@type {null | (error: Error)=>void} */\r\n\t\t\tonerror;\r\n\t\t\t/**@type {null | (this: RealLoader)=>void} */\r\n\t\t\tonloadend;\r\n\t\t};\r\n\t\tstatic fs = (()=>{\r\n\t\t\tconst initHEAD = {method: 'HEAD'},onfulfilled = r=>[,r],onrejected = e=>[e];\r\n\t\t\tclass DocumentFs{get stat(){return DocumentFs.stat;}get readdir(){return DocumentFs.readdir;}}\r\n\t\t\t\t/**@type {(path: string | URL | globalThis.Request,init?: RequestInit)=>[?Error,?Response]} */\r\n\t\t\tDocumentFs.fetch = (()=>{\r\n\t\t\t\t/**\r\n\t\t\t\t * \r\n\t\t\t\t * @template {Response} T\r\n\t\t\t\t * @param {T} response \r\n\t\t\t\t */\r\n\t\t\t\tconst temp = response=>response.status < 300 ? response : RealLoader.error('Failed request !');\r\n\t\t\t\treturn browserMode && document.location.protocol === 'file:' ?\r\n\t\t\t\t(path,init)=>fetch(path,(init = Object.assign({},init),init.mode = 'no-cors',init)).then(temp) :\r\n\t\t\t\t(path,init)=>fetch(path,Object(init)).then(temp);\r\n\t\t\t})();\r\n\t\t\t/**@type {(path: String)=>Promise<[Error | null,Stats | Response]>} */\r\n\t\t\tDocumentFs.stat = nodeMode ? (async (path)=>RealWorld.cb2promise({thisArg: await nodeFS,useFn: 'stat'},path)) :\r\n\t\t\t(path=>DocumentFs.fetch(path,initHEAD).then(onfulfilled,onrejected));\r\n\t\t\t/**@type {(path: String,...strArgs: (String | String[])[])=>Promise<[Error | null,String[]]>} */\r\n\t\t\tDocumentFs.readdir = nodeMode ?\r\n\t\t\t(async (path)=>RealWorld.cb2promise({thisArg: await nodeFS,useFn: 'readdir'},path)) :\r\n\t\t\t(async (path,...strArgs)=>{try{\r\n\t\t\t\tconst length = strArgs.length;\r\n\t\t\t\tvar i = length,fileName;\r\n\t\t\t\t/\\/$/.test(path) || (path += '/');\r\n\t\t\t\tiLoop: while(i --> 0){\r\n\t\t\t\t\tif(Array.isArray(strArgs[i])){\r\n\t\t\t\t\t\tfor(fileName = strArgs[i].length;fileName --> 0;) strArgs[i][fileName] = String(strArgs[i][fileName]);\r\n\t\t\t\t\t\tcontinue iLoop;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst str = String(strArgs[i]);\r\n\t\t\t\t\tif('\\\\' === str[0]) switch(str[1]){\r\n\t\t\t\t\t\tcase 'w': strArgs[i] = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';break;\r\n\t\t\t\t\t\tcase 'd': strArgs[i] = '0123456789';break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse strArgs[i] = [str];\r\n\t\t\t\t}\r\n\t\t\t\tconst statList = [],testFileNameList = [],fileNameList = [];\r\n\t\t\t\tfor(const temp = Array(length).fill(0);!('-1' in temp);){\r\n\t\t\t\t\tfileName = '';\r\n\t\t\t\t\tfor(i = 0;i < length;i++) fileName+=strArgs[i][temp[i]];\r\n\t\t\t\t\ttestFileNameList.push(fileName),fileName = path+fileName,statList.push(DocumentFs.stat(fileName));\r\n\t\t\t\t\t// log(fileName);\r\n\t\t\t\t\tfor(temp[(i = length) - 1]++;i --> 0;) strArgs[i].length > temp[i] || (temp[i] = 0,temp[i - 1]++);\r\n\t\t\t\t}\r\n\t\t\t\tconst resultList = await Promise.all(statList),limit = resultList.length;\r\n\t\t\t\tfor(i = 0;i < limit;i++) resultList[i][0] ?? log(fileNameList.push(testFileNameList[i]),testFileNameList[i]);\r\n\t\t\t\treturn [null,fileNameList];\r\n\t\t\t}catch(e){return [e,[]];}});\r\n\t\t\treturn new DocumentFs;\r\n\t\t})();\r\n\t\tstatic _configDescriptor = (browserMode && addEventListener('click',async e=>{\r\n\t\t\tif(e.target.classList.contains('RealLoader')) for(const temp of RealTarget.searchByObj(e.target)) if(temp instanceof RealLoader){\r\n\t\t\t\ttry{const err = (await RealLoader.load(temp))[0];err ? temp.onerror?.(err) : temp.onloadend?.();}catch(e){console.error(e);}\r\n\t\t\t\ttemp.notify(true);\r\n\t\t\t\ttemp.react?.();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}),{writable: false,enumerable: false,configurable: false});\r\n\t\tstatic getArrayBufferFrom(data){return Promise.resolve(\r\n\t\t\tdata instanceof ArrayBuffer ? data : ArrayBuffer.isView(data) ? data.buffer :\r\n\t\t\tdata instanceof Blob ? data.arrayBuffer() : new Blob(Array.isArray(data) ? data.join('') : String(data)).arrayBuffer()\r\n\t\t);}\r\n\t\t/**@type {(realLoader: RealLoader)=>Promise<[Error | null,Number | undefined]>} @method */\r\n\t\tstatic load = (\r\n\t\t\tnodeMode ? (async (realLoader)=>{try{\r\n\t\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[];\r\n\t\t\t\t}\r\n\t\t\t\tconst fs = await nodeFS;\r\n\t\t\t\tconst data = await realLoader.dataGetter();\r\n\t\t\t\tconst {1: prefix = 'file',2: suffix = ''} = /(.+)(\\..+)/.exec(realLoader.temp.download) || [];\r\n\t\t\t\tconst result = await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},'./'+realLoader.temp.download);\r\n\t\t\t\tif(!result) this.error('Unknown Error !');\r\n\t\t\t\tif(result[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},'./'+realLoader.temp.download,Buffer.from(ab)));\r\n\t\t\t\tfor(var i = 1;true;i++){\r\n\t\t\t\t\tconst path = './'+prefix+' - '+i+suffix;\r\n\t\t\t\t\tif((await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},path))[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},path,Buffer.from(ab)));\r\n\t\t\t\t}\r\n\t\t\t}catch(e){return [e];}}) :\r\n\t\t\t(()=>{\r\n\t\t\t\tconst toBlob = data=>new Blob(data);\r\n\t\t\t\treturn async (realLoader)=>{try{\r\n\t\t\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst data = await realLoader.dataGetter();\r\n\t\t\t\t\tconst href = URL.createObjectURL(await(\r\n\t\t\t\t\t\ttypeof data === 'string' ? new Blob([data]) : data instanceof Blob ? data : RealLoader.getArrayBufferFrom(data).then(toBlob)\r\n\t\t\t\t\t));\r\n\t\t\t\t\treturn realLoader.temp.href = href,realLoader.temp.click(),URL.revokeObjectURL(href),[];\r\n\t\t\t\t}catch(e){return [e];}}\r\n\t\t\t})()\r\n\t\t);\r\n\t\tload(){return RealLoader.load(this);}\r\n\t\tprotoSet(value){return this.self[this.key] = String(value),false;}\r\n\t\t/**@returns {FileList} */\r\n\t\tget files(){return 'upload' === this.type ? this.temp.files : this.error('I\\'m an downloader without files !');}\r\n\t\tget onerror(){return this.proto.onerror;}\r\n\t\tset onerror(onerror){this.proto.onerror = typeof onerror === 'function' ? onerror : null;}\r\n\t\tget onloadend(){return this.proto.onloadend;}\r\n\t\tset onloadend(onloadend){this.proto.onloadend = typeof onloadend === 'function' ? onloadend : null;}\r\n\t\tget fileName(){return 'upload' === this.type ? this.error('Uploader bans \"fileName\" !') : this.temp.download;}\r\n\t\tset fileName(fileName){\r\n\t\t\t'upload' === this.type && this.error('Uploader bans \"fileName\" !');\r\n\t\t\ttypeof fileName === 'symbol' && this.error('\"fileName\" must be String but not Symbol !');\r\n\t\t\tif(nodeMode && !/^\\.\\//.test(fileName)) fileName = './'+fileName;\r\n\t\t\tthis.temp.download = fileName;\r\n\t\t}\r\n\t\t/**@type {()=>*} */\r\n\t\tdataGetter;\r\n\t\t// /**@type {Promise<Buffer | String>} */\r\n\t\t// data;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {T} isDownload \r\n\t\t * @param {String} fileName \r\n\t\t * @param {()=>*} dataGetter \r\n\t\t * @param {{innerHTML?: String;onerror?: (e)=>void;onloadend?: (this: RealLoader)=>void;}} param3 \r\n\t\t */\r\n\t\tconstructor(isDownload,fileName,dataGetter,{innerHTML,onerror,onloadend} = {}){\r\n\t\t\tsuper({self: document.createElement('div'),key: 'innerHTML'});\r\n\t\t\t/**@type {AntiLoader} */\r\n\t\t\tthis.proto;\r\n\t\t\tthis.onerror = onerror;\r\n\t\t\tthis.onloadend = onloadend;\r\n\t\t\tthis.dataGetter = dataGetter;\r\n\t\t\tthis.value = innerHTML;\r\n\t\t\tisDownload = Boolean(isDownload);\r\n\t\t\tthis.temp = document.createElement(isDownload ? 'a' : 'input');\r\n\t\t\tReflect.defineProperty(this,'temp',RealLoader._configDescriptor);\r\n\t\t\tthis.type = isDownload ? (this.fileName = fileName || 'file','download') : (this.temp.type = 'file','upload');\r\n\t\t\tReflect.defineProperty(this,'type',RealLoader._configDescriptor);\r\n\t\t}\r\n\t};\r\n\tvar RealSelect = class RealSelect extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {list: HTMLOptionElement[]}} AntiSelect */\r\n\t\tstatic proto = class AntiSelect extends RealTarget.proto{\r\n\t\t\t/**@type {HTMLOptionElement[]} */\r\n\t\t\tlist = [];\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealSelect}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value,i;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value){\r\n\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\tfix:for(const key of Object.keys(value)) if(key !== position[0]) i++;else{\r\n\t\t\t\t\t\t\tthis.proto.list[i].value = String(tempValue);\r\n\t\t\t\t\t\t\tbreak fix;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealSelect) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{[text: String]: String}} value \r\n\t\t */\r\n\t\tprotoSet(value){return this.proto.value = Object.assign({},value),true;}\r\n\t\tfix(){\r\n\t\t\tthis.self[this.key] = this.protoTransform(this.proto.value);\r\n\t\t\tthis.proto.list = Array.from(this.self.children);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tgetValueIndexs(){\r\n\t\t\tvar i = this.proto.list.length,temp = [];\r\n\t\t\twhile(i --> 0) this.proto.list[i].selected && temp.push(i);\r\n\t\t\treturn temp.reverse();\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {String[]}\r\n\t\t */\r\n\t\tprotoGet(){\r\n\t\t\tconst valueArray = [],list = this.proto.list,end = list.length;\r\n\t\t\tfor(var i = 0;i < end;i++){list[i].selected && valueArray.push(list[i].value);}\r\n\t\t\treturn valueArray;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Array} value \r\n\t\t */\r\n\t\tprotoTransform(value,defaultKey = String(this.defaultKey),defaultValue = String(this.defaultValue)){\r\n\t\t\tvar now;\r\n\t\t\tif(this instanceof RealSelect && !this.self.multiple) value = Object.assign({[defaultKey]: defaultValue},value);\r\n\t\t\tconst innerHTML = [],iterator = Object.entries(value).sort((a,b)=>a[0].localeCompare(b[0])).sort((a,b)=>a[0] - b[0]).values();\r\n\t\t\twhile(!(now = iterator.next()).done)\r\n\t\t\t\tinnerHTML.push(`<option value=\"${String(now.value[1])}\" ${now.value[0] === defaultKey ? 'selected' : ''}>${now.value[0]}</option>`);\r\n\t\t\treturn innerHTML.join('');\r\n\t\t}\r\n\t\t/**@returns {Element[]} */\r\n\t\tget list(){return this.proto.list;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | null} id \r\n\t\t * @param {Boolean} multiple \r\n\t\t * @param {{[text: String]: String}} optionConfig \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {String} [defaultKey] \r\n\t\t * @param {String} [defaultValue] \r\n\t\t * @param {(e: Event)=>void} [onchange] \r\n\t\t */\r\n\t\tconstructor(id,multiple,optionConfig,tryRealNode,defaultKey,defaultValue,onchange){\r\n\t\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\t\tif(self) self.tagName.toLocaleLowerCase() === 'select' ? Object.assign(self,{multiple,onchange}) :\r\n\t\t\tRealNode.error('=> \"id\" exists but not within an HTMLSelectElement !');\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({\r\n\t\t\t\tkey: 'innerHTML',self: self || RealElement.makeElement('select',{id,multiple,onchange})\r\n\t\t\t},{id,initValue: Object.assign({},optionConfig)},tryRealNode);\r\n\t\t\t/**@type {AntiSelect} */this.proto;\r\n\t\t\tthis.defaultKey = defaultKey ?? '_';\r\n\t\t\tthis.defaultValue = defaultValue ?? '';\r\n\t\t\tthis.fix();\r\n\t\t}\r\n\t};\r\n\tvar RealComtag = class RealComtag extends RealElement{\r\n\t\t/**@type {Map<String,[Boolean,*[],Boolean,((this: RealComtag)=>void) | null]>} */\r\n\t\tstatic comtagClassMap = new Map;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} className \r\n\t\t * @param {Boolean} tryHTML \r\n\t\t * @param {ArrayLike} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {{[selector: String]: {[styleName: String]: String}}} [cssRuleObjObj] \r\n\t\t * @param {(this: RealComtag)=>void} [callback] \r\n\t\t */\r\n\t\tstatic defineComtagClass(className,tryHTML,optionList,tryRealNode,cssRuleObjObj,callback){\r\n\t\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\t\tthis.comtagClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\t\tthis.comtagClassMap.set(className,[tryHTML,optionList,tryRealNode,typeof callback === 'function' ? callback : null]);\r\n\t\t}\r\n\t\tstatic createByClassName(className,...argArray){\r\n\t\t\tconst config = this.comtagClassMap.get(className);\r\n\t\t\tconfig || this.error('\"className\" not found !');\r\n\t\t\tconst temp = new RealComtag('',config[0],config[1],config[2]);\r\n\t\t\treturn config[3].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t\t}\r\n\t\tfix(){\r\n\t\t\tvar temp = this.transform(this.proto.value),l = temp.length,i = 0;\r\n\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\twhile(i < l) elementList.appendChild(temp[i++]);\r\n\t\t\tthis.self.innerHTML = '';\r\n\t\t\tthis.self.appendChild(elementList);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tprotoTransform(value){\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');else{\r\n\t\t\t\tconst list = [];\r\n\t\t\t\tfor(const temp of value) list.push(temp instanceof Element ? temp : document.createElement(String(temp)));\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');else{\r\n\t\t\t\t/**@type {IterableIterator<HTMLImageElement | String>} */\r\n\t\t\t\tconst iter0 = this.proto.value[Symbol.iterator]();\r\n\t\t\t\tconst iter1 = value[Symbol.iterator]();\r\n\t\t\t\t/**@type {[IteratorResult<HTMLImageElement>,IteratorResult<HTMLImageElement>]} */\r\n\t\t\t\tconst temp = Array(2);\r\n\t\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)){\r\n\t\t\t\t\tif(temp[0].done) break;\r\n\t\t\t\t\tif(temp[0].value !== temp[1].value) return this.proto.value = Array.from(value),true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} id \r\n\t\t * @param {Boolean} tryHTML \r\n\t\t * @param {(String | Element)[]} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,tryHTML,optionList,tryRealNode,selfAssign){\r\n\t\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({self: self || RealElement.makeElement('div',{id})},{\r\n\t\t\t\tid,initValue: !optionList?.[Symbol.iterator] ? [] : Array.from(optionList)\r\n\t\t\t},tryRealNode);\r\n\t\t\t/**@type {AntiList} */\r\n\t\t\tthis.proto;\r\n\t\t\tthis.tryHTML = tryHTML;\r\n\t\t\tObject.assign(this.fix().self,selfAssign);\r\n\t\t}\r\n\t};\r\n\tvar RealDivList = class RealDivList extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {list: Element[],childrenList: Element[][]}} AntiList */\r\n\t\tstatic proto = class AntiList extends RealTarget.proto{\r\n\t\t\t/**@type {HTMLDivElement[]} */\r\n\t\t\tlist = [];\r\n\t\t\t/**@type {Element[][]} */\r\n\t\t\tchildrenList = [];\r\n\t\t}\r\n\t\t/**@type {Map<String,[Boolean,*[],Boolean,((this: RealDivList)=>void) | null]>} */\r\n\t\tstatic divListClassMap = new Map;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} length \r\n\t\t * @param {String} tagName \r\n\t\t * @param {String} [id] \r\n\t\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t\t */\r\n\t\tstatic createList(length = 0,tagName,id,selfAssign){\r\n\t\t\tconst temp = [];\r\n\t\t\twhile(length --> 0) temp.push(document.createElement(tagName));\r\n\t\t\treturn new RealDivList(id,true,temp,RealDivList.tryRealNode,selfAssign);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealDivList}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse().concat(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value) (position[1] = this.proto.list[position[0]]).innerHTML = '';\r\n\t\t\t\t\ttempValue instanceof Element ? position[1].appendChild(tempValue) :\r\n\t\t\t\t\tthis.tryHTML ? position[1].innerHTML = tempValue : position[1].textContent = tempValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealDivList) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} className \r\n\t\t * @param {Boolean} tryHTML \r\n\t\t * @param {ArrayLike} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {{[selector: String]: {[styleName: String]: String}}} [cssRuleObjObj] \r\n\t\t * @param {(this: RealDivList)=>void} [callback] \r\n\t\t */\r\n\t\tstatic defineDivListClass(className,tryHTML,optionList,tryRealNode,cssRuleObjObj,callback){\r\n\t\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\t\tthis.divListClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\t\tthis.divListClassMap.set(className,[tryHTML,optionList,tryRealNode,typeof callback === 'function' ? callback : null]);\r\n\t\t}\r\n\t\tstatic createByClassName(className,...argArray){\r\n\t\t\tconst config = this.divListClassMap.get(className);\r\n\t\t\tconfig || this.error('\"className\" not found !');\r\n\t\t\tconst temp = new RealDivList('',config[0],config[1],config[2]);\r\n\t\t\treturn config[3].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Element[]}\r\n\t\t */\r\n\t\tprotoGet(){return this.proto.list;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){return this.proto.value = Array.from(value),true;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Array} value \r\n\t\t */\r\n\t\tprotoTransform(value){\r\n\t\t\tvar list = [],temp,ele;\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');\r\n\t\t\tconst iter = value[Symbol.iterator]();\r\n\t\t\twhile(!(temp = iter.next()).done){\r\n\t\t\t\tlist.push(ele = document.createElement('div'));\r\n\t\t\t\ttemp.value instanceof Element ? ele.appendChild(temp.value) :\r\n\t\t\t\tthis.tryHTML ? ele.innerHTML = String(temp.value) : ele.textContent = String(temp.value);\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} [toRealElement] \r\n\t\t * @param {String} [key] \r\n\t\t * @returns {{[id: String]: Element} | {[id: String]: RealElement}}\r\n\t\t */\r\n\t\tgetIdDict(toRealElement,key){\r\n\t\t\t/**@type {{[id: String]: Element} | {[id: String]: RealElement}} */\r\n\t\t\tconst list = Object.create(null);\r\n\t\t\tvar i = this.proto.list.length,temp;\r\n\t\t\tif(toRealElement) while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t\t(list[temp[0].id] = new RealElement({self: this.proto.list[i],key}));\r\n\t\t\telse while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t\t(list[temp[0].id] = this.proto.list[i]);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {RealElement[]}\r\n\t\t */\r\n\t\tgetRealEmentList(){\r\n\t\t\tconst temp = this.proto.list.concat();\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = new RealElement({self: temp[i]});\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tfix(){\r\n\t\t\tvar i = 0;\r\n\t\t\t/**@type {HTMLDivElement[]} list */\r\n\t\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\twhile(i < list.length){childrenList.push(Array.from(elementList.appendChild(list[i++]).children));}\r\n\t\t\tthis.self.innerHTML = '';\r\n\t\t\tthis.self.appendChild(elementList);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**@type {Element[][]} */\r\n\t\tget childrenList(){return this.proto.childrenList;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} id \r\n\t\t * @param {Boolean} tryHTML \r\n\t\t * @param {(Element | String)[]} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,tryHTML,optionList,tryRealNode,selfAssign){\r\n\t\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({self: self || RealElement.makeElement('div',{id})},{\r\n\t\t\t\tid,initValue: !optionList?.[Symbol.iterator] ? [] : Array.from(optionList)\r\n\t\t\t},tryRealNode);\r\n\t\t\t/**@type {AntiList} */this.proto;\r\n\t\t\tthis.tryHTML = tryHTML;\r\n\t\t\tObject.assign(this.fix().self,selfAssign);\r\n\t\t}\r\n\t};\r\n\tvar RealImgList = class RealImgList extends RealDivList{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealImgList}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value) this.proto.childrenList[position[0]][0].src = String(tempValue?.src ?? tempValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealImgList) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {HTMLImageElement[]}\r\n\t\t */\r\n\t\tcloneImgList(){\r\n\t\t\tconst temp = this.childrenList.concat();\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = temp[i][0].cloneNode();\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Array} value \r\n\t\t */\r\n\t\tprotoTransform(value){\r\n\t\t\tvar list = [],temp;\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');\r\n\t\t\tconst iter = value[Symbol.iterator]();\r\n\t\t\twhile(!(temp = iter.next()).done){\r\n\t\t\t\tlist.push(temp.done = document.createElement('div'));\r\n\t\t\t\ttemp.done.appendChild(temp.value instanceof Image ? temp.value : Object.assign(new Image(),{src: String(temp.value)}));\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');else{\r\n\t\t\t\t/**@type {IterableIterator<HTMLImageElement | String>} */\r\n\t\t\t\tconst iter0 = this.proto.value[Symbol.iterator]();\r\n\t\t\t\tconst iter1 = value[Symbol.iterator]();\r\n\t\t\t\t/**@type {[IteratorResult<HTMLImageElement>,IteratorResult<HTMLImageElement>]} */\r\n\t\t\t\tconst temp = Array(2);\r\n\t\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)){\r\n\t\t\t\t\tif(temp[0].done) break;\r\n\t\t\t\t\tif((temp[0].value?.src ?? String(temp[0].value)) !== (temp[1].value?.src ?? String(temp[1].value))){\r\n\t\t\t\t\t\treturn this.proto.value = Array.from(value),true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} id \r\n\t\t * @param {(Element | String)[]} srcList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,srcList,tryRealNode,selfAssign){super(id,true,srcList,tryRealNode,selfAssign);}\r\n\t};\r\n\tvar RealDivQueue = class RealDivQueue extends RealDivList{\r\n\t\t/**@typedef {AntiList & {queueArray: Number[]}} AntiQueue */\r\n\t\tstatic proto = class AntiQueue extends RealDivList.proto{\r\n\t\t\t/**@type {Number[]} */\r\n\t\t\tqueueArray;\r\n\t\t}\r\n\t\t/**@type {Element} */\r\n\t\tstatic tempTarget = void(browserMode && (RealWorld.onload.then(()=>RealElement.addCSSRules('.RealDivQueue',{\r\n\t\t\t// '>div': {'transition-duration':'.1s'},\r\n\t\t\t'>div:hover': {'transform':'scale(1.1,1)'},\r\n\t\t\t'>div:active': {'transform':'scale(1.2,1)'},\r\n\t\t})),addEventListener('mousedown',e=>(RealDivQueue.tempTarget = e.target)),addEventListener('mouseup',e=>{\r\n\t\t\t/**@type {RealDivQueue} */\r\n\t\t\tvar realDivQueue,target,queue;\r\n\t\t\tconst list0 = [target = RealDivQueue.tempTarget];\r\n\t\t\twhile(target = target.parentElement) list0.push(target);\r\n\t\t\tconst list1 = [target = e.target];\r\n\t\t\twhile(target = target.parentElement) list1.push(target);\r\n\t\t\tif(list0.pop() !== list1.pop()) return;\r\n\t\t\ttarget = [];\r\n\t\t\twhile((target[0] = list0.pop()) === (target[1] = list1.pop())) if(!list0.length) return;\r\n\t\t\tconst [target0,target1] = target;\r\n\t\t\tif(!target0 || !target1) return;\r\n\t\t\t/**@type {Element} */\r\n\t\t\tconst temp = target0.parentElement;\r\n\t\t\tif(temp.classList.contains('RealDivQueue')){\r\n\t\t\t\tfor(realDivQueue of RealTarget.searchByObj(temp)) if(realDivQueue instanceof RealDivQueue) break;\r\n\t\t\t\tqueue = realDivQueue.queueArray;\r\n\t\t\t\tqueue = (target[0] = queue.indexOf(realDivQueue.proto.list.indexOf(target[0]))) >\r\n\t\t\t\t(target[1] = queue.indexOf(realDivQueue.proto.list.indexOf(target[1]))) ?\r\n\t\t\t\tqueue.slice(0,target[1]).concat(queue[target[0]],queue.slice(target[1],target[0]),queue.slice(target[0] + 1)) :\r\n\t\t\t\tqueue.slice(0,target[0]).concat(queue.slice(target[0] + 1,target[1] + 1),queue[target[0]],queue.slice(target[1] + 1));\r\n\t\t\t\trealDivQueue.applyQueue(queue,target0,target1);\r\n\t\t\t}\r\n\t\t})));\r\n\t\tgetListQueue(){\r\n\t\t\t/**@type {AntiQueue} */this.proto;\r\n\t\t\t/**@type {Element[]} */\r\n\t\t\tconst temp = this.queueArray;\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = this.proto.list[temp[i]];\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tfix(){\r\n\t\t\tvar i = 0;\r\n\t\t\t/**@type {HTMLDivElement[]} list */\r\n\t\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\t\twhile(i < list.length) childrenList.push(Array.from(list[i++].children));\r\n\t\t\treturn this.applyQueue([]);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number[]} queueArray \r\n\t\t * @param {Element} [target0] \r\n\t\t * @param {Element} [target1] \r\n\t\t * @returns \r\n\t\t */\r\n\t\tapplyQueue(queueArray,target0,target1){\r\n\t\t\tconst previousQueue = this.queueArray ?? [];\r\n\t\t\tconst temp = Array.isArray(queueArray);queueArray = temp ? queueArray.slice(0,this.proto.list.length) : previousQueue;\r\n\t\t\tconst list = this.proto.list.concat(),length = list.length,top = this.self.scrollTop,left = this.self.scrollLeft;\r\n\t\t\tvar i = length;\r\n\t\t\twhile(i --> 0) queueArray[i] == null && (queueArray[i] = i),queueArray.indexOf(i) === -1 && this.error('Illegal \"queueArray\" !');\r\n\t\t\ti = [previousQueue.indexOf(this.proto.list.indexOf(target0)),previousQueue.indexOf(this.proto.list.indexOf(target1))];\r\n\t\t\tif(i[0] !== -1 && i[1] !== -1) i[0] < i[1] ? target1.insertAdjacentElement('afterend',target0) :\r\n\t\t\ttarget1.insertAdjacentElement('beforebegin',target0);\r\n\t\t\telse{\r\n\t\t\t\ti = 0;\r\n\t\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\t\twhile(i < length) elementList.appendChild(list[queueArray[i++]]);\r\n\t\t\t\tthis.self.classList.add('disappear');\r\n\t\t\t\tthis.self.innerHTML = '';\r\n\t\t\t\tthis.self.appendChild(elementList);\r\n\t\t\t\tthis.self.scrollTo({top,left,behavior: 'instant'});\r\n\t\t\t\tthis.self.classList.remove('disappear');\r\n\t\t\t}\r\n\t\t\tthis.proto.queueArray = queueArray;\r\n\t\t\tif(temp) this.react?.(),this.notify(true);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**@type {Number[]} */\r\n\t\tget queueArray(){return this.proto.queueArray?.concat?.();}\r\n\t};\r\n\t/**\r\n\t * \r\n\t * @param {{[key: String]: *}} [optionConfig] \r\n\t * @param {Boolean} [multiple] \r\n\t * @param {(this: RealDivList,e: Event)=>void} [onchange] \r\n\t */\r\n\tvar createRealDivSelect = (optionConfig,multiple,onchange)=>RealDivList.createByClassName('realDivSelect',optionConfig,multiple,onchange);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSelect',false,[],true,{\r\n\t\t'': {'background':'linear-gradient(135deg,#fff,#000)'},\r\n\t\t'>div': {'background-color':'#333','transform':'scale(0.8,1)'},\r\n\t\t'>div:hover': {'transform':'scale(0.9,1)'},\r\n\t\t'>.selected': {'background-color':'#555','transform':'scale(1)','font-weight':'bolder'},\r\n\t},(()=>{\r\n\t\tconst changeConfig = {bubbles: true,cancelable: false};\r\n\t\t/**@type {(this: RealDivList)=>*[]} */\r\n\t\tfunction tempGet(){\r\n\t\t\tconst temp = [],list = this.proto.list;\r\n\t\t\tfor(var i = 0;list[i];i++) list[i].classList.contains('selected') && temp.push(this.info.optionList[i]);\r\n\t\t\tthis.info.multiple || temp.length || !i || (list[0].classList.add('selected'),temp.push(this.info.optionList[0]));\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@type {(this: RealDivList,value: {})=>false} */\r\n\t\tfunction tempSet(value){\r\n\t\t\tfor(const key of (\r\n\t\t\t\tthis.info.optionList = [],\r\n\t\t\t\tthis.proto.value = Object.keys(value = Object(value)).sort().sort((a,b)=>a - b)\r\n\t\t\t)) this.info.optionList.push(value[key]);\r\n\t\t\treturn this.fix().value,false;\r\n\t\t}\r\n\t\t/**@type {(RS: RealDivList)=>Boolean} */\r\n\t\tasync function tempReact(RS){return RS.react?.(),await RS.notify(),RS.self.dispatchEvent(new Event('change',changeConfig));}\r\n\t\taddEventListener('click',e=>{\r\n\t\t\t/**@type {?Element} */\r\n\t\t\tconst parentElement = e.target.parentElement;\r\n\t\t\tif(!parentElement || !parentElement.classList.contains('realDivSelect')) return;\r\n\t\t\tvar i = 0,REList,temp;\r\n\t\t\tREList = RealTarget.searchByObj(parentElement);\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\tconst RS = temp,previousValue = RS.value[0];\r\n\t\t\tREList = RS.proto.list;\r\n\t\t\tif(RS.info.multiple) return e.target.classList.toggle('selected'),tempReact(RS);\r\n\t\t\twhile(temp = REList[i++]) e.target === temp ? temp.classList.add('selected') : temp.classList.remove('selected');\r\n\t\t\tpreviousValue === RS.value[0] || tempReact(RS);\r\n\t\t});\r\n\t\t/**@type {(this: RealDivList,optionConfig?: {[key: String]: *},multiple?: Boolean,onchange?: (this: RealDivList,e: Event)=>void)=>void} */\r\n\t\treturn function(optionConfig,multiple,onchange){\r\n\t\t\tthis.get = tempGet;\r\n\t\t\tthis.set = tempSet;\r\n\t\t\tthis.info = Object(this.info);\r\n\t\t\tthis.info.multiple = Boolean(multiple);\r\n\t\t\tif(typeof onchange === 'function') this.self.onchange = onchange.bind(this);\r\n\t\t\tthis.value = optionConfig;\r\n\t\t};\r\n\t})()));\r\n\t/**\r\n\t * \r\n\t * @param {String} [placeholder] \r\n\t */\r\n\tvar createRealDivSearch = placeholder=>RealDivList.createByClassName('realDivSearch',placeholder);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSearch',true,[],true,{'>:nth-child(2)>div>div:hover': {'transform':'scale(0.9,1)'}},(()=>{\r\n\t\t/**@type {RealDivList} */\r\n\t\tvar tempRealDivList;\r\n\t\tconst changeConfig = {bubbles: true,cancelable: false},now = Promise.resolve();\r\n\t\t/**@type {(this: RealDivList)=>String} */\r\n\t\tfunction tempGet(){return this.info.inputer.value;}\r\n\t\t/**@type {(target: Element)=>void} */\r\n\t\tfunction tempReact(target){tempRealDivList && target !== tempRealDivList.info.inputer && (\r\n\t\t\ttempRealDivList.info.matcher.value = {},tempRealDivList.react?.(),tempRealDivList.notify(true)\r\n\t\t);}\r\n\t\t/**@type {(this: RealDivList,value: *[])=>false} */\r\n\t\tfunction tempSet(value){\r\n\t\t\tArray.isArray(value) ? this.info.wordList = value : this.error('\"value must be Array !');\r\n\t\t\treturn now.then(()=>this.info.inputer.dispatchEvent(new Event('input',changeConfig))),\r\n\t\t\t(tempRealDivList || (tempRealDivList = this)).info.matcher.value = {},false;\r\n\t\t}\r\n\t\taddEventListener('click',e=>RealNode.afterNow(()=>tempReact(e.target)));\r\n\t\tRealElement.addEventListenerBySelectors('.realDivSearch>:nth-child(1)>textarea','click',async e=>(\r\n\t\t\tawait 0,e.target.dispatchEvent(new Event('input',changeConfig))\r\n\t\t));\r\n\t\tRealElement.addEventListenerBySelectors('.realDivSearch>:nth-child(1)>textarea','input',e=>{\r\n\t\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\tconst testReg = new RegExp(temp.info.inputer.value,'i');\r\n\t\t\ttemp.info.matcher.value = RealNode.arrayToObject(temp.info.wordList.filter(str=>testReg.test(String(str))));\r\n\t\t});\r\n\t\tRealElement.addEventListenerBySelectors('.realDivSearch>:nth-child(2)>div>div','click',e=>{\r\n\t\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\ttemp.info.inputer.value = temp.info.matcher.value[0];\r\n\t\t\ttempRealDivList = temp;\r\n\t\t\ttempRealDivList.react?.(),tempRealDivList.notify(true);\r\n\t\t\t// (tempRealDivList = temp).info.inputer.dispatchEvent(new Event('input',changeConfig));\r\n\t\t});\r\n\t\t/**@type {(this: RealDivList)=>void} */\r\n\t\treturn function(placeholder){\r\n\t\t\tconst matcher = RealDivList.createByClassName('realDivSelect');\r\n\t\t\tthis.proto.value = ['<textarea placeholder=\"'+String(placeholder)+'\"></textarea>',matcher.self];\r\n\t\t\tthis.fix().info = Object(this.info);\r\n\t\t\tthis.info.inputer = this.proto.childrenList[0][0];\r\n\t\t\tthis.info.matcher = matcher;\r\n\t\t\tthis.info.wordList = [];\r\n\t\t\tthis.get = tempGet;\r\n\t\t\tthis.set = tempSet;\r\n\t\t};\r\n\t})()));\r\n\t/**\r\n\t * \r\n\t * @param {String | RealNode | ()=>String} titleGetter \r\n\t */\r\n\tvar createRealDivSeries = titleGetter=>RealDivList.createByClassName('realDivSeries',titleGetter);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSeries',false,[],true,{\r\n\t\t'>div:nth-child(1)': {'font-weight':'bolder'},\r\n\t\t'.hidden>div:nth-child(n + 2)': {'display':'none'},\r\n\t},(()=>{\r\n\t\tRealElement.addEventListenerBySelectors('.realDivSeries>div:nth-child(1)','click',e=>{\r\n\t\t\tvar REList = RealElement.searchByObj(e.target.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\ttemp && temp.toggleClassName('hidden');\r\n\t\t});\r\n\t\t/**@type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>( typeof_fn | typeof _realNode | typeof _str)} */\r\n\t\tfunction getTransform(titleGetter){return(\r\n\t\t\ttypeof titleGetter === 'function' ? _fn : titleGetter instanceof RealNode ? _realNode : _str\r\n\t\t).bind(this,titleGetter);}\r\n\t\tconst temp = [];\r\n\t\t/**@type {(this: RealDivList,titleGetter: ()=>String,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _fn(titleGetter,value){return this.protoTransform(temp.concat(titleGetter(),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: String,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _str(titleGetter,value){return this.protoTransform(temp.concat(String(titleGetter),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: RealNode,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _realNode(titleGetter,value){return this.protoTransform(temp.concat(String(titleGetter.value),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>void} */\r\n\t\treturn function(titleGetter){this.transform = getTransform.call(this,titleGetter),this.fix();};\r\n\t})()));\r\n\r\n\t}else log('No DOM !');\r\n\tEXPORTS.RealWorld = RealWorld;\r\n\tEXPORTS.RealNode = RealNode;\r\n\tEXPORTS.RealGroup = RealGroup;\r\n\tEXPORTS.RealTarget = RealTarget;\r\n\tEXPORTS.RealStory = RealStory;\r\n\tEXPORTS.RealPromise = RealPromise;\r\n\tEXPORTS.RealElement = RealElement;\r\n\tEXPORTS.RealCanvas = RealCanvas;\r\n\tEXPORTS.RealLoader = RealLoader;\r\n\tEXPORTS.RealSelect = RealSelect;\r\n\tEXPORTS.RealComtag = RealComtag;\r\n\tEXPORTS.RealDivList = RealDivList;\r\n\tEXPORTS.RealImgList = RealImgList;\r\n\tEXPORTS.RealDivQueue = RealDivQueue;\r\n\tEXPORTS.createRealDivSelect = createRealDivSelect;\r\n\tEXPORTS.createRealDivSearch = createRealDivSearch;\r\n\tEXPORTS.createRealDivSeries = createRealDivSeries;\r\n\t/**## 如果用作全局接口，请不要注释掉下面这一行。  */\r\n\t// Object.assign(globalThis,EXPORTS);\r\n\tlog('Sync\\nin '+RealNode.makeNumStr0oTail(performance.now() - t0)+' ms.');\r\n\treturn EXPORTS;\r\n})());\r\n"],"names":["RealWorld","RealNode","RealGroup","RealTarget","RealStory","RealPromise","RealElement","RealCanvas","RealLoader","RealSelect","RealComtag","RealDivList","RealImgList","RealDivQueue","createRealDivSelect","createRealDivSearch","createRealDivSeries","prevent","v","Element","globalThis","performance","Date","setInterval","clearInterval","t0","now","browserMode","tempConfig","writable","enumerable","log","console","bind","EXPORTS","nodeRequire","nodeMode","require","module","exports","path","Promise","r","import","String","default","nodeFS","onload","addEventListener","tempListener","removeEventListener","resolve","createInterval","timeSep","intervalFn","getPromiseState","temp","Symbol","tryFn","catchFn","promise","race","then","onceIf","async","ifFn","TypeError","await","soFn","_id","cb2promise","thisArg","useFn","callback","value","this","parameters","Error","call","error0","error1","stack","catch","e","error","prototype","destroy","_mainFn","fn","fnList","unshift","getRealElement","self","key","id","initValue","innerHTML","setTimeSep","Number","isFinite","Reflect","defineProperty","paused","info","pop","e0","e1","undefined","document","createElement","set","message","name","_sys","Map","tryRealNode","eventLoop","proto","childRNs","react","search","get","is","value1","value2","Object","justNow","argArray","arrayToObject","create","array","Array","from","arguments","flat","length","i","createExpression","relativeRNs","check","realNode","entries","createHidden","display","config","assign","afterNow","keepNow","apply","protoCreate","createNumber","isArray","copyObj","obj","newObj","keys","charCodeAt","createString","concat","join","time","result","makeNumStr0oTail","n","tail","int","float","toString","Math","floor","0","1","split","BigInt","slice","padEnd","_react","notify","noSelf","_getPositionsOfChildRN","position","reverse","realSet","protoReact","protoGet","done","protoDone","protoSet","clearChildRNs","realReact","toPrimitive","hint","constructor","description","NaN","notifyArray","allSettled","count","_computePositionsOfRNs","_dealWithPositionsOfRNs","iter","values","next","push","protoNotify","relate","includes","unrelate","unrelativeRNs","splice","deep","ownKeys","realNodeMap","expression","end","list","dir","indexOf","has","delete","Boolean","tempProxy","Function","arr","target","construct","realGroup","getByFilter","isExtensible","preventExtensions","deleteProperty","setPrototypeOf","attributes","super","groupMap","_","createDeepGroup","strict","getPrototypeOf","keyArray","getObjByStructure","structure","index","valueOf","isInteger","all","proxy","addSetterListener","ifKeyOrFn","listener","listenerMap","forEach","listenerArray","l","tryRealNodeSetter","getOwnPropertyDescriptor","filterFn","notFn","keyOrkeyObj","Proxy","isElement","transform","searchByObj","element","realTarget","fix","protoTransform","clearClassName","className","addClassName","classList","add","toggleClassName","toggle","removeClassName","remove","getIndexWithin","previousElementSibling","applyCSS","selfSelector","classNameOrRuleObjObj","parentElement","getRandomId","myStyle","addCSSRules","test","addId","clone","keepValue","deepCopyRelativeRNs","param0","cloneNode","idSet","Set","findId","deleteId","random","selectorEventListeners","keyboardController","activeElement","tagName","onkeyboardController","querySelector","previous","enter","click","back","contains","nextElementSibling","getComputedStyle","firstElementChild","lastElementChild","animate","opacity","duration","makeElementByString","template","content","_clear","createImg","createVideo","createAudio","createDiv","createTextarea","placeholder","makeElement","cssConfig","style","applyKeyboardController","ele","cancelKeyboardController","addEventListenerBySelectors","selectors","type","tempStr","replace","toUpperCase","querySelectorAll","alert","_css","myCSS","getElementsByTagName","appendChild","window","createPopup","createTextNode","styleSheets","testReg","strReg0","strReg1","getKeys","insertRule","CSSStyleSheet","selector","rulesStr","cssRules","addRule","tempInsertRule","prefix","ruleObjObj","let","ruleObj","cssName","exec","defaultInit","*","margin","padding","border","-webkit-user-select","-moz-user-select","-ms-user-select","user-select",":root","--mapWidth","--halfBlack","--halfWhite","--noColor","pre","text-align","align-content","vertical-align","white-space","word-wrap","html","cursor","background-color","color","body","transform-origin","overflow","body>*","hr","::-webkit-scrollbar","","width","height","visibility","writing-mode",">*",">*>*",">:nth-child(1)","z-index",">:nth-child(2)",">:nth-child(3)",">:nth-child(4)",">:nth-child(5)",">:nth-child(6)",">:nth-child(7)",">:nth-child(8)",">:nth-child(9)",">:nth-child(10)",">:nth-child(11)",">:nth-child(12)",">:nth-child(13)",">:nth-child(14)",">:nth-child(15)",">:nth-last-child(1)",">:nth-last-child(2)",">:nth-last-child(3)",">:nth-last-child(4)",">:nth-last-child(5)",">:nth-last-child(6)",">:nth-last-child(7)",">:nth-last-child(8)",">:nth-last-child(9)",">:nth-last-child(10)",">:nth-last-child(11)",">:nth-last-child(12)",">:nth-last-child(13)",">:nth-last-child(14)",">:nth-last-child(15)",":hover","background",":active",">:hover",">:active","font-size","align-items","justify-content","left","top","finally","StoryPromise","reject","newPage","newPrivatePage","getNextPage","ofStory","pages","getPreviousPage","newPromiseObj","launch","isBusy","shift","newOne","onrejected","onfinally","_push","_throw","onfulfilled","tryHandler","handler","onerror","pathSet","tempReg","script","replaceAll","head","src","getContext","backup","img","Image","clearBeforeDraw","ctx","useCache","srcImageMap","strN","N","longN","padStart","preloadSrc","getImageBySrc","dealWithSrc","getRealGroupToClear","ConfigToClearShape","x","y","radiusX","radiusY","shape","relative","realCanvas","initFn","fnBeforeClear","fnAfterClear","loaded","clearShape","clearAsync","clear","imgOrCanvas","canvas","drawImage","clearRect","closePath","clearTemp","testSrc","rejectSrc","toBlob","Blob","resizeBySrc","naturalWidth","naturalHeight","multiDrawSrcArray","bgSrc","autoOpacity","resize","srcArray","tempOpacity","applyMouseClear","nowStyle","mouseenter","mousemove","mouseleave","offsetX","offsetY","failed","j","abs","round","ceil","yPOW2","yDIVxPOW2","sqrt","suffix","startN","midLength","playMode","sizeMode","resizeAfter","size","srcArr","finished","imgW","imgH","HTMLCanvasElement","globalAlpha","opacityConfig","getElementById","toLocaleLowerCase","onloadend","fs","initHEAD","method","DocumentFs","stat","readdir","fetch","response","status","location","protocol","init","mode","strArgs","fileName","str","statList","testFileNameList","fileNameList","fill","resultList","limit","_configDescriptor","err","load","configurable","getArrayBufferFrom","data","ArrayBuffer","isView","buffer","arrayBuffer","realLoader","files","dataGetter","2","download","ab","Buffer","href","URL","createObjectURL","revokeObjectURL","isDownload","tempValue","children","getValueIndexs","selected","valueArray","defaultKey","defaultValue","multiple","iterator","sort","a","b","localeCompare","optionConfig","onchange","comtagClassMap","defineComtagClass","tryHTML","optionList","cssRuleObjObj","createByClassName","elementList","iter0","iter1","selfAssign","childrenList","divListClassMap","createList","textContent","defineDivListClass","getIdDict","toRealElement","getRealEmentList","cloneImgList","srcList","queueArray","tempTarget",">div:hover",">div:active","realDivQueue","list0","list1","target0","target1","queue","applyQueue","getListQueue","previousQueue","scrollTop","scrollLeft","insertAdjacentElement","scrollTo","behavior",">div",">.selected","font-weight","changeConfig","bubbles","cancelable","tempGet","tempSet","tempReact","RS","dispatchEvent","Event","REList","previousValue",">:nth-child(2)>div>div:hover","tempRealDivList","inputer","wordList","matcher","RegExp","filter","titleGetter",">div:nth-child(1)",".hidden>div:nth-child(n + 2)","getTransform"],"mappings":"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"}