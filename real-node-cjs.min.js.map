{"version":3,"sources":["0"],"sourcesContent":["\"use strict\";\r\n// ==UserScript==\r\n// @name\t\t\treal-node\r\n// @namespace\t\thttp://tampermonkey.net/\r\n// @version\t\t\t2024-12-14\r\n// @description\t\tTry to take over the world after watching the end of this script!\r\n// @author\t\t\tFANGZHANG34\r\n// @match\t\t\thttps://*/*\r\n// @icon\t\t\thttps://www.google.com/s2/favicons?sz=64&domain=bilibili.com\r\n// @grant\t\t\tnone\r\n// ==/UserScript==\r\ntry{const temp = exports=>exports.default;var require = require ?? (path=>import(String(path)).then(temp));}catch(e){console.error(e);}\r\n{\r\nvar exports;\r\n/**##   */\r\n/**# 搜索## */\r\n\tconst\r\n\tnodeRequire = require,\r\n\tprevent = function(v){return v;},\r\n\tElement = globalThis.Element ?? prevent,\r\n\tperformance = globalThis.performance ?? Date,\r\n\tsetInterval = globalThis.setInterval ?? prevent,\r\n\tclearInterval = globalThis.clearInterval ?? prevent,\r\n\tt0 = performance.now(),\r\n\ttempConfig = {writable: false,enumerable: false},\r\n\t/**@type {typeof console.log} */\r\n\tlog = (console.log.bind(console)),\r\n\t/**## browserMode 是否存在浏览器环境 */\r\n\tbrowserMode = 'document' in globalThis,\r\n\t/**## browserMode 是否存在nodejs环境 */\r\n\tnodeMode = Object.prototype.toString.call(globalThis.process) === '[object process]'\r\n\t;\r\n\t// Number.prototype.toFloat = function(tail){\r\n\t// \tvar int,float;\r\n\t// \treturn Number.isFinite(this.valueOf()) ? (\r\n\t// \t\ttail = typeof tail !== 'number' ? 7 : tail > 14 ? 14 : tail < 0 ? 0 : Math.floor(tail),\r\n\t// \t\t{0: int,1: float = ''} = this.toString(16).split('.'),\r\n\t// \t\tBigInt('0x'+int)+'_+'+'0x'+float.slice(0,tail).padEnd(tail,'0')\r\n\t// \t) : 'NaN';\r\n\t// };\r\n\tNumber.prototype.toFloat = function(tail){\r\n\t\tvar int,float;\r\n\t\treturn Number.isFinite(this.valueOf()) ? (\r\n\t\t\ttail = typeof tail !== 'number' ? 9 : tail > 18 ? 18 : tail < 0 ? 0 : Math.floor(tail),\r\n\t\t\t{0: int,1: float = ''} = this.toString(8).split('.'),\r\n\t\t\tBigInt('0o'+int)+'_+'+'0o'+float.slice(0,tail).padEnd(tail,'0')\r\n\t\t) : 'NaN';\r\n\t};\r\n\tReflect.defineProperty(globalThis.Number.prototype,'toFloat',tempConfig);\r\n/**# RealWorld 事件循环类 */\r\nvar RealWorld = (()=>{\r\n\tvar undefined;\r\n\t/**@this {{resolve(...value)=>void}} */\r\n\tconst thisResolve = function(...value){this.resolve(value);};\r\n\t/**\r\n\t * \r\n\t * @param {Number} timeSep \r\n\t * @param {...()=>void} fnList \r\n\t */\r\n\tfunction RealWorld(timeSep,...fnList){\r\n\t\tif(!new.target) return new RealWorld(timeSep,...fnList);\r\n\t\tthis.timeSep = Number.isFinite(timeSep = Number(timeSep)) ? timeSep : 10;\r\n\t\tthis._id = setInterval(this._mainFn.bind(this),this.timeSep);\r\n\t\t/**@type {(()=>*)[]} */\r\n\t\tthis.fnList = fnList;\r\n\t\tthis.info = undefined;\r\n\t\t/**@type {HTMLDivElement} */\r\n\t\tthis.self = browserMode ? document.createElement('div') : {};\r\n\t\tthis.paused = false;\r\n\t\t/**@type {?()=>*} */\r\n\t\tthis.intervalFn = undefined;\r\n\t\t/**@type {?()=>*} */\r\n\t\tthis.ifFn = undefined;\r\n\t\t/**@type {?()=>*} */\r\n\t\tthis.soFn = undefined;\r\n\t\tReflect.defineProperty(this,'_id',tempConfig);\r\n\t\tReflect.defineProperty(this,'fnList',tempConfig);\r\n\t\tReflect.defineProperty(this,'timeSep',tempConfig);\r\n\t};\r\n\t/**\r\n\t * ## onload 环境准备好时兑现的承诺\r\n\t * @type {Promise<void>}\r\n\t */\r\n\treturn RealWorld.onload = !browserMode ? Promise.resolve() :\r\n\tnew Promise(r=>addEventListener('load',function tempListener(){r();removeEventListener('load',tempListener)})),\r\n\tRealWorld.createInterval =\r\n\t/**\r\n\t * \r\n\t * @param {Number} timeSep \r\n\t * @param {()=>void} intervalFn \r\n\t * @returns {RealWorld}\r\n\t */\r\n\tfunction(timeSep,intervalFn){return (timeSep = new RealWorld(timeSep)).intervalFn = intervalFn,timeSep;},\r\n\t/**## getPromiseState 异步获取承诺状态 */\r\n\tRealWorld.getPromiseState = (()=>{\r\n\t\tconst temp = Symbol(),tryFn = v=>Number(temp !== v),catchFn = ()=>-1;\r\n\t\treturn function getPromiseState(promise){return Promise.race([promise,temp]).then(tryFn,catchFn);};\r\n\t})(),\r\n\tRealWorld.onceIf = \r\n\t/**\r\n\t * ## onceIf 生成条件检测承诺 \r\n\t * @method\r\n\t * @param {()=>Boolean} ifFn\r\n\t * @param {Number} [timeSep]\r\n\t */\r\n\tfunction(ifFn,timeSep){\r\n\t\tif(typeof ifFn !== 'function') return Promise.reject();\r\n\t\tconst temp = new RealWorld(timeSep);\r\n\t\treturn new Promise(soFn=>(temp.ifFn = ifFn,temp.soFn = soFn)).then(()=>temp.destroy());\r\n\t},\r\n\tRealWorld.cb2promise = \r\n\t/**\r\n\t * ## cb2promise 回调转承诺\r\n\t * @template T\r\n\t * @param {{thisArg?: {}; useFn: String | (callback: (err?: Error,...value: T)=>void)=>void; callback: typeof thisResolve;}} param0 \r\n\t * @param {...any} parameters \r\n\t * @returns {Promise<[?Error,...T]>}\r\n\t */\r\n\tfunction({thisArg,useFn,callback = thisResolve} = {},...parameters){\r\n\t\tif(typeof useFn !== 'function') useFn = thisArg?.[useFn];\r\n\t\tif(typeof useFn !== 'function') throw new Error('=> Wrong:\\n\t\"thisArg\" is not Object\\n or\\n\t\"useFn\" not in \"thisArg\" !');\r\n\t\treturn new Promise(resolve=>{\r\n\t\t\tconst temp = {callback,resolve};\r\n\t\t\ttry{useFn.call(thisArg,...parameters,(...value)=>temp.callback(...value));}catch(error0){\r\n\t\t\t\ttry{useFn.call(thisArg,(...value)=>temp.callback(...value),...parameters);}catch(error1){\r\n\t\t\t\t\ttemp.resolve([new Error('=> Neither head or tail of parameters is Callback !\\n'+error0?.stack+'\\n'+error1?.stack)]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).catch(e=>console.error(e.stack));\r\n\t},\r\n\t/**## destroy 销毁本对象 */\r\n\tRealWorld.prototype.destroy = function(){this._mainFn(),clearInterval(this._id);},\r\n\t/**## then 添加函数入执行队列 */\r\n\tRealWorld.prototype.then = function(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;},\r\n\t/**## 生成RealElement实例 */\r\n\tRealWorld.prototype.getRealElement = function(){\r\n\t\treturn new RealElement({self: this.self,key: 'innerHTML'},{id: this.self.id,initValue: this.self.innerHTML});\r\n\t},\r\n\t/**## 变更时间间隔 */\r\n\tRealWorld.prototype.setTimeSep = function(timeSep){\r\n\t\treturn (timeSep = Number.isFinite(Number(timeSep)) ? Number(timeSep) : 10) !== this.timeSep && (\r\n\t\t\tclearInterval(this._id),Reflect.defineProperty(this,'timeSep',{value: timeSep}),\r\n\t\t\tReflect.defineProperty(this,'_id',{value: setInterval(this._mainFn.bind(this),this.timeSep)})\r\n\t\t);\r\n\t},\r\n\tRealWorld.prototype._mainFn = function(){\r\n\t\tif(this.paused) return;\r\n\t\ttry{this.intervalFn?.();}catch(e){this.intervalFn = console.error(e);}\r\n\t\ttry{this.info = this.fnList.pop()?.call?.(this,this.info);}catch(e){console.error(e);}\r\n\t\ttry{if(this.ifFn?.()){this.soFn?.();this.ifFn = this.soFn = null;}}catch(e0){\r\n\t\t\ttry{this.ifFn?.();}catch(e1){e0 = e1;this.ifFn = null;this.paused = true;}\r\n\t\t\tthis.paused || (this.soFn = null);this.paused = false;console.error(e0);\r\n\t\t}\r\n\t},RealWorld;\r\n})();\r\nvar RealNode = class RealNode{\r\n\t/**\r\n\t * \r\n\t * @throws\r\n\t * @param {String} message \r\n\t * @returns {never}\r\n\t */\r\n\tstatic error(message){throw new Error(this.name+' : '+message);}\r\n\t/**@type {Map<Symbol,RealNode>} */\r\n\tstatic _sys = new Map;\r\n\tstatic t0 = Date.now();\r\n\tstatic tryRealNode = false;\r\n\tstatic now = Promise.resolve();\r\n\tstatic eventLoop = new RealWorld;\r\n\t/**\r\n\t * @typedef {{\r\n\t * tryRealNode: Boolean,\r\n\t * childRNs: ({info: [RealNode,String[],String[]]} & RealNode)[],\r\n\t * get()=>*,\r\n\t * set(value)=>Boolean,\r\n\t * react()=>Boolean,\r\n\t * id: Symbol,\r\n\t * value,\r\n\t * }} AntiNode \r\n\t */\r\n\tstatic proto = class AntiNode{\r\n\t\ttryRealNode;\r\n\t\t/**@type {(RealNode & {info: [RealNode,String[],String[]]})[]} */\r\n\t\tchildRNs = [];\r\n\t\t/**@type {()=>*} */\r\n\t\t['get'];\r\n\t\t/**@type {(value)=>Boolean} */\r\n\t\t['set'];\r\n\t\t/**@type {()=>Boolean} */\r\n\t\treact;\r\n\t\t/**@type {Symbol} */\r\n\t\tid;\r\n\t\tvalue;\r\n\t};\r\n\t/**\r\n\t * \r\n\t * @param {Symbol} id \r\n\t */\r\n\tstatic search(id){return this._sys.get(id);}\r\n\tstatic is(value1,value2){return Object.is(value1,value2) || value1 === value2;}\r\n\t/**\r\n\t * \r\n\t * @param {()=>*} fn \r\n\t * @returns {Promise}\r\n\t */\r\n\tstatic justNow(fn,thisArg,...argArray){return RealNode.now.then(fn.bind(thisArg,...argArray));}\r\n\tstatic arrayToObject(){\r\n\t\tconst temp = Object.create(null),array = Array.from(arguments).flat(),length = array.length;\r\n\t\tfor(var i = 0;i < length;i++) temp[String(array[i])] = array[i];\r\n\t\treturn temp;\r\n\t}\r\n\t/**@method */\r\n\tstatic createExpression = (set=>\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>any} get \r\n\t\t * @param {RealNode[]} relativeRNs\r\n\t\t * */\r\n\t\t(get,...relativeRNs)=>new RealNode({get,set},true,...relativeRNs)\r\n\t)(()=>false);\r\n\t/**\r\n\t * \r\n\t * @param {RealNode} realNode \r\n\t */\r\n\tstatic check(realNode){for(const temp of this._sys.entries()) if(realNode === temp[1]) return realNode.id === temp[0];}\r\n\t/**\r\n\t * \r\n\t * @type {(config: {get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?})=>RealNode}\r\n\t */\r\n\tstatic createHidden = (temp=>function(config){return new RealNode(Object.assign({},config,temp));})({display: false});\r\n\t/**\r\n\t * \r\n\t * @param {()=>*} fn \r\n\t * @param {Boolean} keepNow \r\n\t * @returns {Promise}\r\n\t */\r\n\tstatic afterNow(fn,keepNow,thisArg,...argArray){\r\n\t\tconst temp = new Promise(r=>this.eventLoop.then(()=>r(fn.apply(thisArg,argArray))));\r\n\t\treturn keepNow || (this.now = temp.catch(prevent)),temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {()=>*} get \r\n\t */\r\n\tstatic protoCreate(get,...argArray){\r\n\t\tconst temp = new RealNode({get});\r\n\t\ttemp.proto.value = argArray;\r\n\t\treturn temp;\r\n\t}\r\n\t/**@method @type {((...args)=>RealNode)} */\r\n\tstatic createNumber = this.protoCreate.bind(null,function(temp = 0){\r\n\t\tif(!Array.isArray(this.proto.value)) return +(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t\telse for(const i of this.proto.value) temp +=+(i instanceof RealNode ? i.value : i);\r\n\t\treturn temp;\r\n\t});\r\n\t/**@method @type {((...args)=>RealNode)} */\r\n\tstatic createString = this.protoCreate.bind(null,function(){\r\n\t\tif(Array.isArray(this.proto.value)){\r\n\t\t\tconst temp = this.proto.value.concat();\r\n\t\t\tfor(var i = temp.length;i --> 0;) if(temp[i] instanceof RealNode) temp[i] = temp[i].value;\r\n\t\t\treturn temp.join('');\r\n\t\t}else return String(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t});\r\n\t/**\r\n\t * \r\n\t * @param {(()=>*) & Promise} promise \r\n\t * @param {(time: Number,error: Error | null,value)=>void} callback \r\n\t * @returns {Promise<{error: ?Error,time: Number,value: ?*}>}\r\n\t */\r\n\tstatic async time(promise,callback){\r\n\t\tconst t0 = performance.now(),result = {time: null,error: null,value: null,};\r\n\t\ttry{result.value = await(typeof promise === 'function' ? promise() : promise);}catch(e){console.error(result.error = e);}\r\n\t\tresult.time = performance.now() - t0;\r\n\t\tif(typeof callback === 'function') try{callback(result.time,result.error,result.value);}catch(e){console.error(e);}\r\n\t\treturn result;\r\n\t}\r\n\t/**@method */\r\n\tstatic copyObj = function copyObj(obj){\r\n\t\tif(Object(obj) === obj){\r\n\t\t\tconst newObj = Array.isArray(obj) ? [] : Object.create(null);\r\n\t\t\tfor(const i of Object.keys(obj)){95 === i.charCodeAt(0) || (newObj[i] = copyObj(obj[i]));}\r\n\t\t\treturn newObj;\r\n\t\t}else return new.target ? Object(obj) : obj;\r\n\t};\r\n\t/**\r\n\t * \r\n\t * @this {RealNode}\r\n\t * @param {RealNode} realNode \r\n\t */\r\n\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\tvar value;\r\n\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\twhile(temp.length){\r\n\t\t\tconst position = temp.pop().reverse();\r\n\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t}catch(e){\r\n\t\tif(this instanceof RealNode) throw e;\r\n\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t}}\r\n\tprotoReact(){}\r\n\tprotoGet(){return this.proto.value;}\r\n\tlog(...message){console.log(this+':',...message);}\r\n\tdone(){return RealNode.justNow(this.protoDone,this);}\r\n\t// done(keepNow){return RealNode.afterNow(this.protoDone,keepNow,this);}\r\n\t/**\r\n\t * \r\n\t * @throws\r\n\t * @param {String} message \r\n\t * @returns {never}\r\n\t */\r\n\terror(message){throw new Error(this+'\\n\"\"\"\\n'+String(message)+'\\n\"\"\"');}\r\n\t/**\r\n\t * \r\n\t * @returns {Boolean}\r\n\t */\r\n\tprotoSet(value){return value !== this.proto.value && (this.proto.value = value,true);}\r\n\tclearChildRNs(){while(this.proto.childRNs.length){this.proto.childRNs.pop().display = false;}return this;}\r\n\trealReact(notify = true,noSelf){\r\n\t\tconst react = this.proto.react;\r\n\t\treturn react ? (react.call(this),notify && this.notify(noSelf),true) : false;\r\n\t}\r\n\t[Symbol.toPrimitive](hint){try{\r\n\t\treturn 'number' === hint ? Number(this.value) : '[object '+this.constructor.name+']{ '+this.id.description+' }';\r\n\t}catch{return NaN;}}\r\n\t/**\r\n\t * \r\n\t * @returns {Promise[][]}\r\n\t */\r\n\tasync protoDone(){\r\n\t\tvar i = 0;\r\n\t\twhile(i < this.notifyArray.length) await Promise.allSettled(this.notifyArray[i++]);\r\n\t\ti = this.notifyArray;\r\n\t\tthis.notifyArray = [];\r\n\t\treturn i;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} noSelf \r\n\t * @param {RealNode} [thisArg] \r\n\t * @param {number} [count] \r\n\t * @returns {?Promise<void>}\r\n\t */\r\n\tnotify(noSelf,thisArg,count){\r\n\t\t// return this.relativeRNs.length ? this.done().finally(this.protoNotify.bind(this,noSelf,thisArg,count)) : null;\r\n\t\tfor(const id of this.relativeRNs) Promise.resolve(RealNode.search(id)).\r\n\t\tthen(realNode=>!realNode || (noSelf && this === realNode) || realNode.realReact?.());\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} react \r\n\t * @param {Boolean} notify \r\n\t * @param {Boolean} noSelf \r\n\t * @returns {Boolean}\r\n\t */\r\n\trealSet(value,react,notify,noSelf){try{\r\n\t\tvar temp;\r\n\t\treturn (this.proto.set.call(\r\n\t\t\tthis,\r\n\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t) ?? true) && (react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t}catch(e){return console.error(e),e;}}\r\n\t/**\r\n\t * \r\n\t * @param {RealNode} realNode \r\n\t * @returns {String[][]}\r\n\t */\r\n\t_getPositionsOfChildRN(realNode){\r\n\t\tconst childRNs = this.proto.childRNs,temp = [];\r\n\t\tfor(var i = childRNs.length,iter;i --> 0;) iter = childRNs[i].info.values(),realNode === iter.next().value && temp.push(...iter);\r\n\t\treturn temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} noSelf \r\n\t * @param {RealNode} [thisArg] \r\n\t * @param {number} [count] \r\n\t */\r\n\tprotoNotify(noSelf,thisArg,count = 0){\r\n\t\t!thisArg ? thisArg = this : count++;\r\n\t\t(thisArg.notifyArray[count] || (thisArg.notifyArray[count] = [])).push(new Promise(r=>{\r\n\t\t\tfor(var id of this.relativeRNs){\r\n\t\t\t\t!(noSelf && id === this.id) && (id = RealNode.search(id)) && (id.react?.(),id.notify(noSelf,thisArg,count));\r\n\t\t\t}\r\n\t\t\tr();\r\n\t\t}));\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {...(RealNode | Symbol)} relativeRNs \r\n\t */\r\n\trelate(...relativeRNs){\r\n\t\tvar id = relativeRNs[relativeRNs.length - 1];\r\n\t\tconst temp = RealNode.search(id?.id ?? id);\r\n\t\twhile(relativeRNs.length){\r\n\t\t\tid = relativeRNs.pop();\r\n\t\t\ttypeof id === 'symbol' || (id instanceof RealNode ? id = id.id : this.error(\r\n\t\t\t\t'=> \"relativeRNs['+relativeRNs.length+']\" is not legal id !'\r\n\t\t\t));\r\n\t\t\tRealNode.search(id) && !this.relativeRNs.includes(id) && this.relativeRNs.push(id);\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {...(RealNode | Symbol)} unrelativeRNs \r\n\t */\r\n\tunrelate(...unrelativeRNs){\r\n\t\tif(!unrelativeRNs.length) return false;\r\n\t\tconst temp = this.relativeRNs.concat();\r\n\t\tvar i = unrelativeRNs.length;\r\n\t\tthis.relativeRNs.splice(0);\r\n\t\twhile(i --> 0) typeof unrelativeRNs[i] === 'symbol' || (unrelativeRNs[i] = unrelativeRNs[i]?.id);\r\n\t\tfor(i = temp.length;i --> 0;) unrelativeRNs.includes(temp[i]) || this.relativeRNs.push(temp[i]);\r\n\t\treturn temp.length !== this.relativeRNs.length;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {String[]} [position] \r\n\t * @returns {[RealNode, ...string[]][]} \r\n\t */\r\n\t_computePositionsOfRNs(value,deep = 2,position = [],count = 0){\r\n\t\t/**@type {[RealNode, ...string[]][]} */\r\n\t\tvar temp = [],i,keys;\r\n\t\tif(value instanceof RealNode) return temp.push((position.unshift(value),position)),temp;\r\n\t\telse if(count < deep && Object(value) === value) for(i = (keys = Reflect.ownKeys(value)).length;i --> 0;){\r\n\t\t\ttemp = temp.concat(this._computePositionsOfRNs(value[keys[i]],deep,[...position,keys[i]],count + 1));\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {[RealNode, ...string[]][]} realNodeMap \r\n\t */\r\n\t_dealWithPositionsOfRNs(realNodeMap,expression){\r\n\t\tconst temp = this.clearChildRNs().proto.childRNs,list = [];\r\n\t\tvar value,i,end;\r\n\t\trealNodeMap = realNodeMap.concat();\r\n\t\twhile(realNodeMap.length){\r\n\t\t\t/**@type {[RealNode, ...string[]]} */\r\n\t\t\tconst position = realNodeMap.pop(),realNode = position[0],dir = position.slice(1);\r\n\t\t\tif(!dir.length) expression = realNode.value;else{\r\n\t\t\t\tfor(value = expression,i = 0,end = dir.length - 1;i < end;i++) value = value[key];\r\n\t\t\t\tvalue[dir[i]] = realNode.value;\r\n\t\t\t}\r\n\t\t\ti = list.indexOf(realNode);\r\n\t\t\ti < 0 ? (list.push(realNode),temp.push(realNode.relate(\r\n\t\t\t\tnew RealNode({info: [realNode,dir],react: this.constructor._react.bind(this,realNode)})\r\n\t\t\t))) : temp[i].info.push(dir);\r\n\t\t}\r\n\t\treturn expression;\r\n\t}\r\n\t/**@type {Symbol} */\r\n\tget id(){return this.proto.id;}\r\n\tget childRNs(){return this.proto.childRNs;}\r\n\tget value(){return this.get();}\r\n\tset value(value){this.realSet(value,true,true);}\r\n\tget set(){return this.realSet;}\r\n\tset set(set){this.proto.set = typeof set === 'function' ? set : this.protoSet;}\r\n\tget get(){return this.proto.get;}\r\n\tset get(get){this.proto.get = typeof get === 'function' ? get : this.protoGet;}\r\n\tget react(){return this.proto.react;}\r\n\tset react(react){this.proto.react = typeof react === 'function' ? react : react ? this.protoReact : null;}\r\n\tget display(){return RealNode._sys.has(this.id);}\r\n\tset display(display){display ? RealNode._sys.set(this.id,this) : RealNode._sys.delete(this.id);}\r\n\tget tryRealNode(){return this.proto.tryRealNode;}\r\n\tset tryRealNode(tryRealNode){\r\n\t\ttryRealNode = (this.proto.tryRealNode = Boolean(tryRealNode)) ? 'appear' : 'disappear';\r\n\t\tvar i = this.proto.childRNs.length;\r\n\t\twhile(i --> 0) this.proto.childRNs[tryRealNode]();\r\n\t}\r\n\t/**@type {Symbol[]} */\r\n\trelativeRNs = [];\r\n\t/**@type {Promise[][]} */\r\n\tnotifyArray = [];\r\n\t/**\r\n\t * \r\n\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?,display?}} [config] \r\n\t * @param {...(Symbol | RealNode)} [relativeRNs] \r\n\t */\r\n\tconstructor(config,tryRealNode = RealNode.tryRealNode,...relativeRNs){\r\n\t\tconfig = Object(config);\r\n\t\t/**@type {AntiNode} */\r\n\t\tthis.proto = new this.constructor.proto;\r\n\t\tthis.proto.id = Symbol(String(config.id ?? config.info?.id ?? ''));\r\n\t\tReflect.defineProperty(this,'notifyArray',{enumerable: false});\r\n\t\tReflect.defineProperty(this,'proto',tempConfig);\r\n\t\tthis.display = config.display ?? true;\r\n\t\tthis.info = config.info;\r\n\t\tthis.get = config.get;\r\n\t\tthis.set = config.set;\r\n\t\tthis.react = config.react;\r\n\t\tthis.relate(...relativeRNs);\r\n\t\tthis.proto.value = config.initValue;\r\n\t\tthis.tryRealNode = tryRealNode;\r\n\t\tif('value' in config) this.value = config.value;\r\n\t}\r\n};\r\nvar RealGroup =\r\n/**@template {{}} T */\r\nclass RealGroup extends RealNode{\r\n\tstatic tempProxy = class AntiGroup extends Function{\r\n\t\tstatic arr = [];\r\n\t\tapply(){return this.self;}\r\n\t\townKeys(){return Reflect.ownKeys(this);}\r\n\t\thas(target,key){return Reflect.has(this,key);}\r\n\t\tconstruct(){return this.realGroup.getByFilter();}\r\n\t\tisExtensible(){return Reflect.isExtensible(this);}\r\n\t\t['get'](target,key){return this.realGroup.get(key);}\r\n\t\tpreventExtensions(){return Reflect.preventExtensions(this);}\r\n\t\tdeleteProperty(target,key){return Reflect.deleteProperty(this.self,key);}\r\n\t\tsetPrototypeOf(target,prototype){return Reflect.setPrototypeOf(this,prototype);}\r\n\t\t['set'](target,key,value){return this.realGroup.set(Object.create(null,{[key]:{value}}));}\r\n\t\tdefineProperty(target,key,attributes){return Reflect.defineProperty(this.self,key,attributes);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{}} self \r\n\t\t * @param {RealGroup} realGroup \r\n\t\t */\r\n\t\tconstructor(self,realGroup){\r\n\t\t\tsuper('');\r\n\t\t\tthis.self = self;\r\n\t\t\tthis.realGroup = realGroup;\r\n\t\t}\r\n\t};\r\n\t/**@type {Map<{},RealGroup>} */\r\n\tstatic groupMap = new Map;\r\n\tstatic _ = ()=>true;\r\n\t/**\r\n\t * \r\n\t * @template T\r\n\t * @param {T} obj \r\n\t * @param {String} [id] \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {Boolean} [strict] \r\n\t * @returns {RealGroup<T> | any}\r\n\t */\r\n\tstatic createDeepGroup = function createDeepGroup(obj,id = '',tryRealNode,strict){\r\n\t\tvar i;\r\n\t\tif(Object(obj) !== obj) return strict ? tryRealNode ? RealNode.createHidden({id,initValue: obj}) : obj : new RealGroup;\r\n\t\tconst proto = Reflect.getPrototypeOf(obj);\r\n\t\tif(proto && proto !== Object.prototype) return strict ? tryRealNode ?\r\n\t\tRealNode.createHidden({id,initValue: obj}) : obj : new RealGroup({self: obj});\r\n\t\tconst temp = Object.create(null),keyArray = Reflect.ownKeys(obj),length = keyArray.length;\r\n\t\tfor(i = 0;i < length;i++) temp[keyArray[i]] = createDeepGroup(obj[keyArray[i]],keyArray[i],tryRealNode,true);\r\n\t\treturn new RealGroup({self: temp});\r\n\t};\r\n\tkeys(all){return all ? Reflect.ownKeys(this.proxy()) : Object.keys(this.proxy());}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} [notify] \r\n\t * @param {Boolean} [noSelf] \r\n\t * @returns {Boolean | Error}\r\n\t */\r\n\trealSet(value,notify,noSelf){try{\r\n\t\treturn this.protoSet(value) && (notify && this.notify(noSelf),true);\r\n\t}catch(e){return console.error(e),e;}}\r\n\t/**\r\n\t * \r\n\t * @param {String | Symbol | ?(keyArray: (String | Symbol)[])=>Boolean} ifKeyOrFn \r\n\t * @param {()=>void} listener \r\n\t */\r\n\taddSetterListener(ifKeyOrFn,listener){\r\n\t\tif(!listener) return;\r\n\t\tif(typeof listener !== 'function') this.error('\"listener\" must be function !');\r\n\t\tifKeyOrFn ?? (ifKeyOrFn = RealGroup._);\r\n\t\tvar temp;\r\n\t\tArray.isArray(temp = this.listenerMap.get(ifKeyOrFn)) || this.listenerMap.set(ifKeyOrFn,temp = []);\r\n\t\ttemp.push(listener);\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {(String | Symbol)[]} [keyArray] \r\n\t */\r\n\tprotoReact(keyArray = RealGroup.tempProxy.arr){\r\n\t\tArray.isArray(keyArray) || this.error('\"keyArray\" must be Array !');\r\n\t\tthis.listenerMap.forEach((listenerArray,ifKeyOrFn)=>{try{\r\n\t\t\tif(typeof ifKeyOrFn === 'function' ? ifKeyOrFn(keyArray) : keyArray.indexOf(ifKeyOrFn) !== -1){\r\n\t\t\t\tfor(var l = listenerArray.length,i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t\t}\r\n\t\t}catch(e){this.log('Wrong with ',ifKeyOrFn);}});\r\n\t}\r\n\ttryRealNodeSetter(){\r\n\t\tconst self = this.proxy(),keys = Reflect.ownKeys(self);\r\n\t\tvar i = keys.length;\r\n\t\twhile(i --> 0) Reflect.has(Reflect.getOwnPropertyDescriptor(self,keys[i]),'get') || self[keys[i]] instanceof RealNode ||\r\n\t\t(self[keys[i]] = RealNode.createHidden({initValue: self[keys[i]]}));\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {(key: String)=>Boolean} [filterFn] \r\n\t * @returns {{}}\r\n\t */\r\n\tgetByFilter(filterFn){\r\n\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(self),notFn = typeof filterFn !== 'function',temp = Object.create(null);\r\n\t\tvar i = keyArray.length;\r\n\t\twhile(i --> 0) if(notFn || filterFn(keyArray[i])) Reflect.\r\n\t\tset(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\treturn temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {{}} obj \r\n\t */\r\n\tprotoSet(obj){\r\n\t\tif(Object(obj) !== obj) return false;\r\n\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(Object(obj)),temp = [];\r\n\t\tfor(const key of keyArray) obj[key] instanceof RealNode ? (self[key] = obj[key],temp.push(key)) :\r\n\t\tself[key] instanceof RealNode ? self[key].set(obj[key],true,true,true) && temp.push(key) :\r\n\t\tobj[key] !== self[key] && (self[key] = obj[key],temp.push(key));\r\n\t\tthis.listenerMap.get(RealGroup._).forEach(listener=>listener());\r\n\t\tif(temp.length) try{this.react?.(temp);}catch(e){this.log(e?.stack);}else{\r\n\t\t\tconst listenerArray = this.listenerMap.get(RealGroup._),l = listenerArray.length;\r\n\t\t\tfor(var i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t}\r\n\t\treturn Boolean(temp.length);\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {String | Symbol | {}} [keyOrkeyObj] \r\n\t */\r\n\tprotoGet(keyOrkeyObj){\r\n\t\tvar temp;\r\n\t\tif(!arguments.length) return this.getByFilter();\r\n\t\tif(Object(keyOrkeyObj) !== keyOrkeyObj) return (temp = this.proxy()[keyOrkeyObj],temp instanceof RealNode ? temp.value : temp);\r\n\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(Object(keyOrkeyObj));\r\n\t\t/**@type {{}} */\r\n\t\ttemp = Object.create(null);\r\n\t\tvar i = keyArray.length;\r\n\t\twhile(i --> 0) Reflect.set(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\treturn temp;\r\n\t}\r\n\t/**@type {T & {()=>T}} */\r\n\tget proxy(){return this.proto.value;}\r\n\tget set(){return this.realSet;}\r\n\tset set(set){/**tthis.log('Invalid set \"set\" !'); */}\r\n\t/**@type {(keyOrkeyObj?: String | Symbol | {})=> *} */\r\n\tget get(){return this.protoGet;}\r\n\tset get(get){/**this.log('Invalid set \"get\" !'); */}\r\n\tget react(){return this.protoReact;}\r\n\tset react(react){/**this.log('Invalid set \"react\" !'); */}\r\n\tget tryRealNode(){return false;}\r\n\tset tryRealNode(tryRealNode){tryRealNode && this.log('I can not try realNode !');}\r\n\t/**@type {Map<String | Symbol | (keyArray: (String | Symbol)[])=>Boolean,(()=>void)[]>} */\r\n\tlistenerMap = new Map([[RealGroup._,[]]]);\r\n\t/**\r\n\t * \r\n\t * @param {{self?: T}} param0 \r\n\t */\r\n\tconstructor({id,info,self = Object.create(null)} = {}){\r\n\t\tvar temp;\r\n\t\tif((temp = RealGroup.groupMap.get(self)) instanceof RealGroup) return console.log('Please do not new for \"self\":'+self+' again !'),temp;\r\n\t\tsuper({id,info});\r\n\t\tif(Object(self) !== self) this.error('\"self\" not typeof object !');\r\n\t\tReflect.defineProperty(this,'listenerMap',tempConfig);\r\n\t\ttemp = new RealGroup.tempProxy(self,this);\r\n\t\tthis.proto.value = new Proxy(temp,temp);\r\n\t\tRealGroup.groupMap.set(self,this);\r\n\t}\r\n};\r\nvar RealTarget = class RealTarget extends RealNode{\r\n\t/**@typedef {AntiNode & {self: Element & {},isElement: Boolean,transform(value)=>*}} AntiTarget */\r\n\tstatic proto = class AntiTarget extends RealNode.proto{\r\n\t\t/**@type {Element & {}} */\r\n\t\tself;\r\n\t\t/**@type {Boolean} */\r\n\t\tisElement;\r\n\t\t/**@type {(value)=>*} */\r\n\t\ttransform;\r\n\t};\r\n\t/**\r\n\t * \r\n\t * @type {{(element: Element)=>RealElement[];(element: {})=>RealTarget[];(element)=>RealElement[];}}\r\n\t */\r\n\tstatic searchByObj(element){\r\n\t\tconst temp = [];\r\n\t\tif(Object(element) !== element) return temp;\r\n\t\tfor(const realTarget of RealTarget._sys.values()) if(element === realTarget.self) temp.push(realTarget);\r\n\t\treturn temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @this {RealTarget}\r\n\t * @param {RealNode} realNode \r\n\t */\r\n\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\tvar value;\r\n\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\twhile(temp.length){\r\n\t\t\tconst position = temp.pop().reverse();\r\n\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.fix(),react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t}catch(e){\r\n\t\tif(this instanceof RealTarget) throw e;\r\n\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t}}\r\n\t/**\r\n\t * \r\n\t * @template T\r\n\t * @param {T} value \r\n\t */\r\n\tprotoTransform(value){return value;}\r\n\tfix(){return this.self[this.key] = this.transform(this.proto.value),this;}\r\n\tclearClassName(){return this.proto.isElement && (this.proto.self.className = '',true);}\r\n\t/**@param {...String} */\r\n\taddClassName(){return this.proto.isElement && (this.proto.self.classList.add(...arguments),true);}\r\n\t/**@param {String} className */\r\n\ttoggleClassName(className){return this.proto.isElement && this.proto.self.classList.toggle(className);}\r\n\t/**@param {...String} */\r\n\tremoveClassName(){return this.proto.isElement && (this.proto.self.classList.remove(...arguments),true);}\r\n\tgetIndexWithin(){\r\n\t\tvar i = 0,temp = this.proto.self;\r\n\t\twhile(temp = temp.previousElementSibling) i++;\r\n\t\treturn i;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} react \r\n\t * @param {Boolean} notify \r\n\t * @param {Boolean} noSelf \r\n\t * @returns {Boolean}\r\n\t */\r\n\trealSet(value,react,notify,noSelf){try{\r\n\t\tvar temp;\r\n\t\treturn (this.proto.set.call(\r\n\t\t\tthis,\r\n\t\t\tthis.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t) ?? true) && (this.fix(),react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t}catch(e){return console.error(e),e;};}\r\n\t/**\r\n\t * \r\n\t * @param {keyof HTMLElementTagNameMap} selfSelector \r\n\t * @param {String | {[selector: String]: {[styleName: String]: String}}} classNameOrRuleObjObj \r\n\t */\r\n\tapplyCSS(selfSelector,classNameOrRuleObjObj){\r\n\t\tif(!(this.proto.self instanceof Element)) this.error('I am not RealElement !');\r\n\t\tconst strReg = /^[A-Za-z]/;\r\n\t\tvar temp = selfSelector;\r\n\t\tif(typeof selfSelector !== 'string'){\r\n\t\t\twhile(temp = temp?.parentElement) if(temp === this.proto.self) break;\r\n\t\t\ttemp ? selfSelector = ' #'+(selfSelector.id || (selfSelector.id = RealElement.getRandomId())) :\r\n\t\t\tthis.error('\"selfSelector\" must be String or my descendant !');\r\n\t\t}\r\n\t\tconst id = this.proto.self.id || (this.proto.self.id = RealElement.getRandomId());\r\n\t\ttypeof classNameOrRuleObjObj === 'string' ? classNameOrRuleObjObj = RealElement.myStyle.get(classNameOrRuleObjObj) :\r\n\t\tclassNameOrRuleObjObj = Object(classNameOrRuleObjObj);\r\n\t\treturn !classNameOrRuleObjObj ? false : (RealElement.addCSSRules(\r\n\t\t\t'#'+id+(strReg.test(selfSelector) ? ' ' : '')+selfSelector,classNameOrRuleObjObj\r\n\t\t),RealElement.addId(id,false),true);\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} keepValue \r\n\t * @param {Boolean} fix \r\n\t * @param {Boolean} [deepCopyRelativeRNs] \r\n\t */\r\n\tclone(keepValue,fix,deepCopyRelativeRNs){\r\n\t\tconst self = this.proto.self instanceof Element ? this.proto.self.cloneNode() :\r\n\t\tObject.assign(Object.create(Reflect.getPrototypeOf(this.proto.self)),this.proto.self);\r\n\t\tconst param0 = {self,key: this.key,transform: this.transform};\r\n\t\tconst temp = new RealTarget(param0,{\r\n\t\t\tget: this.proto.get,\r\n\t\t\tset: this.proto.set,\r\n\t\t\treact: this.proto.react,\r\n\t\t\tid: this.id.description+'-clone',\r\n\t\t\tinfo: this.info,\r\n\t\t\tinitValue: keepValue ? this.proto.value : void 0,\r\n\t\t});\r\n\t\tReflect.setPrototypeOf(temp,Reflect.getPrototypeOf(this));\r\n\t\tif(null == deepCopyRelativeRNs) temp.relativeRNs = deepCopyRelativeRNs ? this.relativeRNs : this.relativeRNs.concat();\r\n\t\treturn fix ? temp.fix() : temp;\r\n\t}\r\n\tget isElement(){return this.proto.isElement;}\r\n\tget transform(){return this.proto.transform;}\r\n\t/**@param {(value)=>*} transform */\r\n\tset transform(transform){this.proto.transform = typeof transform === 'function' ? transform : this.protoTransform;}\r\n\t/**@type { Element | {}} */\r\n\tget self(){return this.proto.self;}\r\n\tset self(self){\r\n\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\tthis.error('=> \"self\" must be Object !');\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {{self: Element | {},key,transform?: (value)=>*}} param0 \r\n\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?}} [config] \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {...RealNode} [relativeRNs] \r\n\t */\r\n\tconstructor({self,key,transform},config,tryRealNode,...relativeRNs){\r\n\t\tsuper(config,tryRealNode);\r\n\t\t/**@type {AntiTarget} */this.proto;\r\n\t\tthis.self = self;\r\n\t\tthis.key = key;\r\n\t\tthis.transform = transform;\r\n\t\ttryRealNode && this.realSet(config.initValue);\r\n\t\tthis.relate(...relativeRNs);\r\n\t\tthis.addClassName(this.constructor.name);\r\n\t}\r\n};\r\nvar RealElement = class RealElement extends RealTarget{\r\n\t/**@type {Element} */\r\n\tget self(){return this.proto.self;}\r\n\tset self(self){\r\n\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\tthis.error('=> \"self\" must be Element !');\r\n\t}\r\n\t/**@type {Set<String>} */\r\n\tstatic idSet = new Set;\r\n\tstatic findId(id){return this.idSet.has(id);}\r\n\tstatic deleteId(id){typeof id !== 'string' && console.error('=> Please use String \"id\" !');return this.idSet.delete(id);}\r\n\tstatic getRandomId(){\r\n\t\tfor(var temp;this.idSet.has(temp = 'C3'+Math.floor(Math.random() * 1e14).toString(36)););\r\n\t\treturn temp;\r\n\t}\r\n\tstatic addId(id,strict = true){\r\n\t\tif(id) typeof id !== 'string' ? this.error('=> Please use String \"id\" !') :\r\n\t\tthis.idSet.has(id) ? strict && this.error('=> Please use another \"id\" !') :\r\n\t\tthis.idSet.add(id);\r\n\t}\r\n\t/**@type {Map<String,{[selector: String]: {}}>} */\r\n\tstatic myStyle = new Map;\r\n\t/**@type {{[type: String]:Map<keyof HTMLElementTagNameMap,EventListener[]>}} */\r\n\tstatic selectorEventListeners = {};\r\n\tstatic keyboardController = (browserMode && addEventListener('keydown',e=>{\r\n\t\tif(/^(TEXTAREA)|(SELECT)|(INPUT)$/.test(document.activeElement?.tagName)) return;\r\n\t\t/**@type {?Element} */\r\n\t\tconst onkeyboardController = document.querySelector('.onkeyboardControl') ?? document.querySelector('.keyboardController');\r\n\t\tif(!onkeyboardController) return;\r\n\t\tvar i,temp,key;\r\n\t\tswitch(e.key){\r\n\t\t\tcase RealElement.keyboardController?.previous: i = -1;break;\r\n\t\t\tcase RealElement.keyboardController?.next: i = 1;break;\r\n\t\t\tcase RealElement.keyboardController?.enter: (temp = RealTarget.searchByObj(onkeyboardController)[0]) instanceof RealDivList ?\r\n\t\t\ttemp.proto.list.length ?\r\n\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),(temp = temp.proto.list[0]).classList.add('onkeyboardControl')) :\r\n\t\t\t(temp = onkeyboardController).click() :\r\n\t\t\t(temp = onkeyboardController.querySelector('.keyboardController')) ?\r\n\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t(temp = onkeyboardController).click();break;\r\n\t\t\tcase RealElement.keyboardController?.back:{\r\n\t\t\t\ttemp = onkeyboardController;\r\n\t\t\t\twhile(temp = temp.parentElement) if(temp.classList.contains('keyboardController')) break;\r\n\t\t\t\ttemp ? (onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t\t(temp = onkeyboardController).classList.add('onkeyboardControl');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(i++){\r\n\t\t\ttemp = onkeyboardController,key = i ? 'nextElementSibling' : 'previousElementSibling';\r\n\t\t\tonkeyboardController.classList.remove('onkeyboardControl');\r\n\t\t\twhile(temp = temp[key]) if(getComputedStyle(temp).display !== 'none') break;\r\n\t\t\t(temp || (temp = onkeyboardController.parentElement[i ? 'firstElementChild' : 'lastElementChild'])).classList.add('onkeyboardControl');\r\n\t\t}\r\n\t\ttemp && temp.animate({'opacity':[1,0,1]},{duration: 500});\r\n\t}),{\r\n\t\tprevious: 'ArrowUp',\r\n\t\tnext: 'ArrowDown',\r\n\t\tenter:'ArrowRight',\r\n\t\tback: 'ArrowLeft'\r\n\t});\r\n\t/**@method */\r\n\tstatic makeElementByString = (()=>{\r\n\t\t/**@type {HTMLTemplateElement} */\r\n\t\tconst template = browserMode ? document.createElement('template') : {content: {}};\r\n\t\treturn Object.assign(function makeElementByString(innerHTML){\r\n\t\t\ttemplate.innerHTML = String(innerHTML); return template.content.firstElementChild;\r\n\t\t},{_clear(){template.innerHTML = ''; return template.content;}});\r\n\t})();\r\n\tstatic createImg(){return new RealElement({self: document.createElement('img'),key: 'src'});}\r\n\tstatic createVideo(){return new RealElement({self: document.createElement('video'),key: 'src'});}\r\n\tstatic createAudio(){return new RealElement({self: document.createElement('audio'),key: 'src'});}\r\n\tstatic createDiv(id,initValue = ''){return new RealElement({self: document.createElement('div'),key: 'textContent'},{id,initValue});}\r\n\tstatic createTextarea(placeholder){return new RealElement({self: RealElement.makeElement('textarea',{placeholder: String(placeholder)}),key: 'value'});}\r\n\t/**\r\n\t * \r\n\t * @template {Element} T\r\n\t * @param {keyof HTMLElementTagNameMap | T} tagName \r\n\t * @param {{this: T | Element;[attr: String]: String}} [config] \r\n\t * @param {{this: CSSStyleDeclaration;[attr: String]: String}} [cssConfig] \r\n\t * @returns {T}\r\n\t */\r\n\tstatic makeElement(tagName,config,cssConfig){\r\n\t\ttagName instanceof Element || (tagName = document.createElement(tagName));\r\n\t\treturn Object.assign(Object.assign(tagName,config).style,cssConfig),tagName;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {...(Element | {self: Element})}\r\n\t */\r\n\tstatic applyKeyboardController(){\r\n\t\tfor(const ele of arguments) ele instanceof Element ? ele.classList.add('keyboardController') :\r\n\t\tele?.self instanceof Element && ele.self.classList.add('keyboardController');\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {...(Element | {self: Element})}\r\n\t */\r\n\tstatic cancelKeyboardController(){\r\n\t\tfor(const ele of arguments) ele instanceof Element ? ele.classList.remove('keyboardController') :\r\n\t\tele?.self instanceof Element && ele.self.classList.remove('keyboardController');\r\n\t}\r\n\t/**@method */\r\n\tstatic addEventListenerBySelectors = (()=>{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Event} e \r\n\t\t * @param {((event: Event)=>void)[]} listenerArray \r\n\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t */\r\n\t\tfunction temp(e,listenerArray,selectors){try{if(Array.from(document.querySelectorAll(selectors)).includes(e.target)){\r\n\t\t\tfor(var i = 0,l = listenerArray.length;i < l;) try{listenerArray[i++](e);}catch(e){console.error,alert(e?.stack);}\r\n\t\t}}catch(e){console.error(e);}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t * @param {keyof HTMLElementEventMap} type \r\n\t\t * @param {(event: Event)=>void} listener \r\n\t\t */\r\n\t\treturn(selectors,type,listener)=>{\r\n\t\t\tconst tempStr = type.replace(type[0],type[0].toUpperCase());\r\n\t\t\t!selectors || '*' === selectors ? addEventListener(type,listener) : (\r\n\t\t\t\t!RealElement.selectorEventListeners[type] && (RealElement.selectorEventListeners[type] = new Map,addEventListener(\r\n\t\t\t\t\ttype,e=>{\r\n\t\t\t\t\t\tconst t0 = performance.now();\r\n\t\t\t\t\t\tRealElement.selectorEventListeners[type].forEach(temp.bind(null,e));\r\n\t\t\t\t\t\tlog(tempStr+'-listeners completed\\nin '+(performance.now() - t0).toFloat()+' ms.');\r\n\t\t\t\t\t}\r\n\t\t\t\t)),\r\n\t\t\t\tRealElement.selectorEventListeners[type].has(selectors) ? RealElement.selectorEventListeners[type].get(selectors).push(listener) :\r\n\t\t\t\tRealElement.selectorEventListeners[type].set(selectors,[listener])\r\n\t\t\t);\r\n\t\t}\r\n\t})();\r\n\t/**@method */\r\n\tstatic addCSSRules = (()=>{\r\n\t\tif(!browserMode){const addCSSRules = ()=>addCSSRules; return addCSSRules._css = RealWorld.onload,addCSSRules;}\r\n\t\tvar myCSS = RealWorld.onload.then(function(){\r\n\t\t\tdocument.getElementsByTagName(\"head\")[0].\r\n\t\t\tappendChild(document.createElement(\"style\"))[!window.createPopup && \"appendChild\"]?.(document.createTextNode(\"\"));\r\n\t\t\tmyCSS = document.styleSheets[document.styleSheets.length - 1];\r\n\t\t});\r\n\t\tconst testReg = /^\\.([A-Za-z][A-Z0-9a-z]{0,})$/;\r\n\t\tconst strReg0 = /[A-Za-z]$/,strReg1 = /^[A-Za-z]/;\r\n\t\tconst getKeys = obj=>Object(obj) === obj ? Object.keys(obj) : [];\r\n\t\t/**@type {(selector: keyof HTMLElementTagNameMap,rulesStr: String)=>Promise<Number>} */\r\n\t\tvar insertRule = !globalThis.CSSStyleSheet.prototype.insertRule ? (selector,rulesStr)=>myCSS.addRule(selector,rulesStr,-1) :\r\n\t\t(selector,rulesStr)=>myCSS.insertRule(selector+\"{\\n\"+rulesStr+\"}\",myCSS.cssRules.length);\r\n\t\tvar tempInsertRule = (selector,rulesStr)=>myCSS instanceof Promise ?\r\n\t\tmyCSS.then(()=>(tempInsertRule = insertRule)(selector,rulesStr)) : (tempInsertRule = insertRule)(selector,rulesStr);\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} prefix \r\n\t\t * @param {{[selector: String]: {[styleName: String]: String}}} ruleObjObj \r\n\t\t */\r\n\t\tfunction addCSSRules(prefix,ruleObjObj){try{\r\n\t\t\tif(Array.isArray(prefix)){\r\n\t\t\t\tlet i = prefix.length\r\n\t\t\t\twhile(i --> 0) typeof prefix[i] === 'string' && addCSSRules(prefix[i],ruleObjObj);\r\n\t\t\t\treturn addCSSRules;\r\n\t\t\t}else typeof prefix === 'string' || RealElement.error('\"prefix\" in addCSSRules must be String !');\r\n\t\t\tfor(const selector of getKeys(ruleObjObj)){\r\n\t\t\t\tconst ruleObj = ruleObjObj[selector],temp = [];\r\n\t\t\t\tfor(const key of getKeys(ruleObj)){temp.push(key,':',String(ruleObj[key]),';\\n');}\r\n\t\t\t\ttempInsertRule(prefix+(strReg0.test(prefix) && strReg1.test(selector) ? ' ' : '')+selector+' ',temp.join(''));\r\n\t\t\t}\r\n\t\t\tconst cssName = testReg.exec(prefix)?.[1];\r\n\t\t\tcssName && RealElement.myStyle.set(cssName,Object.assign({},RealElement.myStyle.get(cssName),ruleObjObj));\r\n\t\t}catch(e){console.error(e);}return addCSSRules;};\r\n\t\treturn addCSSRules._css = myCSS,addCSSRules;\r\n\t})();\r\n\tstatic defaultInit = (()=>{\r\n\t\tvar onload = false;\r\n\t\treturn ()=>{\r\n\t\t\treturn onload ? RealWorld.onload : RealWorld.onload = (onload = true,RealWorld.onload.\r\n\t\t\tthen(()=>RealNode.time(()=>void RealElement.addCSSRules('',{\r\n\t\t\t\t'*':{\r\n\t\t\t\t\t'margin':'0',\r\n\t\t\t\t\t'padding':'0',\r\n\t\t\t\t\t'border':'0',\r\n\t\t\t\t\t'-webkit-user-select':'none',\r\n\t\t\t\t\t'-moz-user-select':'none',\r\n\t\t\t\t\t'-ms-user-select':'none',\r\n\t\t\t\t\t'user-select':'none',\r\n\t\t\t\t},\r\n\t\t\t\t':root':{\r\n\t\t\t\t\t'--mapWidth':'1920px',\r\n\t\t\t\t\t'--halfBlack':'rgba(0, 0, 0, 0.5)',\r\n\t\t\t\t\t'--halfWhite':'rgba(225, 225, 225, 0.5)',\r\n\t\t\t\t\t'--noColor':'rgba(0, 0, 0, 0)',\r\n\t\t\t\t},\r\n\t\t\t\t'pre':{\r\n\t\t\t\t\t'text-align':'left',\r\n\t\t\t\t\t'align-content':'left',\r\n\t\t\t\t\t'vertical-align':'top',\r\n\t\t\t\t\t'white-space':'pre-wrap',\r\n\t\t\t\t\t'word-wrap':'break-word',\r\n\t\t\t\t},\r\n\t\t\t\t'html':{\r\n\t\t\t\t\t'cursor':'default',\r\n\t\t\t\t\t'background-color':'black',\r\n\t\t\t\t\t'color':'white',\r\n\t\t\t\t},\r\n\t\t\t\t'body':{\r\n\t\t\t\t\t'transform':'rotate(0)',\r\n\t\t\t\t\t'transform-origin':'50vmin 50vmin',\r\n\t\t\t\t\t// 'width':'100vmax',\r\n\t\t\t\t\t// 'height':'calc((var(--mapWidth) - 100vmax) * 9 / 16 + 100vmin)',\r\n\t\t\t\t\t'overflow':'visible scroll',\r\n\t\t\t\t},\r\n\t\t\t\t'body>*':{'position':'absolute',},\r\n\t\t\t\t'hr':{'border':'1px solid white,'},\r\n\t\t\t\t'::-webkit-scrollbar':{'display':'none',},\r\n\t\t\t})('.coverBody',{\r\n\t\t\t\t'':{'width': '100vmax','height':'56.25vmax'},\r\n\t\t\t})('.noDisplay',{\r\n\t\t\t\t'':{'display':'none'},\r\n\t\t\t})('.disappear',{\r\n\t\t\t\t'':{'visibility':'hidden'},\r\n\t\t\t})('.listDown',{\r\n\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t})('.listRight',{\r\n\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t})('.listDownListRight',{\r\n\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'vertical-lr'},\r\n\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t})('.listRightListDown',{\r\n\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'horizontal-tb'},\r\n\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t})('div.listClose',{\r\n\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t'>:nth-child(1)':{'z-index':'1'},\r\n\t\t\t\t'>:nth-child(2)':{'z-index':'2'},\r\n\t\t\t\t'>:nth-child(3)':{'z-index':'3'},\r\n\t\t\t\t'>:nth-child(4)':{'z-index':'4'},\r\n\t\t\t\t'>:nth-child(5)':{'z-index':'5'},\r\n\t\t\t\t'>:nth-child(6)':{'z-index':'6'},\r\n\t\t\t\t'>:nth-child(7)':{'z-index':'7'},\r\n\t\t\t\t'>:nth-child(8)':{'z-index':'8'},\r\n\t\t\t\t'>:nth-child(9)':{'z-index':'9'},\r\n\t\t\t\t'>:nth-child(10)':{'z-index':'10'},\r\n\t\t\t\t'>:nth-child(11)':{'z-index':'11'},\r\n\t\t\t\t'>:nth-child(12)':{'z-index':'12'},\r\n\t\t\t\t'>:nth-child(13)':{'z-index':'13'},\r\n\t\t\t\t'>:nth-child(14)':{'z-index':'14'},\r\n\t\t\t\t'>:nth-child(15)':{'z-index':'15'},\r\n\t\t\t})('div.listFar',{\r\n\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t'>:nth-last-child(1)':{'z-index':'1'},\r\n\t\t\t\t'>:nth-last-child(2)':{'z-index':'2'},\r\n\t\t\t\t'>:nth-last-child(3)':{'z-index':'3'},\r\n\t\t\t\t'>:nth-last-child(4)':{'z-index':'4'},\r\n\t\t\t\t'>:nth-last-child(5)':{'z-index':'5'},\r\n\t\t\t\t'>:nth-last-child(6)':{'z-index':'6'},\r\n\t\t\t\t'>:nth-last-child(7)':{'z-index':'7'},\r\n\t\t\t\t'>:nth-last-child(8)':{'z-index':'8'},\r\n\t\t\t\t'>:nth-last-child(9)':{'z-index':'9'},\r\n\t\t\t\t'>:nth-last-child(10)':{'z-index':'10'},\r\n\t\t\t\t'>:nth-last-child(11)':{'z-index':'11'},\r\n\t\t\t\t'>:nth-last-child(12)':{'z-index':'12'},\r\n\t\t\t\t'>:nth-last-child(13)':{'z-index':'13'},\r\n\t\t\t\t'>:nth-last-child(14)':{'z-index':'14'},\r\n\t\t\t\t'>:nth-last-child(15)':{'z-index':'15'},\r\n\t\t\t})('.onhover',{\r\n\t\t\t\t':hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t})('.onactive',{\r\n\t\t\t\t':active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t})('.childOnhover',{\r\n\t\t\t\t'>:hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t})('.childOnactive',{\r\n\t\t\t\t'>:active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t})('.relativeSquare',{\r\n\t\t\t\t'':{'width':'20vmin','height':'20vmin'},\r\n\t\t\t})('.fontTitle',{\r\n\t\t\t\t'':{'font-size':'20vmin'},\r\n\t\t\t})('.fontHead',{\r\n\t\t\t\t'':{'font-size':'10vmin'},\r\n\t\t\t})('.fontNormal',{\r\n\t\t\t\t'':{'font-size':'3vmin'},\r\n\t\t\t})('.scrollY',{\r\n\t\t\t\t'':{'overflow':'hidden scroll'},\r\n\t\t\t})('.scrollX',{\r\n\t\t\t\t'':{'overflow':'scroll hidden'},\r\n\t\t\t})('.scrollXY',{\r\n\t\t\t\t'':{'overflow':'scroll'},\r\n\t\t\t})('.scrollNone',{\r\n\t\t\t\t'':{'overflow':'hidden'},\r\n\t\t\t})('.centerCenter',{\r\n\t\t\t\t'':{\r\n\t\t\t\t\t'text-align':'justify',// 文本左右对齐方式\r\n\t\t\t\t\t'align-items':'center',// 子元素自垂直对齐\r\n\t\t\t\t\t'align-content':'center',// 元素左右对齐方式\r\n\t\t\t\t\t'vertical-align':'baseline',// 元素相对文字对齐\r\n\t\t\t\t\t'justify-content':'center',// 子元素水平对齐\r\n\t\t\t\t},\r\n\t\t\t})('.autoFull',{\r\n\t\t\t\t'':{'width':'100vmax','height':'100vmin'},\r\n\t\t\t})('.selfCenterCenter',{\r\n\t\t\t\t'': {\r\n\t\t\t\t\t// 'align-self':'center',\r\n\t\t\t\t\t'left':'50%',\r\n\t\t\t\t\t'top':'50%',\r\n\t\t\t\t\t'transform':'translate(-50%,-50%)',\r\n\t\t\t\t},\r\n\t\t\t})._css.finally(),time=>log('Init defaultCSS\\nin '+time.toFloat()+' ms.'))));\r\n\t\t};\r\n\t})();\r\n};\r\n{\r\n\t/**\r\n\t * @typedef {{\r\n\t * resolve: (value)=>void;\r\n\t * reject: (reason?)=>void;\r\n\t * promise: Promise;\r\n\t * }} StoryPromise \r\n\t */\r\n\t/**@this {StoryPromise} */\r\n\tconst executor = function(resolve,reject){this.resolve = resolve,this.reject = reject;};\r\n\t/**@type {{()=>StoryPromise; new()=>StoryPromise;}} */\r\n\tconst StoryPromise = function(){\r\n\t\tif(!new.target) return new StoryPromise;\r\n\t\t/**@type {(value)=>void} */\r\n\t\tthis.resolve = null;\r\n\t\t/**@type {(reason?)=>void} */\r\n\t\tthis.reject = null;\r\n\t\tthis.promise = new Promise(executor.bind(this));\r\n\t};\r\nvar RealStory = new class RealStory{\r\n\tnewPage(){return new RealStory(this);}\r\n\t/**\r\n\t * \r\n\t * @template T\r\n\t * @param {(page: RealStory)=>T} fn \r\n\t * @returns {Promise<T>}\r\n\t */\r\n\tnewPrivatePage(fn){return new Promise(r=>r(fn?.(this.newPage())));}\r\n\tthen(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;}\r\n\tgetNextPage(){\r\n\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\tconst temp = this.ofStory.pages;\r\n\t\treturn temp[temp.indexOf(this) + 1];\r\n\t}\r\n\tgetPreviousPage(){\r\n\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\tconst temp = this.ofStory.pages;\r\n\t\treturn temp[temp.indexOf(this) - 1];\r\n\t}\r\n\tnewPromiseObj(){\r\n\t\tconst temp = new StoryPromise;\r\n\t\treturn this.then(()=>temp.promise),temp;\r\n\t}\r\n\tasync launch(){\r\n\t\tvar i = 0,temp = this;\r\n\t\twhile((temp = temp.ofStory) instanceof RealStory) i++;\r\n\t\tif(!i) isBusy = true;\r\n\t\twhile(this.pages.length || this.fnList.length){\r\n\t\t\twhile(this.fnList.length) try{this.info = await this.fnList.pop()?.(this.info);}\r\n\t\t\tcatch(e){console.error('Depth of the fn : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t\ttry{await this.pages.shift()?.launch?.();}catch(e){console.error('Depth of the page : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t}\r\n\t\tif(!i) isBusy = false;\r\n\t}\r\n\tget StoryPromise(){return StoryPromise;}\r\n\tget index(){return this.ofStory instanceof RealStory ? this.ofStory.pages.indexOf(this) : -1;}\r\n\t/**@type {?RealStory} */\r\n\tofStory;\r\n\t/**@type {RealStory[]} */\r\n\tpages = [];\r\n\t/**@type {(()=>*)[]} */\r\n\tfnList = [];\r\n\tinfo;\r\n\tconstructor(ofStory){(this.ofStory = ofStory instanceof RealStory && ofStory) && ofStory.pages.push(this);}\r\n};\r\n\tlet isBusy = false;\r\n\tReflect.getPrototypeOf(RealStory).constructor = setInterval(()=>isBusy || RealStory.launch(),50);\r\n}\r\nvar RealPromise = new\r\n/**@template T */\r\nclass RealPromise{\r\n\t/**\r\n\t * \r\n\t * @template T\r\n\t * @param {Promise<T> | T} promise \r\n\t */\r\n\tnewOne(promise){return new RealPromise(promise);}\r\n\t/**\r\n\t * \r\n\t * @param {(reason)=>*} [onrejected] \r\n\t */\r\n\tcatch(onrejected){return this.self = Promise.resolve(this.self).catch(onrejected),this;}\r\n\t/**\r\n\t * \r\n\t * @param {()=>void} [onfinally] \r\n\t */\r\n\tfinally(onfinally){return this.self = Promise.resolve(this.self).finally(onfinally),this;}\r\n\t/**\r\n\t * \r\n\t * @template U\r\n\t * @param {U} v \r\n\t */\r\n\t_push(v){return this.list.push(v),v;}\r\n\t/**\r\n\t * @throws \r\n\t * @returns {never}\r\n\t */\r\n\t_throw(e){throw this.list.push(e),e;}\r\n\t/**\r\n\t * \r\n\t * @template U\r\n\t * @template V\r\n\t * @param {(value: T)=>U} [onfulfilled] \r\n\t * @param {(reason)=>V} [onrejected] \r\n\t * @returns {RealPromise<U>}\r\n\t */\r\n\tthen(onfulfilled,onrejected){return this.self = Promise.resolve(this.self).then(onfulfilled,onrejected).then(this._push,this._throw),this;}\r\n\t/**\r\n\t * \r\n\t * @template U\r\n\t * @param {(v)=>U} handler \r\n\t * @param {(error: Error)=>void} [onerror] \r\n\t */\r\n\tasync tryHandler(handler,onerror){\r\n\t\tif(typeof handler !== 'function') throw new TypeError('\"handler\" must be Function !');\r\n\t\ttry{await this.self;}catch(e){console.error(this.length,e);}\r\n\t\tvar i = this.length;\r\n\t\twhile(i --> 0) try{try{return handler(await this.list[i]);}catch(e){(onerror ?? console.error)(e);}}catch(e){console.error(e);}\r\n\t}\r\n\tget require(){return RealPromise.require;}\r\n\tstatic require = (()=>{\r\n\t\t/**@this {Element} */\r\n\t\tfunction onfinally(){this.remove();}\r\n\t\tconst pathSet = {},tempReg = /[^\\/]+\\/\\.\\.\\//g;\r\n\t\treturn nodeMode ? /**@this {RealPromise} */\r\n\t\tfunction(path){return this instanceof RealPromise && this._push(Promise.resolve(nodeRequire(String(path))));} :\r\n\t\tbrowserMode ? /**@type {(path: String)=>Promise<*,Error | ErrorEvent | void>}@this {RealPromise} */\r\n\t\tfunction(path){\r\n\t\t\tvar temp,script;\r\n\t\t\tpath = String(path).replaceAll('\\\\','/');\r\n\t\t\tif(this instanceof RealPromise) while(tempReg.test(path)) path = path.replaceAll(tempReg,'');else return Promise.reject();\r\n\t\t\treturn pathSet[path] || (pathSet[path] = (temp = RealStory.StoryPromise(),document.head.appendChild(\r\n\t\t\t\tscript = RealElement.makeElement('script',{onload: temp.resolve,onerror: temp.reject,src: path})\r\n\t\t\t),this._push(temp.promise.finally(onfinally.bind(script)))));\r\n\t\t} : function(){return Promise.reject(new Error('Mode error !'));};\r\n\t})();\r\n\tget length(){return this.list.length;}\r\n\tlist = [];\r\n\t/**\r\n\t * \r\n\t * @param {Promise<T> | T} promise \r\n\t */\r\n\tconstructor(promise){\r\n\t\tReflect.defineProperty(this,'list',tempConfig);\r\n\t\tReflect.defineProperty(this,'_push',{value: this._push.bind(this),enumerable: false,writable: false});\r\n\t\tReflect.defineProperty(this,'_throw',{value: this._throw.bind(this),enumerable: false,writable: false});\r\n\t\t/**@type {Promise<T>} */\r\n\t\tthis.self = Promise.resolve(promise).then(this._push,this._throw);\r\n\t}\r\n}(RealWorld.onload);\r\nRealPromise.self.finally(()=>RealNode.time(RealWorld.onload,time=>log('Set up\\nin '+time.toFloat()+' ms.')));\r\n\r\nif(browserMode){\r\n\r\nvar RealCanvas = class RealCanvas extends RealElement{\r\n\t/**\r\n\t * @typedef {AntiTarget & {\r\n\t * self: HTMLCanvasElement;\r\n\t * temp: CanvasRenderingContext2D;\r\n\t * backup: CanvasRenderingContext2D;\r\n\t * img: HTMLImageElement;\r\n\t * clearBeforeDraw: Boolean;\r\n\t * ctx: CanvasRenderingContext2D;\r\n\t * }} AntiCanvas \r\n\t * */\r\n\tstatic proto = class AntiCanvas extends RealTarget.proto{\r\n\t\ttemp = document.createElement('canvas').getContext('2d');\r\n\t\tbackup = document.createElement('canvas').getContext('2d');\r\n\t\timg = new Image;\r\n\t\tisElement = true;\r\n\t\tclearBeforeDraw = true;\r\n\t\t/**@type {CanvasRenderingContext2D} */\r\n\t\tctx;\r\n\t}\r\n\tstatic useCache = true;\r\n\t/**@type {Map<String,HTMLImageElement>} */\r\n\tstatic srcImageMap = new Map;\r\n\t/**\r\n\t * \r\n\t * @param {Number | String} N \r\n\t * @param {Number} longN \r\n\t * @returns {String}\r\n\t */\r\n\tstatic strN(N,longN){const i = String(N).length; while(longN --> i) N = '0'+N; return N};\r\n\tstatic preloadSrc(){\r\n\t\tfor(var temp = RealGroup.tempProxy.arr.concat(...arguments),i = temp.length;i --> 0;) temp[i] = RealCanvas.getImageBySrc(temp[i]);\r\n\t\treturn Promise.allSettled(temp);\r\n\t}\r\n\t/**@method @type {(src)=>Promise<HTMLImageElement>} */\r\n\tstatic getImageBySrc = (()=>{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} src \r\n\t\t * @param {(value)=>void} resolve \r\n\t\t * @param {(reason?)=>void} reject \r\n\t\t */\r\n\t\tfunction dealWithSrc(src,resolve,reject){\r\n\t\t\tconst temp = RealCanvas.srcImageMap.get(src) ?? new Image;\r\n\t\t\ttemp.src ? resolve(temp) : src && typeof src === 'string' && !(RealCanvas.useCache && RealCanvas.srcImageMap.has(src)) ?\r\n\t\t\tObject.assign(temp,{onload: ()=>(\r\n\t\t\t\tRealCanvas.srcImageMap.set(src,temp),temp.onload = temp.onerror = resolve(temp)\r\n\t\t\t),onerror: reject,src}) : reject();\r\n\t\t}\r\n\t\treturn src=>new Promise(dealWithSrc.bind(null,src));\r\n\t})();\r\n\tstatic getRealGroupToClear = (()=>{\r\n\t\tclass ConfigToClearShape{x = 0;y = 0;radiusX;radiusY;shape;relative;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {RealCanvas} T \r\n\t\t * @param {T} realCanvas \r\n\t\t * @param {{initFn?: ()=>void;fnBeforeClear?: (this: T)=>void;fnAfterClear?: (this: T)=>void;}} [param1] \r\n\t\t */\r\n\t\treturn function getRealGroupToClear(realCanvas,{initFn,fnBeforeClear,fnAfterClear} = {}){\r\n\t\t\tif(!(realCanvas instanceof RealCanvas)) throw new Error('=> \"realCanvas\" must be instanceof RealCanvas !');\r\n\t\t\tif(typeof fnAfterClear === 'function') fnAfterClear = fnAfterClear.bind(realCanvas);\r\n\t\t\tif(typeof fnBeforeClear === 'function') fnBeforeClear = fnBeforeClear.bind(realCanvas);\r\n\t\t\tconst config = new ConfigToClearShape,temp = new RealGroup({self: config});\r\n\t\t\treturn temp.addSetterListener(null,async()=>{\r\n\t\t\t\tawait Promise.resolve(realCanvas.loaded).then(fnBeforeClear);\r\n\t\t\t\tawait realCanvas.clearShape(config,config.shape).then(fnAfterClear);\r\n\t\t\t}),realCanvas.loaded.finally(initFn),temp;\r\n\t\t};\r\n\t})();\r\n\tprotoTransform(){}\r\n\tprotoGet(){return this.loaded.then(()=>this.proto.value);}\r\n\tclearAsync(){return this.loaded = Promise.resolve(this.loaded).then(()=>this.clear());}\r\n\tfix(imgOrCanvas = this.proto.temp.canvas){(this.proto.clearBeforeDraw ? this.clear() : this.proto.ctx).drawImage(imgOrCanvas,0,0);}\r\n\t/**@returns {Promise<PromiseSettledResult<HTMLImageElement>[]>} */\r\n\tpreloadSrc(){return this.loaded = Promise.resolve(this.loaded).then(prevent.bind(null,RealCanvas.preloadSrc.apply(null,arguments)));}\r\n\tclear(){return this.proto.ctx.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.ctx.closePath(),this.proto.ctx;}\r\n\tclearTemp(){return this.proto.temp.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.temp.closePath(),this.proto.temp;}\r\n\ttestSrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(()=>true,this.rejectSrc.bind(this,src));}\r\n\trejectSrc(src,error){return src && console.error(\r\n\t\terror instanceof Error ? error : (RealCanvas.useCache && error && RealCanvas.srcImageMap.set(src),this+': Fail to load by src \"'+src+'\" !')\r\n\t),false;}\r\n\tprotoSet(src){\r\n\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).\r\n\t\tthen(img=>(this.proto.img = img,this.proto.value = src,true),this.rejectSrc.bind(this,src));\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @returns {Promise<Blob>}\r\n\t */\r\n\ttoBlob(){try{return RealWorld.cb2promise({thisArg: this.self,useFn: 'toBlob'}).then(\r\n\t\tresult=>(result[0] instanceof Error ? (console.error(result[0]),new Blob) : result[0])\r\n\t);}catch(e){return console.error(e),Promise.resolve(new Blob);}}\r\n\tresizeBySrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(img=>{\r\n\t\tif(this.self.width !== img.naturalWidth) this.width = img.naturalWidth;\r\n\t\tif(this.self.height !== img.naturalHeight) this.height = img.naturalHeight;\r\n\t});}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} react \r\n\t * @param {Boolean} notify \r\n\t * @param {Boolean} noSelf \r\n\t * @returns {Promise<Boolean>}\r\n\t */\r\n\trealSet(value,react,notify,noSelf){\r\n\t\tvar temp;\r\n\t\treturn this.loaded = Array.isArray(value) ? this.multiDrawSrcArray({},...value).then(()=>{this.proto.value = value;}) :\r\n\t\tPromise.resolve(this.proto.set.call(\r\n\t\t\tthis,\r\n\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t) ?? true).then(v=>v && (this.fix(this.img),react && this.react?.(),notify && this.notify(noSelf),true)).catch(e=>(console.error(e),e));\r\n\t}\r\n\tmultiDrawSrcArray({bgSrc,autoOpacity,resize},...srcArray){\r\n\t\tthis.preloadSrc(bgSrc,srcArray);\r\n\t\tvar i = -1,temp = bgSrc ?? srcArray[0] ?? false;\r\n\t\tresize && temp && this.resizeBySrc(temp);\r\n\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>this.clearTemp());\r\n\t\tif(Array.isArray(bgSrc)){for(temp = bgSrc.length;temp >++ i;) this.temp = bgSrc[i];}\r\n\t\telse bgSrc && typeof bgSrc === 'string' && (this.temp = bgSrc);\r\n\t\tif(srcArray.length > 1 && autoOpacity){\r\n\t\t\tfor(i = srcArray.length,temp = 0;i --> 0;) this.tempOpacity = .625 ** i,this.temp = srcArray[temp++];\r\n\t\t}else for(i = -1,temp = srcArray.length;temp >++ i;) this.temp = srcArray[i];\r\n\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{this.fix(this.proto.temp.canvas);},e=>alert(e.stack));\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {{radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t * @param {'rect' | 'circle'} [shape] \r\n\t */\r\n\tapplyMouseClear({radiusX,radiusY,relative} = {},shape){\r\n\t\tconst self = this.proto.self,backup = this.proto.backup,nowStyle = getComputedStyle(self);\r\n\t\tconst mouseenter = ()=>(backup.canvas.width = self.width,backup.canvas.height = self.height,backup.drawImage(self,0,0)),\r\n\t\t/**@type {(e: MouseEvent)=>Promise<void>} */\r\n\t\tmousemove = e=>(mouseleave(),this.clearShape({\r\n\t\t\tx: e.offsetX * self.width / +nowStyle.width.slice(0,-2),\r\n\t\t\ty: e.offsetY * self.height / +nowStyle.height.slice(0,-2),\r\n\t\t\tradiusX,radiusY,relative\r\n\t\t},shape)),mouseleave = ()=>this.clear().drawImage(backup.canvas,0,0),\r\n\t\t/**## 唯一可以取消该功能的函数 */\r\n\t\tcancelMouseClear = ()=>(\r\n\t\t\tself.removeEventListener('mouseenter',mouseenter),\r\n\t\t\tself.removeEventListener('mouseleave',mouseleave),\r\n\t\t\tself.removeEventListener('mousemove',mousemove)\r\n\t\t);\r\n\t\tself.addEventListener('mouseenter',mouseenter),self.addEventListener('mouseleave',mouseleave),self.addEventListener('mousemove',mousemove);\r\n\t\treturn cancelMouseClear;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {{x: Number;y: Number;radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t * @param {'rect' | 'circle'} [shape] \r\n\t */\r\n\tclearShape({x = 0,y = 0,radiusX,radiusY,relative} = {},shape){\r\n\t\tvar failed = false;\r\n\t\ttypeof radiusX === 'number' ? typeof radiusY === 'number' || (radiusY = radiusX) :\r\n\t\ttypeof radiusY === 'number' ? radiusX = radiusY : failed = true;\r\n\t\tfailed || (failed = !Number.isFinite(radiusX + radiusY));\r\n\t\tif(failed) return Promise.reject(new Error('\"radiusX\": '+String(radiusX)+' or \"radiusY\": '+String(radiusY)+' must be legal number !'));\r\n\t\tif(typeof x !== 'number') x = 0;if(typeof y !== 'number') y = 0;\r\n\t\tfailed || (failed = !Number.isFinite(x + y));\r\n\t\tif(failed) return Promise.reject(new Error('\"x\": '+String(x)+' or \"y\": '+String(y)+' must be legal number !'));\r\n\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{\r\n\t\t\tconst self = this.proto.self,temp = this.proto.temp;\r\n\t\t\tvar i = 0,j;\r\n\t\t\tradiusX = Math.abs(relative ? radiusX * this.width / 2 : radiusX);\r\n\t\t\tradiusY = Math.abs(relative ? radiusY * this.height / 2 : radiusY);\r\n\t\t\ttemp.canvas.width = self.width,temp.canvas.height = self.height;\r\n\t\t\ttemp.drawImage(self,0,0);\r\n\t\t\tswitch(shape){\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\tx = Math.round(x),y = Math.round(y),radiusX = Math.ceil(radiusX),radiusY = Math.ceil(radiusY);\r\n\t\t\t\t\tconst yPOW2 = radiusY ** 2,yDIVxPOW2 = yPOW2 / radiusX ** 2;\r\n\t\t\t\t\twhile(i ++< radiusX) j = Math.floor(Math.sqrt(yPOW2 - i ** 2 * yDIVxPOW2)) + 1,temp.clearRect(x - i,y - j,i * 2,j * 2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 'rect': {\r\n\t\t\t\t\ttemp.clearRect(Math.floor(x - radiusX),Math.floor(y - radiusY),Math.ceil(radiusX * 2),Math.ceil(radiusY * 2));\r\n\t\t\t\t\tthis.clear().drawImage(temp.canvas,0,0);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}this.clear().drawImage(temp.canvas,0,0);\r\n\t\t}).catch(e=>console.error(e));\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {{\r\n\t * prefix: String; suffix: String; startN: Number; length: Number; midLength?: Number;\r\n\t * bgSrc?: String; playMode?: 0 | 1 | 2 | 3; timeSep?: Number; sizeMode?: 'std' | 'auto';\r\n\t * resizeAfter?: Boolean;\r\n\t * }} param0 \r\n\t * @returns {{loaded: Promise<void>,finished: Promise<void>}}\r\n\t */\r\n\tanimate({\r\n\t\tprefix,suffix,startN = 0,length,midLength,\r\n\t\tbgSrc,playMode = 0,timeSep = 100,sizeMode = 'std',resizeAfter = true,\r\n\t} = {}){\r\n\t\tconst size = {width: this.width,height: this.height},config = '1235',srcArr = [];\r\n\t\tvar i = startN + length + playMode;\r\n\t\tlength *= config[playMode] || 1;\r\n\t\ttimeSep /= config[playMode] || 1;\r\n\t\twhile(i --> startN) srcArr.push(prefix+RealCanvas.strN(i,midLength)+suffix);\r\n\t\treturn this.preloadSrc(srcArr),i = 0,{loaded: this.loaded,finished: this.loaded.then(()=>{\r\n\t\t\tvar resize;\r\n\t\t\t/**@type {RealWorld} */\r\n\t\t\tconst temp = new RealWorld(timeSep);\r\n\t\t\tswitch(sizeMode){\r\n\t\t\t\tcase 'auto': resize = true;break;\r\n\t\t\t}\r\n\t\t\tswitch(playMode){\r\n\t\t\t\tdefault: while(length --> 0) temp.then(this.multiDrawSrcArray,this,{bgSrc,resize},prefix+RealCanvas.strN(startN++,midLength)+suffix);\r\n\t\t\t\tcase 1:{\r\n\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t(i = !i) || prefix+RealCanvas.strN(startN++,midLength)+suffix,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\tprefix+RealCanvas.strN(startN,midLength)+suffix\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 2:{\r\n\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 2 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t),3 ===++ i && (startN++,i %= 3);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 3:{\r\n\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t// this.multiDrawSrcArray,this,{bgSrc,autoOpacity: true},\r\n\t\t\t\t\t\t// 3 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 0 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t// 2 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 1 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t// 2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 4 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 3 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t3 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 2 < i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t),5 ===++ i && (startN++,i %= 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn temp.then(()=>(this.clearTemp(),resizeAfter && Object.assign(this,size),temp.destroy()));\r\n\t\t})};\r\n\t}\r\n\tget ctx(){return this.proto.ctx;}\r\n\tget img(){return this.proto.img;}\r\n\tget imgW(){return this.proto.img.naturalWidth;}\r\n\tget imgH(){return this.proto.img.naturalHeight;}\r\n\tget width(){return this.proto.self.width;}\r\n\tset width(width){this.proto.self.width = this.proto.temp.canvas.width = width ?? 640;}\r\n\tget height(){return this.proto.self.height;}\r\n\tset height(height){this.proto.self.height = this.proto.temp.canvas.height = height ?? 360;}\r\n\tget self(){return this.proto.self;}\r\n\tset self(self){if(self instanceof HTMLCanvasElement) this.proto.ctx = (this.proto.self = self).getContext('2d');}\r\n\tget clearBeforeDraw(){return this.loaded.then(()=>this.proto.clearBeforeDraw);}\r\n\tset clearBeforeDraw(clearBeforeDraw){this.loaded = Promise.resolve(this.loaded).then(()=>this.proto.clearBeforeDraw = clearBeforeDraw);}\r\n\tget temp(){return this.proto.temp.canvas;}\r\n\tset temp(src){return this.proto.set.call(this,src).then(()=>(this.proto.temp.drawImage(this.img,0,0),true),this.rejectSrc.bind(this,src));}\r\n\tget opacity(){return this.loaded.then(()=>this.proto.ctx.globalAlpha);}\r\n\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\tset opacity(opacityConfig){\r\n\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\tthen(value=>{this.proto.ctx.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t}\r\n\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\tset tempOpacity(opacityConfig){\r\n\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\tthen(value=>{this.proto.temp.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t}\r\n\tloaded = RealNode.now;\r\n\t/**\r\n\t * \r\n\t * @param {Number} [width] \r\n\t * @param {Number} [height] \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {...RealNode} [relativeRNs] \r\n\t */\r\n\tconstructor(id,width,height,tryRealNode,...relativeRNs){\r\n\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\tself && self.tagName.toLocaleLowerCase() !== 'canvas' &&\r\n\t\tRealNode.error('=> \"id\" exists but not within an HTMLCanvasElement !');\r\n\t\tRealElement.addId(id,!self);\r\n\t\tsuper({self: self || RealElement.makeElement('canvas',{id})},{id},tryRealNode,...relativeRNs);\r\n\t\t/**@type {AntiCanvas} */\r\n\t\tthis.proto;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.proto.ctx = this.proto.self.getContext('2d');\r\n\t}\r\n};\r\nvar RealLoader =\r\n/** @template {Boolean} T */\r\nclass RealLoader extends RealElement{\r\n\t/**@typedef {AntiTarget & {onerror: null | (error: Error)=>void,onloadend: null | (n: Number)=>void}} AntiLoader */\r\n\tstatic proto = class AntiLoader extends RealTarget.proto{\r\n\t\t/**@type {null | (error: Error)=>void} */\r\n\t\tonerror;\r\n\t\t/**@type {null | (this: RealLoader)=>void} */\r\n\t\tonloadend;\r\n\t};\r\n\tstatic fs = (()=>{\r\n\t\tclass DocumentFs{get stat(){return DocumentFs.stat;}get readdir(){return DocumentFs.readdir;}}\r\n\t\tDocumentFs.fetch = (()=>{\r\n\t\t\tconst temp = response=>response.status < 300 ? [,response] : RealLoader.error('Failed request !');\r\n\t\t\treturn browserMode && document.location.protocol === 'file:' ? path=>fetch(path,{mode:'no-cors'}).then(temp) :\r\n\t\t\tpath=>fetch(path).then(temp);\r\n\t\t})();\r\n\t\t/**@type {(path: String)=>Promise<[Error | null,Stats | Response]>} */\r\n\t\tDocumentFs.stat = nodeMode ? (async (path)=>RealWorld.cb2promise({thisArg: await nodeRequire('fs'),useFn: 'stat'},path)) :\r\n\t\t(path=>DocumentFs.fetch(path).catch(e=>[e]));\r\n\t\t/**@type {(path: String,...strArgs: (String | String[])[])=>Promise<[Error | null,String[]]>} */\r\n\t\tDocumentFs.readdir = nodeMode ?\r\n\t\t(async (path)=>RealWorld.cb2promise({thisArg: await nodeRequire('fs'),useFn: 'readdir'},path)) :\r\n\t\t(async (path,...strArgs)=>{try{\r\n\t\t\tconst length = strArgs.length;\r\n\t\t\tvar i = length,fileName;\r\n\t\t\t/\\/$/.test(path) || (path += '/');\r\n\t\t\tiLoop: while(i --> 0){\r\n\t\t\t\tif(Array.isArray(strArgs[i])){\r\n\t\t\t\t\tfor(fileName = strArgs[i].length;fileName --> 0;) strArgs[i][fileName] = String(strArgs[i][fileName]);\r\n\t\t\t\t\tcontinue iLoop;\r\n\t\t\t\t}\r\n\t\t\t\tconst str = String(strArgs[i]);\r\n\t\t\t\tif('\\\\' === str[0]) switch(str[1]){\r\n\t\t\t\t\tcase 'w': strArgs[i] = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';break;\r\n\t\t\t\t\tcase 'd': strArgs[i] = '0123456789';break;\r\n\t\t\t\t}\r\n\t\t\t\telse strArgs[i] = [str];\r\n\t\t\t}\r\n\t\t\tconst statList = [],testFileNameList = [],fileNameList = [];\r\n\t\t\tfor(const temp = Array(length).fill(0);!('-1' in temp);){\r\n\t\t\t\tfileName = '';\r\n\t\t\t\tfor(i = 0;i < length;i++) fileName+=strArgs[i][temp[i]];\r\n\t\t\t\ttestFileNameList.push(fileName),fileName = path+fileName,statList.push(DocumentFs.stat(fileName));\r\n\t\t\t\t// log(fileName);\r\n\t\t\t\tfor(temp[(i = length) - 1]++;i --> 0;) strArgs[i].length > temp[i] || (temp[i] = 0,temp[i - 1]++);\r\n\t\t\t}\r\n\t\t\tconst resultList = await Promise.all(statList),limit = resultList.length;\r\n\t\t\tfor(i = 0;i < limit;i++) resultList[i][0] ?? log(fileNameList.push(testFileNameList[i]),testFileNameList[i]);\r\n\t\t\treturn [null,fileNameList];\r\n\t\t}catch(e){return [e,[]];}});\r\n\t\treturn new DocumentFs;\r\n\t})();\r\n\tstatic _configDescriptor = (browserMode && addEventListener('click',async e=>{\r\n\t\tif(e.target.classList.contains('RealLoader')) for(const temp of RealTarget.searchByObj(e.target)) if(temp instanceof RealLoader){\r\n\t\t\ttry{const err = (await RealLoader.load(temp))[0];err ? temp.onerror?.(err) : temp.onloadend?.();}catch(e){console.error(e);}\r\n\t\t\ttemp.notify(true);\r\n\t\t\ttemp.react?.();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}),{writable: false,enumerable: false,configurable: false});\r\n\tstatic getArrayBufferFrom(data){return Promise.resolve(\r\n\t\tdata instanceof ArrayBuffer ? data : ArrayBuffer.isView(data) ? data.buffer :\r\n\t\tdata instanceof Blob ? data.arrayBuffer() : new Blob(Array.isArray(data) ? data.join('') : String(data)).arrayBuffer()\r\n\t);}\r\n\t/**@type {(realLoader: RealLoader)=>Promise<[Error | null,Number | undefined]>} @method */\r\n\tstatic load = (\r\n\t\tnodeMode ? (async (realLoader)=>{try{\r\n\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[];\r\n\t\t\t}\r\n\t\t\tconst fs = await nodeRequire('fs');\r\n\t\t\tconst data = await realLoader.dataGetter();\r\n\t\t\tconst {1: prefix = 'file',2: suffix = ''} = /(.+)(\\..+)/.exec(realLoader.temp.download) || [];\r\n\t\t\tconst result = await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},'./'+realLoader.temp.download);\r\n\t\t\tif(!result) this.error('Unknown Error !');\r\n\t\t\tif(result[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},'./'+realLoader.temp.download,Buffer.from(ab)));\r\n\t\t\tfor(var i = 1;true;i++){\r\n\t\t\t\tconst path = './'+prefix+' - '+i+suffix;\r\n\t\t\t\tif((await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},path))[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},path,Buffer.from(ab)));\r\n\t\t\t}\r\n\t\t}catch(e){return [e];}}) :\r\n\t\t(()=>{\r\n\t\t\tconst toBlob = data=>new Blob(data);\r\n\t\t\treturn async (realLoader)=>{try{\r\n\t\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[];\r\n\t\t\t\t}\r\n\t\t\t\tconst data = await realLoader.dataGetter();\r\n\t\t\t\tconst href = URL.createObjectURL(await(\r\n\t\t\t\t\ttypeof data === 'string' ? new Blob([data]) : data instanceof Blob ? data : RealLoader.getArrayBufferFrom(data).then(toBlob)\r\n\t\t\t\t));\r\n\t\t\t\treturn realLoader.temp.href = href,realLoader.temp.click(),URL.revokeObjectURL(href),[];\r\n\t\t\t}catch(e){return [e];}}\r\n\t\t})()\r\n\t);\r\n\tload(){return RealLoader.load(this);}\r\n\tprotoSet(value){return this.self[this.key] = String(value),false;}\r\n\t/**@returns {FileList} */\r\n\tget files(){return 'upload' === this.type ? this.temp.files : this.error('I\\'m an downloader without files !');}\r\n\tget onerror(){return this.proto.onerror;}\r\n\tset onerror(onerror){this.proto.onerror = typeof onerror === 'function' ? onerror : null;}\r\n\tget onloadend(){return this.proto.onloadend;}\r\n\tset onloadend(onloadend){this.proto.onloadend = typeof onloadend === 'function' ? onloadend : null;}\r\n\tget fileName(){return 'upload' === this.type ? this.error('Uploader bans \"fileName\" !') : this.temp.download;}\r\n\tset fileName(fileName){\r\n\t\t'upload' === this.type && this.error('Uploader bans \"fileName\" !');\r\n\t\ttypeof fileName === 'symbol' && this.error('\"fileName\" must be String but not Symbol !');\r\n\t\tif(nodeMode && !/^\\.\\//.test(fileName)) fileName = './'+fileName;\r\n\t\tthis.temp.download = fileName;\r\n\t}\r\n\t/**@type {()=>*} */\r\n\tdataGetter;\r\n\t// /**@type {Promise<Buffer | String>} */\r\n\t// data;\r\n\t/**\r\n\t * \r\n\t * @param {T} isDownload \r\n\t * @param {String} fileName \r\n\t * @param {()=>*} dataGetter \r\n\t * @param {{innerHTML?: String;onerror?: (e)=>void;onloadend?: (this: RealLoader)=>void;}} param3 \r\n\t */\r\n\tconstructor(isDownload,fileName,dataGetter,{innerHTML,onerror,onloadend} = {}){\r\n\t\tsuper({self: document.createElement('div'),key: 'innerHTML'});\r\n\t\t/**@type {AntiLoader} */\r\n\t\tthis.proto;\r\n\t\tthis.onerror = onerror;\r\n\t\tthis.onloadend = onloadend;\r\n\t\tthis.dataGetter = dataGetter;\r\n\t\tthis.value = innerHTML;\r\n\t\tisDownload = Boolean(isDownload);\r\n\t\tthis.temp = document.createElement(isDownload ? 'a' : 'input');\r\n\t\tReflect.defineProperty(this,'temp',RealLoader._configDescriptor);\r\n\t\tthis.type = isDownload ? (this.fileName = fileName || 'file','download') : (this.temp.type = 'file','upload');\r\n\t\tReflect.defineProperty(this,'type',RealLoader._configDescriptor);\r\n\t}\r\n};\r\nvar RealSelect = class RealSelect extends RealElement{\r\n\t/**@typedef {AntiTarget & {list: HTMLOptionElement[]}} AntiSelect */\r\n\tstatic proto = class AntiSelect extends RealTarget.proto{\r\n\t\t/**@type {HTMLOptionElement[]} */\r\n\t\tlist = [];\r\n\t};\r\n\t/**\r\n\t * \r\n\t * @this {RealSelect}\r\n\t * @param {RealNode} realNode \r\n\t */\r\n\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\tvar value,i;\r\n\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\twhile(temp.length){\r\n\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\tif(value === this.proto.value){\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t\tfix:for(const key of Object.keys(value)) if(key !== position[0]) i++;else{\r\n\t\t\t\t\t\tthis.proto.list[i].value = String(tempValue);\r\n\t\t\t\t\t\tbreak fix;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t}catch(e){\r\n\t\tif(this instanceof RealSelect) throw e;\r\n\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t}}\r\n\t/**\r\n\t * \r\n\t * @param {{[text: String]: String}} value \r\n\t */\r\n\tprotoSet(value){return this.proto.value = Object.assign({},value),true;}\r\n\tfix(){\r\n\t\tthis.self[this.key] = this.protoTransform(this.proto.value);\r\n\t\tthis.proto.list = Array.from(this.self.children);\r\n\t\treturn this;\r\n\t}\r\n\tgetValueIndexs(){\r\n\t\tvar i = this.proto.list.length,temp = [];\r\n\t\twhile(i --> 0) this.proto.list[i].selected && temp.push(i);\r\n\t\treturn temp.reverse();\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @returns {String[]}\r\n\t */\r\n\tprotoGet(){\r\n\t\tconst valueArray = [],list = this.proto.list,end = list.length;\r\n\t\tfor(var i = 0;i < end;i++){list[i].selected && valueArray.push(list[i].value);}\r\n\t\treturn valueArray;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Array} value \r\n\t */\r\n\tprotoTransform(value,defaultKey = String(this.defaultKey),defaultValue = String(this.defaultValue)){\r\n\t\tvar now;\r\n\t\tif(this instanceof RealSelect && !this.self.multiple) value = Object.assign({[defaultKey]: defaultValue},value);\r\n\t\tconst innerHTML = [],iterator = Object.entries(value).sort((a,b)=>a[0].localeCompare(b[0])).sort((a,b)=>a[0] - b[0]).values();\r\n\t\twhile(!(now = iterator.next()).done)\r\n\t\t\tinnerHTML.push(`<option value=\"${String(now.value[1])}\" ${now.value[0] === defaultKey ? 'selected' : ''}>${now.value[0]}</option>`);\r\n\t\treturn innerHTML.join('');\r\n\t}\r\n\t/**@returns {Element[]} */\r\n\tget list(){return this.proto.list;}\r\n\t/**\r\n\t * \r\n\t * @param {String | null} id \r\n\t * @param {Boolean} multiple \r\n\t * @param {{[text: String]: String}} optionConfig \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {String} [defaultKey] \r\n\t * @param {String} [defaultValue] \r\n\t * @param {(e: Event)=>void} [onchange] \r\n\t */\r\n\tconstructor(id,multiple,optionConfig,tryRealNode,defaultKey,defaultValue,onchange){\r\n\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\tif(self) self.tagName.toLocaleLowerCase() === 'select' ? Object.assign(self,{multiple,onchange}) :\r\n\t\tRealNode.error('=> \"id\" exists but not within an HTMLSelectElement !');\r\n\t\tRealElement.addId(id,!self);\r\n\t\tsuper({\r\n\t\t\tkey: 'innerHTML',self: self || RealElement.makeElement('select',{id,multiple,onchange})\r\n\t\t},{id,initValue: Object.assign({},optionConfig)},tryRealNode);\r\n\t\t/**@type {AntiSelect} */this.proto;\r\n\t\tthis.defaultKey = defaultKey ?? '_';\r\n\t\tthis.defaultValue = defaultValue ?? '';\r\n\t\tthis.fix();\r\n\t}\r\n};\r\nvar RealComtag = class RealComtag extends RealElement{\r\n\t/**@type {Map<String,[Boolean,*[],Boolean,((this: RealComtag)=>void) | null]>} */\r\n\tstatic comtagClassMap = new Map;\r\n\t/**\r\n\t * \r\n\t * @param {String} className \r\n\t * @param {Boolean} tryHTML \r\n\t * @param {ArrayLike} optionList \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {{[selector: String]: {[styleName: String]: String}}} [cssRuleObjObj] \r\n\t * @param {(this: RealComtag)=>void} [callback] \r\n\t */\r\n\tstatic defineComtagClass(className,tryHTML,optionList,tryRealNode,cssRuleObjObj,callback){\r\n\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\tthis.comtagClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\tthis.comtagClassMap.set(className,[tryHTML,optionList,tryRealNode,typeof callback === 'function' ? callback : null]);\r\n\t}\r\n\tstatic createByClassName(className,...argArray){\r\n\t\tconst config = this.comtagClassMap.get(className);\r\n\t\tconfig || this.error('\"className\" not found !');\r\n\t\tconst temp = new RealComtag('',config[0],config[1],config[2]);\r\n\t\treturn config[3].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t}\r\n\tfix(){\r\n\t\tvar temp = this.transform(this.proto.value),l = temp.length,i = 0;\r\n\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\twhile(i < l) elementList.appendChild(temp[i++]);\r\n\t\tthis.self.innerHTML = '';\r\n\t\tthis.self.appendChild(elementList);\r\n\t\treturn this;\r\n\t}\r\n\tprotoTransform(value){\r\n\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');else{\r\n\t\t\tconst list = [];\r\n\t\t\tfor(const temp of value) list.push(temp instanceof Element ? temp : document.createElement(String(temp)));\r\n\t\t\treturn list;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {(Element | String)[]} value \r\n\t */\r\n\tprotoSet(value){\r\n\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');else{\r\n\t\t\t/**@type {IterableIterator<HTMLImageElement | String>} */\r\n\t\t\tconst iter0 = this.proto.value[Symbol.iterator]();\r\n\t\t\tconst iter1 = value[Symbol.iterator]();\r\n\t\t\t/**@type {[IteratorResult<HTMLImageElement>,IteratorResult<HTMLImageElement>]} */\r\n\t\t\tconst temp = Array(2);\r\n\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)){\r\n\t\t\t\tif(temp[0].done) break;\r\n\t\t\t\tif(temp[0].value !== temp[1].value) return this.proto.value = Array.from(value),true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {String} id \r\n\t * @param {Boolean} tryHTML \r\n\t * @param {(String | Element)[]} optionList \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t */\r\n\tconstructor(id,tryHTML,optionList,tryRealNode,selfAssign){\r\n\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\tRealElement.addId(id,!self);\r\n\t\tsuper({self: self || RealElement.makeElement('div',{id})},{\r\n\t\t\tid,initValue: !optionList?.[Symbol.iterator] ? [] : Array.from(optionList)\r\n\t\t},tryRealNode);\r\n\t\t/**@type {AntiList} */\r\n\t\tthis.proto;\r\n\t\tthis.tryHTML = tryHTML;\r\n\t\tObject.assign(this.fix().self,selfAssign);\r\n\t}\r\n};\r\nvar RealDivList = class RealDivList extends RealElement{\r\n\t/**@typedef {AntiTarget & {list: Element[],childrenList: Element[][]}} AntiList */\r\n\tstatic proto = class AntiList extends RealTarget.proto{\r\n\t\t/**@type {HTMLDivElement[]} */\r\n\t\tlist = [];\r\n\t\t/**@type {Element[][]} */\r\n\t\tchildrenList = [];\r\n\t}\r\n\t/**@type {Map<String,[Boolean,*[],Boolean,((this: RealDivList)=>void) | null]>} */\r\n\tstatic divListClassMap = new Map;\r\n\t/**\r\n\t * \r\n\t * @param {Number} length \r\n\t * @param {String} tagName \r\n\t * @param {String} [id] \r\n\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t */\r\n\tstatic createList(length = 0,tagName,id,selfAssign){\r\n\t\tconst temp = [];\r\n\t\twhile(length --> 0) temp.push(document.createElement(tagName));\r\n\t\treturn new RealDivList(id,true,temp,RealDivList.tryRealNode,selfAssign);\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @this {RealDivList}\r\n\t * @param {RealNode} realNode \r\n\t */\r\n\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\tvar value;\r\n\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\twhile(temp.length){\r\n\t\t\tconst position = temp.pop().reverse().concat(),tempValue = realNode.value;\r\n\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\tif(value === this.proto.value) (position[1] = this.proto.list[position[0]]).innerHTML = '';\r\n\t\t\t\ttempValue instanceof Element ? position[1].appendChild(tempValue) :\r\n\t\t\t\tposition[1][this.tryHTML ? 'innerHTML' : 'textContent'] = tempValue;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t}catch(e){\r\n\t\tif(this instanceof RealDivList) throw e;\r\n\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t}}\r\n\t/**\r\n\t * \r\n\t * @param {String} className \r\n\t * @param {Boolean} tryHTML \r\n\t * @param {ArrayLike} optionList \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {{[selector: String]: {[styleName: String]: String}}} [cssRuleObjObj] \r\n\t * @param {(this: RealDivList)=>void} [callback] \r\n\t */\r\n\tstatic defineDivListClass(className,tryHTML,optionList,tryRealNode,cssRuleObjObj,callback){\r\n\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\tthis.divListClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\tthis.divListClassMap.set(className,[tryHTML,optionList,tryRealNode,typeof callback === 'function' ? callback : null]);\r\n\t}\r\n\tstatic createByClassName(className,...argArray){\r\n\t\tconst config = this.divListClassMap.get(className);\r\n\t\tconfig || this.error('\"className\" not found !');\r\n\t\tconst temp = new RealDivList('',config[0],config[1],config[2]);\r\n\t\treturn config[3].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @returns {Element[]}\r\n\t */\r\n\tprotoGet(){return this.proto.list;}\r\n\t/**\r\n\t * \r\n\t * @param {(Element | String)[]} value \r\n\t */\r\n\tprotoSet(value){return this.proto.value = Array.from(value),true;}\r\n\t/**\r\n\t * \r\n\t * @param {Array} value \r\n\t */\r\n\tprotoTransform(value){\r\n\t\tvar list = [],temp;\r\n\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');else{\r\n\t\t\tconst iter = value[Symbol.iterator]();\r\n\t\t\twhile(!(temp = iter.next()).done){\r\n\t\t\t\tlist.push(temp.done = document.createElement('div'));\r\n\t\t\t\ttemp.value instanceof Element ? temp.done.appendChild(temp.value) :\r\n\t\t\t\ttemp.done[this.tryHTML ? 'innerHTML' : 'textContent'] = String(temp.value);\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Boolean} [toRealElement] \r\n\t * @param {String} [key] \r\n\t * @returns {{[id: String]: Element} | {[id: String]: RealElement}}}\r\n\t */\r\n\tgetIdDict(toRealElement,key){\r\n\t\t/**@type {{[id: String]: Element} | {[id: String]: RealElement}} */\r\n\t\tconst list = Object.create(null);\r\n\t\tvar i = this.proto.list.length,temp;\r\n\t\tif(toRealElement) while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t(list[temp[0].id] = new RealElement({self: this.proto.list[i],key}));\r\n\t\telse while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t(list[temp[0].id] = this.proto.list[i]);\r\n\t\treturn list;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @returns {RealElement[]}\r\n\t */\r\n\tgetRealEmentList(){\r\n\t\tconst temp = this.proto.list.concat();\r\n\t\tfor(var i = temp.length;i --> 0;) temp[i] = new RealElement({self: temp[i]});\r\n\t\treturn temp;\r\n\t}\r\n\tfix(){\r\n\t\tvar i = 0;\r\n\t\t/**@type {HTMLDivElement[]} list */\r\n\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\twhile(i < list.length){childrenList.push(Array.from(elementList.appendChild(list[i++]).children));}\r\n\t\tthis.self.innerHTML = '';\r\n\t\tthis.self.appendChild(elementList);\r\n\t\treturn this;\r\n\t}\r\n\t/**@type {Element[][]} */\r\n\tget childrenList(){return this.proto.childrenList;}\r\n\t/**\r\n\t * \r\n\t * @param {String} id \r\n\t * @param {Boolean} tryHTML \r\n\t * @param {(Element | String)[]} optionList \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t */\r\n\tconstructor(id,tryHTML,optionList,tryRealNode,selfAssign){\r\n\t\tconst self = (typeof id === 'string' || (id = '',false)) && document.getElementById(id);\r\n\t\tRealElement.addId(id,!self);\r\n\t\tsuper({self: self || RealElement.makeElement('div',{id})},{\r\n\t\t\tid,initValue: !optionList?.[Symbol.iterator] ? [] : Array.from(optionList)\r\n\t\t},tryRealNode);\r\n\t\t/**@type {AntiList} */this.proto;\r\n\t\tthis.tryHTML = tryHTML;\r\n\t\tObject.assign(this.fix().self,selfAssign);\r\n\t}\r\n};\r\nvar RealImgList = class RealImgList extends RealDivList{\r\n\t/**\r\n\t * \r\n\t * @this {RealImgList}\r\n\t * @param {RealNode} realNode \r\n\t */\r\n\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\tvar value;\r\n\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\twhile(temp.length){\r\n\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\tif(value === this.proto.value) this.proto.childrenList[position[0]][0].src = String(tempValue?.src ?? tempValue);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t}catch(e){\r\n\t\tif(this instanceof RealImgList) throw e;\r\n\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t}}\r\n\t/**\r\n\t * \r\n\t * @returns {HTMLImageElement[]}\r\n\t */\r\n\tcloneImgList(){\r\n\t\tconst temp = this.childrenList.concat();\r\n\t\tfor(var i = temp.length;i --> 0;) temp[i] = temp[i][0].cloneNode();\r\n\t\treturn temp;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Array} value \r\n\t */\r\n\tprotoTransform(value){\r\n\t\tvar list = [],temp;\r\n\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');\r\n\t\tconst iter = value[Symbol.iterator]();\r\n\t\twhile(!(temp = iter.next()).done){\r\n\t\t\tlist.push(temp.done = document.createElement('div'));\r\n\t\t\ttemp.done.appendChild(temp.value instanceof Image ? temp.value : Object.assign(new Image(),{src: String(temp.value)}));\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {(Element | String)[]} value \r\n\t */\r\n\tprotoSet(value){\r\n\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Arraylike !');else{\r\n\t\t\t/**@type {IterableIterator<HTMLImageElement | String>} */\r\n\t\t\tconst iter0 = this.proto.value[Symbol.iterator]();\r\n\t\t\tconst iter1 = value[Symbol.iterator]();\r\n\t\t\t/**@type {[IteratorResult<HTMLImageElement>,IteratorResult<HTMLImageElement>]} */\r\n\t\t\tconst temp = Array(2);\r\n\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)){\r\n\t\t\t\tif(temp[0].done) break;\r\n\t\t\t\tif((temp[0].value?.src ?? String(temp[0].value)) !== (temp[1].value?.src ?? String(temp[1].value))){\r\n\t\t\t\t\treturn this.proto.value = Array.from(value),true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {String} id \r\n\t * @param {(Element | String)[]} srcList \r\n\t * @param {Boolean} [tryRealNode] \r\n\t * @param {{[attr: String]: (event: Event)=>void}} [selfAssign] \r\n\t */\r\n\tconstructor(id,srcList,tryRealNode,selfAssign){super(id,true,srcList,tryRealNode,selfAssign);}\r\n};\r\nvar RealDivQueue = class RealDivQueue extends RealDivList{\r\n\t/**@typedef {AntiList & {queueArray: Number[]}} AntiQueue */\r\n\tstatic proto = class AntiQueue extends RealDivList.proto{\r\n\t\t/**@type {Number[]} */\r\n\t\tqueueArray;\r\n\t}\r\n\t/**@type {Element} */\r\n\tstatic tempTarget = void(browserMode && (RealWorld.onload.then(()=>RealElement.addCSSRules('.RealDivQueue',{\r\n\t\t// '>div': {'transition-duration':'.1s'},\r\n\t\t'>div:hover': {'transform':'scale(1.1,1)'},\r\n\t\t'>div:active': {'transform':'scale(1.2,1)'},\r\n\t})),addEventListener('mousedown',e=>(RealDivQueue.tempTarget = e.target)),addEventListener('mouseup',e=>{\r\n\t\t/**@type {RealDivQueue} */\r\n\t\tvar realDivQueue,target,queue;\r\n\t\tconst list0 = [target = RealDivQueue.tempTarget];\r\n\t\twhile(target = target.parentElement) list0.push(target);\r\n\t\tconst list1 = [target = e.target];\r\n\t\twhile(target = target.parentElement) list1.push(target);\r\n\t\tif(list0.pop() !== list1.pop()) return;\r\n\t\ttarget = [];\r\n\t\twhile((target[0] = list0.pop()) === (target[1] = list1.pop())) if(!list0.length) return;\r\n\t\tconst [target0,target1] = target;\r\n\t\tif(!target0 || !target1) return;\r\n\t\t/**@type {Element} */\r\n\t\tconst temp = target0.parentElement;\r\n\t\tif(temp.classList.contains('RealDivQueue')){\r\n\t\t\tfor(realDivQueue of RealTarget.searchByObj(temp)) if(realDivQueue instanceof RealDivQueue) break;\r\n\t\t\tqueue = realDivQueue.queueArray;\r\n\t\t\tqueue = (target[0] = queue.indexOf(realDivQueue.proto.list.indexOf(target[0]))) >\r\n\t\t\t(target[1] = queue.indexOf(realDivQueue.proto.list.indexOf(target[1]))) ?\r\n\t\t\tqueue.slice(0,target[1]).concat(queue[target[0]],queue.slice(target[1],target[0]),queue.slice(target[0] + 1)) :\r\n\t\t\tqueue.slice(0,target[0]).concat(queue.slice(target[0] + 1,target[1] + 1),queue[target[0]],queue.slice(target[1] + 1));\r\n\t\t\trealDivQueue.applyQueue(queue,target0,target1);\r\n\t\t}\r\n\t})));\r\n\tgetListQueue(){\r\n\t\t/**@type {AntiQueue} */this.proto;\r\n\t\t/**@type {Element[]} */\r\n\t\tconst temp = this.queueArray;\r\n\t\tfor(var i = temp.length;i --> 0;) temp[i] = this.proto.list[temp[i]];\r\n\t\treturn temp;\r\n\t}\r\n\tfix(){\r\n\t\tvar i = 0;\r\n\t\t/**@type {HTMLDivElement[]} list */\r\n\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\twhile(i < list.length) childrenList.push(Array.from(list[i++].children));\r\n\t\treturn this.applyQueue([]);\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {Number[]} queueArray \r\n\t * @param {Element} [target0] \r\n\t * @param {Element} [target1] \r\n\t * @returns \r\n\t */\r\n\tapplyQueue(queueArray,target0,target1){\r\n\t\tconst previousQueue = this.queueArray ?? [];\r\n\t\tconst temp = Array.isArray(queueArray);queueArray = temp ? queueArray.slice(0,this.proto.list.length) : previousQueue;\r\n\t\tconst list = this.proto.list.concat(),length = list.length,top = this.self.scrollTop,left = this.self.scrollLeft;\r\n\t\tvar i = length;\r\n\t\twhile(i --> 0) queueArray[i] == null && (queueArray[i] = i),queueArray.indexOf(i) === -1 && this.error('Illegal \"queueArray\" !');\r\n\t\ti = [previousQueue.indexOf(this.proto.list.indexOf(target0)),previousQueue.indexOf(this.proto.list.indexOf(target1))];\r\n\t\tif(i[0] !== -1 && i[1] !== -1) i[0] < i[1] ? target1.insertAdjacentElement('afterend',target0) :\r\n\t\ttarget1.insertAdjacentElement('beforebegin',target0);\r\n\t\telse{\r\n\t\t\ti = 0;\r\n\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\twhile(i < length) elementList.appendChild(list[queueArray[i++]]);\r\n\t\t\tthis.self.classList.add('disappear');\r\n\t\t\tthis.self.innerHTML = '';\r\n\t\t\tthis.self.appendChild(elementList);\r\n\t\t\tthis.self.scrollTo({top,left,behavior: 'instant'});\r\n\t\t\tthis.self.classList.remove('disappear');\r\n\t\t}\r\n\t\tthis.proto.queueArray = queueArray;\r\n\t\tif(temp) this.react?.(),this.notify(true);\r\n\t\treturn this;\r\n\t}\r\n\t/**@type {Number[]} */\r\n\tget queueArray(){return this.proto.queueArray?.concat?.();}\r\n};\r\n/**\r\n * \r\n * @param {{[key: String]: *}} [optionConfig] \r\n * @param {Boolean} [multiple] \r\n * @param {(this: RealDivList,e: Event)=>void} [onchange] \r\n */\r\nvar createRealDivSelect = (optionConfig,multiple,onchange)=>RealDivList.createByClassName('realDivSelect',optionConfig,multiple,onchange);\r\nRealWorld.onload = RealWorld.onload.\r\nfinally(()=>RealDivList.defineDivListClass('realDivSelect',false,[],true,{\r\n\t'': {'background':'linear-gradient(135deg,#fff,#000)'},\r\n\t'>div': {'background-color':'#333','transform':'scale(0.8,1)'},\r\n\t'>div:hover': {'transform':'scale(0.9,1)'},\r\n\t'>.selected': {'background-color':'#555','transform':'scale(1)','font-weight':'bolder'},\r\n},(()=>{\r\n\tconst changeConfig = {bubbles: true,cancelable: false};\r\n\t/**@type {(this: RealDivList)=>*[]} */\r\n\tfunction tempGet(){\r\n\t\tconst temp = [],list = this.proto.list;\r\n\t\tfor(var i = 0;list[i];i++) list[i].classList.contains('selected') && temp.push(this.info.optionList[i]);\r\n\t\tthis.info.multiple || temp.length || !i || (list[0].classList.add('selected'),temp.push(this.info.optionList[0]));\r\n\t\treturn temp;\r\n\t}\r\n\t/**@type {(this: RealDivList,value: {})=>false} */\r\n\tfunction tempSet(value){\r\n\t\tfor(const key of (\r\n\t\t\tthis.info.optionList = [],\r\n\t\t\tthis.proto.value = Object.keys(value = Object(value)).sort().sort((a,b)=>a - b)\r\n\t\t)) this.info.optionList.push(value[key]);\r\n\t\treturn this.fix().value,false;\r\n\t}\r\n\t/**@type {(RS: RealDivList)=>Boolean} */\r\n\tasync function tempReact(RS){return RS.react?.(),await RS.notify(),RS.self.dispatchEvent(new Event('change',changeConfig));}\r\n\taddEventListener('click',e=>{\r\n\t\t/**@type {?Element} */\r\n\t\tconst parentElement = e.target.parentElement;\r\n\t\tif(!parentElement || !parentElement.classList.contains('realDivSelect')) return;\r\n\t\tvar REList = RealTarget.searchByObj(parentElement),i = 0,temp;\r\n\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\tif(!temp) return;\r\n\t\tconst RS = temp,previousValue = RS.value[0];\r\n\t\tREList = RS.proto.list;\r\n\t\tif(RS.info.multiple) e.target.classList.toggle('selected'),tempReact(RS);else{\r\n\t\t\twhile(temp = REList[i++]) temp.classList[e.target === temp ? 'add' : 'remove']('selected');\r\n\t\t\tpreviousValue === RS.value[0] || tempReact(RS);\r\n\t\t}\r\n\t});\r\n\t/**@type {(this: RealDivList,optionConfig?: {[key: String]: *},multiple?: Boolean,onchange?: (this: RealDivList,e: Event)=>void)=>void} */\r\n\treturn function(optionConfig,multiple,onchange){\r\n\t\tthis.get = tempGet;\r\n\t\tthis.set = tempSet;\r\n\t\tthis.info = Object(this.info);\r\n\t\tthis.info.multiple = Boolean(multiple);\r\n\t\tif(typeof onchange === 'function') this.self.onchange = onchange.bind(this);\r\n\t\tthis.value = optionConfig;\r\n\t};\r\n})()));\r\n/**\r\n * \r\n * @param {String} [placeholder] \r\n */\r\nvar createRealDivSearch = placeholder=>RealDivList.createByClassName('realDivSearch',placeholder);\r\nRealWorld.onload = RealWorld.onload.\r\nfinally(()=>RealDivList.defineDivListClass('realDivSearch',true,[],true,{'>:nth-child(2)>div>div:hover': {'transform':'scale(0.9,1)'}},(()=>{\r\n\t/**@type {RealDivList} */\r\n\tvar tempRealDivList;\r\n\tconst changeConfig = {bubbles: true,cancelable: false},now = Promise.resolve();\r\n\t/**@type {(this: RealDivList)=>String} */\r\n\tfunction tempGet(){return this.info.inputer.value;}\r\n\t/**@type {(target: Element)=>void} */\r\n\tfunction tempReact(target){tempRealDivList && target !== tempRealDivList.info.inputer && (\r\n\t\ttempRealDivList.info.matcher.value = {},tempRealDivList.react?.(),tempRealDivList.notify(true)\r\n\t);}\r\n\t/**@type {(this: RealDivList,value: *[])=>false} */\r\n\tfunction tempSet(value){\r\n\t\tArray.isArray(value) ? this.info.wordList = value : this.error('\"value must be Array !');\r\n\t\treturn now.then(()=>this.info.inputer.dispatchEvent(new Event('input',changeConfig))),\r\n\t\t(tempRealDivList || (tempRealDivList = this)).info.matcher.value = {},false;\r\n\t}\r\n\taddEventListener('click',e=>RealNode.afterNow(()=>tempReact(e.target)));\r\n\tRealElement.addEventListenerBySelectors('.realDivSearch>:nth-child(1)>textarea','click',async e=>(\r\n\t\tawait 0,e.target.dispatchEvent(new Event('input',changeConfig))\r\n\t));\r\n\tRealElement.addEventListenerBySelectors('.realDivSearch>:nth-child(1)>textarea','input',e=>{\r\n\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement),temp;\r\n\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\tif(!temp) return;\r\n\t\tconst testReg = new RegExp(temp.info.inputer.value,'i');\r\n\t\ttemp.info.matcher.value = RealNode.arrayToObject(temp.info.wordList.filter(str=>testReg.test(String(str))));\r\n\t});\r\n\tRealElement.addEventListenerBySelectors('.realDivSearch>:nth-child(2)>div>div','click',e=>{\r\n\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement.parentElement),temp;\r\n\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\tif(!temp) return;\r\n\t\ttemp.info.inputer.value = temp.info.matcher.value[0];\r\n\t\ttempRealDivList = temp;\r\n\t\ttempRealDivList.react?.(),tempRealDivList.notify(true);\r\n\t\t// (tempRealDivList = temp).info.inputer.dispatchEvent(new Event('input',changeConfig));\r\n\t});\r\n\t/**@type {(this: RealDivList)=>void} */\r\n\treturn function(placeholder){\r\n\t\tconst matcher = RealDivList.createByClassName('realDivSelect');\r\n\t\tthis.proto.value = ['<textarea placeholder=\"'+String(placeholder)+'\"></textarea>',matcher.self];\r\n\t\tthis.fix().info = Object(this.info);\r\n\t\tthis.info.inputer = this.proto.childrenList[0][0];\r\n\t\tthis.info.matcher = matcher;\r\n\t\tthis.info.wordList = [];\r\n\t\tthis.get = tempGet;\r\n\t\tthis.set = tempSet;\r\n\t};\r\n})()));\r\n/**\r\n * \r\n * @param {String | RealNode | ()=>String} titleGetter \r\n */\r\nvar createRealDivSeries = titleGetter=>RealDivList.createByClassName('realDivSeries',titleGetter);\r\nRealWorld.onload = RealWorld.onload.\r\nfinally(()=>RealDivList.defineDivListClass('realDivSeries',false,[],true,{\r\n\t'>div:nth-child(1)': {'font-weight':'bolder'},\r\n\t'.hidden>div:nth-child(n + 2)': {'display':'none'},\r\n},(()=>{\r\n\tRealElement.addEventListenerBySelectors('.realDivSeries>div:nth-child(1)','click',e=>{\r\n\t\tvar REList = RealElement.searchByObj(e.target.parentElement),temp;\r\n\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\ttemp && temp.toggleClassName('hidden');\r\n\t});\r\n\t/**@type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>(getTransform.fn | getTransform.realNode | getTransform.str)} */\r\n\tfunction getTransform(titleGetter){return getTransform[\r\n\t\ttypeof titleGetter === 'function' ? 'fn' : titleGetter instanceof RealNode ? 'realNode' : 'str'\r\n\t].bind(this,titleGetter);}\r\n\tconst temp = [];\r\n\t/**@type {(this: RealDivList,titleGetter: ()=>String,value: String[])=>HTMLDivElement[]} */\r\n\tgetTransform.fn = function(titleGetter,value){return this.protoTransform(temp.concat(titleGetter(),value));}\r\n\t/**@type {(this: RealDivList,titleGetter: String,value: String[])=>HTMLDivElement[]} */\r\n\tgetTransform.str = function(titleGetter,value){return this.protoTransform(temp.concat(String(titleGetter),value));}\r\n\t/**@type {(this: RealDivList,titleGetter: RealNode,value: String[])=>HTMLDivElement[]} */\r\n\tgetTransform.realNode = function(titleGetter,value){return this.protoTransform(temp.concat(String(titleGetter.value),value));}\r\n\t/**@type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>void} */\r\n\treturn function(titleGetter){this.transform = getTransform.call(this,titleGetter),this.fix();};\r\n})()));\r\n\r\n}else log('No DOM !');\r\n\tlog('Sync\\nin '+(performance.now() - t0).toFloat()+' ms.');\r\n}\r\n/**## 如果使用ESM规范，请不要注释掉下面这一行，如果使用CommonJS规范，请注释掉下面这一行。  */\r\n// export default\r\n/**## 如果使用ESM规范，请不要注释掉上面这一行，如果使用CommonJS规范，请注释掉上面这一行。  */\r\nexports = Object.assign(exports ?? {},{\r\n\tRealWorld,\r\n\tRealNode,RealGroup,RealTarget,RealElement,\t// 5\r\n\tRealStory,\r\n\tRealPromise,\r\n\tRealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\t// 7\r\n\tcreateRealDivSelect,createRealDivSearch,createRealDivSeries,\t// 3\r\n});\r\n/**## 如果用作油猴脚本，请不要注释掉下面这一行。  */\r\n// Object.assign(globalThis,exports);\r\n"],"names":["temp","exports","default","require","path","import","String","then","e","console","error","nodeRequire","prevent","v","Element","globalThis","performance","Date","setInterval","clearInterval","t0","now","tempConfig","writable","enumerable","log","bind","browserMode","nodeMode","Object","prototype","toString","call","process","Number","toFloat","tail","int","float","isFinite","this","valueOf","Math","floor","0","1","split","BigInt","slice","padEnd","Reflect","defineProperty","RealWorld","undefined","timeSep","fnList","_id","_mainFn","info","self","document","createElement","paused","intervalFn","ifFn","soFn","onload","Promise","r","addEventListener","tempListener","removeEventListener","resolve","createInterval","getPromiseState","Symbol","tryFn","catchFn","promise","race","onceIf","reject","destroy","cb2promise","thisArg","useFn","callback","value","parameters","Error","error0","error1","stack","catch","fn","unshift","getRealElement","RealElement","key","id","initValue","innerHTML","setTimeSep","pop","e0","e1","RealNode","message","name","_sys","Map","tryRealNode","eventLoop","proto","childRNs","react","search","get","is","value1","value2","justNow","argArray","arrayToObject","create","array","Array","from","arguments","flat","length","i","createExpression","set","relativeRNs","check","realNode","entries","createHidden","config","assign","display","afterNow","keepNow","apply","protoCreate","createNumber","isArray","createString","concat","join","time","result","await","copyObj","obj","newObj","keys","charCodeAt","_react","notify","noSelf","_getPositionsOfChildRN","position","reverse","realSet","protoReact","protoGet","done","protoDone","protoSet","clearChildRNs","realReact","toPrimitive","hint","constructor","description","NaN","notifyArray","allSettled","count","_computePositionsOfRNs","_dealWithPositionsOfRNs","iter","values","next","push","protoNotify","relate","includes","unrelate","unrelativeRNs","splice","deep","ownKeys","realNodeMap","expression","end","list","dir","indexOf","has","delete","Boolean","RealGroup","tempProxy","Function","arr","target","construct","realGroup","getByFilter","isExtensible","preventExtensions","deleteProperty","setPrototypeOf","attributes","super","groupMap","_","createDeepGroup","strict","getPrototypeOf","keyArray","all","proxy","addSetterListener","ifKeyOrFn","listener","listenerMap","forEach","listenerArray","l","tryRealNodeSetter","getOwnPropertyDescriptor","filterFn","notFn","keyOrkeyObj","Proxy","RealTarget","isElement","transform","searchByObj","element","realTarget","fix","protoTransform","clearClassName","className","addClassName","classList","add","toggleClassName","toggle","removeClassName","remove","getIndexWithin","previousElementSibling","applyCSS","selfSelector","classNameOrRuleObjObj","parentElement","getRandomId","myStyle","addCSSRules","test","addId","clone","keepValue","deepCopyRelativeRNs","param0","cloneNode","idSet","Set","findId","deleteId","random","selectorEventListeners","keyboardController","activeElement","tagName","onkeyboardController","querySelector","previous","enter","RealDivList","click","back","contains","getComputedStyle","animate","opacity","duration","makeElementByString","template","content","firstElementChild","_clear","createImg","createVideo","createAudio","createDiv","createTextarea","placeholder","makeElement","cssConfig","style","applyKeyboardController","ele","cancelKeyboardController","addEventListenerBySelectors","selectors","type","tempStr","replace","toUpperCase","querySelectorAll","alert","_css","myCSS","getElementsByTagName","appendChild","window","createPopup","createTextNode","styleSheets","testReg","strReg0","strReg1","getKeys","insertRule","CSSStyleSheet","selector","rulesStr","cssRules","addRule","tempInsertRule","prefix","ruleObjObj","let","ruleObj","cssName","exec","defaultInit","*","margin","padding","border","-webkit-user-select","-moz-user-select","-ms-user-select","user-select",":root","--mapWidth","--halfBlack","--halfWhite","--noColor","pre","text-align","align-content","vertical-align","white-space","word-wrap","html","cursor","background-color","color","body","transform-origin","overflow","body>*","hr","::-webkit-scrollbar","","width","height","visibility","writing-mode",">*",">*>*",">:nth-child(1)","z-index",">:nth-child(2)",">:nth-child(3)",">:nth-child(4)",">:nth-child(5)",">:nth-child(6)",">:nth-child(7)",">:nth-child(8)",">:nth-child(9)",">:nth-child(10)",">:nth-child(11)",">:nth-child(12)",">:nth-child(13)",">:nth-child(14)",">:nth-child(15)",">:nth-last-child(1)",">:nth-last-child(2)",">:nth-last-child(3)",">:nth-last-child(4)",">:nth-last-child(5)",">:nth-last-child(6)",">:nth-last-child(7)",">:nth-last-child(8)",">:nth-last-child(9)",">:nth-last-child(10)",">:nth-last-child(11)",">:nth-last-child(12)",">:nth-last-child(13)",">:nth-last-child(14)",">:nth-last-child(15)",":hover","background",":active",">:hover",">:active","font-size","align-items","justify-content","left","top","finally","executor","StoryPromise","RealStory","newPage","newPrivatePage","getNextPage","ofStory","pages","getPreviousPage","newPromiseObj","launch","isBusy","shift","index","RealCanvas","RealLoader","RealSelect","RealComtag","RealImgList","RealDivQueue","createRealDivSelect","createRealDivSearch","createRealDivSeries","RealPromise","newOne","onrejected","onfinally","_push","_throw","onfulfilled","tryHandler","handler","onerror","TypeError","pathSet","tempReg","script","replaceAll","head","src","getContext","backup","img","Image","clearBeforeDraw","ctx","useCache","srcImageMap","strN","N","longN","preloadSrc","getImageBySrc","dealWithSrc","getRealGroupToClear","ConfigToClearShape","x","y","radiusX","radiusY","shape","relative","realCanvas","initFn","fnBeforeClear","fnAfterClear","async","loaded","clearShape","clearAsync","clear","imgOrCanvas","canvas","drawImage","clearRect","closePath","clearTemp","testSrc","rejectSrc","toBlob","Blob","resizeBySrc","naturalWidth","naturalHeight","multiDrawSrcArray","bgSrc","autoOpacity","resize","srcArray","tempOpacity","applyMouseClear","nowStyle","mouseenter","mousemove","mouseleave","offsetX","offsetY","failed","j","abs","round","ceil","yPOW2","yDIVxPOW2","sqrt","suffix","startN","midLength","playMode","sizeMode","resizeAfter","size","srcArr","finished","imgW","imgH","HTMLCanvasElement","globalAlpha","opacityConfig","getElementById","toLocaleLowerCase","onloadend","fs","DocumentFs","stat","readdir","fetch","response","status","location","protocol","mode","strArgs","fileName","str","statList","testFileNameList","fileNameList","fill","resultList","limit","_configDescriptor","err","load","configurable","getArrayBufferFrom","data","ArrayBuffer","isView","buffer","arrayBuffer","realLoader","files","dataGetter","2","download","ab","Buffer","href","URL","createObjectURL","revokeObjectURL","isDownload","tempValue","children","getValueIndexs","selected","valueArray","defaultKey","defaultValue","multiple","iterator","sort","a","b","localeCompare","optionConfig","onchange","comtagClassMap","defineComtagClass","tryHTML","optionList","cssRuleObjObj","createByClassName","elementList","iter0","iter1","selfAssign","childrenList","divListClassMap","createList","defineDivListClass","getIdDict","toRealElement","getRealEmentList","cloneImgList","srcList","queueArray","tempTarget",">div:hover",">div:active","realDivQueue","list0","list1","target0","target1","queue","applyQueue","getListQueue","previousQueue","scrollTop","scrollLeft","insertAdjacentElement","scrollTo","behavior",">div",">.selected","font-weight","changeConfig","bubbles","cancelable","tempGet","tempSet","tempReact","RS","dispatchEvent","Event","REList","previousValue",">:nth-child(2)>div>div:hover","tempRealDivList","inputer","wordList","matcher","RegExp","filter","titleGetter",">div:nth-child(1)",".hidden>div:nth-child(n + 2)","getTransform"],"mappings":"AAWA,IAAI,IAAMA,EAAOC,GAASA,EAAQC,QAAQ,IAAIC,QAAUA,UAAYC,GAAMC,OAAOC,OAAOF,CAAI,CAAC,EAAEG,KAAKP,CAAI,EAA8B,CAA1B,MAAMQ,GAAGC,QAAQC,MAAMF,CAAC,CAAE,CACtI,CACA,IAAIP,QAGH,IACAU,EAAcR,QACdS,EAAU,SAASC,GAAG,OAAOA,CAAE,EAC/BC,EAAUC,WAAWD,SAAWF,EAChCI,EAAcD,WAAWC,aAAeC,KACxCC,EAAcH,WAAWG,aAAeN,EACxCO,EAAgBJ,WAAWI,eAAiBP,EAC5CQ,EAAKJ,EAAYK,IAAI,EACrBC,EAAa,CAACC,SAAU,CAAA,EAAMC,WAAY,CAAA,CAAK,EAE/CC,EAAOhB,QAAQgB,IAAIC,KAAKjB,OAAQ,EAEhCkB,EAAc,aAAcZ,WAE5Ba,EAAkE,qBAAvDC,OAAOC,UAAUC,SAASC,KAAKjB,WAAWkB,OAAO,EAU5DC,OAAOJ,UAAUK,QAAU,SAASC,GACnC,IAAIC,EAAIC,EACR,OAAOJ,OAAOK,SAASC,KAAKC,QAAQ,CAAC,GACpCL,EAAuB,UAAhB,OAAOA,EAAoB,EAAW,GAAPA,EAAY,GAAKA,EAAO,EAAI,EAAIM,KAAKC,MAAMP,CAAI,EACrF,CAACQ,EAAGP,EAAIQ,EAAGP,EAAQ,EAAE,EAAIE,KAAKT,SAAS,CAAC,EAAEe,MAAM,GAAG,EACnDC,OAAO,KAAKV,CAAG,EAAO,OAAKC,EAAMU,MAAM,EAAEZ,CAAI,EAAEa,OAAOb,EAAK,GAAG,GAC3D,KACL,EACAc,QAAQC,eAAepC,WAAWmB,OAAOJ,UAAU,UAAUR,CAAU,EAExE,IAAI8B,WAAY,KACf,IAAIC,EAQJ,SAASD,EAAUE,KAAWC,GAC7B,GAAG,CAAC,WAAY,OAAO,IAAIH,EAAUE,EAAQ,GAAGC,CAAM,EACtDf,KAAKc,QAAUpB,OAAOK,SAASe,EAAUpB,OAAOoB,CAAO,CAAC,EAAIA,EAAU,GACtEd,KAAKgB,IAAMtC,EAAYsB,KAAKiB,QAAQ/B,KAAKc,IAAI,EAAEA,KAAKc,OAAO,EAE3Dd,KAAKe,OAASA,EACdf,KAAKkB,KAAOL,EAEZb,KAAKmB,KAAOhC,EAAciC,SAASC,cAAc,KAAK,EAAI,GAC1DrB,KAAKsB,OAAS,CAAA,EAEdtB,KAAKuB,WAAaV,EAElBb,KAAKwB,KAAOX,EAEZb,KAAKyB,KAAOZ,EACZH,QAAQC,eAAeX,KAAK,MAAMlB,CAAU,EAC5C4B,QAAQC,eAAeX,KAAK,SAASlB,CAAU,EAC/C4B,QAAQC,eAAeX,KAAK,UAAUlB,CAAU,CACjD,CAKA,OAAO8B,EAAUc,OAAUvC,EAC3B,IAAIwC,QAAQC,GAAGC,iBAAiB,OAAO,SAASC,IAAeF,EAAE,EAAEG,oBAAoB,OAAOD,CAAY,CAAC,CAAC,CAAC,EADpEH,QAAQK,QAAQ,EAEzDpB,EAAUqB,eAOV,SAASnB,EAAQS,GAAY,OAAQT,EAAU,IAAIF,EAAUE,CAAO,GAAGS,WAAaA,EAAWT,CAAQ,EAEvGF,EAAUsB,iBAAkB,KAC3B,IAAM1E,EAAO2E,OAAO,EAAEC,EAAQ/D,GAAGqB,OAAOlC,IAASa,CAAC,EAAEgE,EAAU,IAAI,CAAC,EACnE,OAAO,SAAyBC,GAAS,OAAOX,QAAQY,KAAK,CAACD,EAAQ9E,EAAK,EAAEO,KAAKqE,EAAMC,CAAO,CAAE,CACjG,GAAE,EACHzB,EAAU4B,OAOV,SAAShB,EAAKV,GACb,GAAmB,YAAhB,OAAOU,EAAqB,OAAOG,QAAQc,OAAO,EACrD,IAAMjF,EAAO,IAAIoD,EAAUE,CAAO,EAClC,OAAO,IAAIa,QAAQF,IAAOjE,EAAKgE,KAAOA,EAAKhE,EAAKiE,KAAOA,EAAK,EAAE1D,KAAK,IAAIP,EAAKkF,QAAQ,CAAC,CACtF,EACA9B,EAAU+B,WAQV,SAAS,CAACC,QAAAA,EAAQC,MAAAA,EAAMC,SAAAA,EAjEJ,YAAYC,GAAO/C,KAAKgC,QAAQe,CAAK,CAAE,CAiEb,EAAI,MAAMC,GAEvD,GAAoB,YAAjB,OAD6BH,EAAZ,YAAjB,OAAOA,EAA8BD,IAAUC,GACxCA,GAAsB,MAAM,IAAII,MAAM,yEAAuE,EACvH,OAAO,IAAItB,QAAQK,IAClB,IAAMxE,EAAO,CAACsF,SAAAA,EAASd,QAAAA,CAAO,EAC9B,IAAIa,EAAMrD,KAAKoD,EAAQ,GAAGI,EAAW,IAAID,IAAQvF,EAAKsF,SAAS,GAAGC,CAAK,CAAC,CAIxE,CAJ2E,MAAMG,GAChF,IAAIL,EAAMrD,KAAKoD,EAAQ,IAAIG,IAAQvF,EAAKsF,SAAS,GAAGC,CAAK,EAAE,GAAGC,CAAU,CAExE,CAF2E,MAAMG,GAChF3F,EAAKwE,QAAQ,CAAC,IAAIiB,MAAM,wDAAwDC,GAAQE,MAAM,KAAKD,GAAQC,KAAK,EAAE,CACnH,CACD,CACD,CAAC,EAAEC,MAAMrF,GAAGC,QAAQC,MAAMF,EAAEoF,KAAK,CAAC,CACnC,EAEAxC,EAAUtB,UAAUoD,QAAU,WAAW1C,KAAKiB,QAAQ,EAAEtC,EAAcqB,KAAKgB,GAAG,CAAE,EAEhFJ,EAAUtB,UAAUvB,KAAO,SAASuF,GAAI,MAAqB,YAAd,OAAOA,GAAqBtD,KAAKe,OAAOwC,QAAQD,CAAE,EAAEtD,IAAK,EAExGY,EAAUtB,UAAUkE,eAAiB,WACpC,OAAO,IAAIC,YAAY,CAACtC,KAAMnB,KAAKmB,KAAKuC,IAAK,WAAW,EAAE,CAACC,GAAI3D,KAAKmB,KAAKwC,GAAGC,UAAW5D,KAAKmB,KAAK0C,SAAS,CAAC,CAC5G,EAEAjD,EAAUtB,UAAUwE,WAAa,SAAShD,GACzC,OAAQA,EAAUpB,OAAOK,SAASL,OAAOoB,CAAO,CAAC,EAAIpB,OAAOoB,CAAO,EAAI,MAAQd,KAAKc,UACnFnC,EAAcqB,KAAKgB,GAAG,EAAEN,QAAQC,eAAeX,KAAK,UAAU,CAAC+C,MAAOjC,CAAO,CAAC,EAC9EJ,QAAQC,eAAeX,KAAK,MAAM,CAAC+C,MAAOrE,EAAYsB,KAAKiB,QAAQ/B,KAAKc,IAAI,EAAEA,KAAKc,OAAO,CAAC,CAAC,EAE9F,EACAF,EAAUtB,UAAU2B,QAAU,WAC7B,GAAGjB,CAAAA,KAAKsB,OAAR,CACA,IAAItB,KAAKuB,aAAa,CAA+C,CAA5C,MAAMvD,GAAGgC,KAAKuB,WAAatD,QAAQC,MAAMF,CAAC,CAAE,CACrE,IAAIgC,KAAKkB,KAAOlB,KAAKe,OAAOgD,IAAI,GAAGvE,OAAOQ,KAAKA,KAAKkB,IAAI,CAA6B,CAA1B,MAAMlD,GAAGC,QAAQC,MAAMF,CAAC,CAAE,CACrF,IAAOgC,KAAKwB,OAAO,IAAGxB,KAAKyB,OAAO,EAAEzB,KAAKwB,KAAOxB,KAAKyB,KAAO,KAG5D,CAHmE,MAAMuC,GACxE,IAAIhE,KAAKwB,OAAO,CAAyD,CAAtD,MAAMyC,GAAID,EAAKC,EAAGjE,KAAKwB,KAAO,KAAKxB,KAAKsB,OAAS,CAAA,CAAK,CACzEtB,KAAKsB,SAAWtB,KAAKyB,KAAO,MAAMzB,KAAKsB,OAAS,CAAA,EAAMrD,QAAQC,MAAM8F,CAAE,CACvE,CANsB,CAOvB,EAAEpD,CACF,GAAE,EACCsD,eAAiBA,SAOpBhG,aAAaiG,GAAS,MAAM,IAAIlB,MAAMjD,KAAKoE,KAAK,MAAMD,CAAO,CAAE,CAE/DE,YAAc,IAAIC,IAClB1F,UAAYH,KAAKI,IAAI,EACrB0F,mBAAqB,CAAA,EACrB1F,WAAa8C,QAAQK,QAAQ,EAC7BwC,iBAAmB,IAAI5D,UAYvB6D,mBACCF,YAEAG,SAAW,IAEV,QAEA,OAEDC,MAEAhB,GACAZ,KACD,EAKA6B,cAAcjB,GAAI,OAAO3D,KAAKqE,KAAKQ,IAAIlB,CAAE,CAAE,CAC3CmB,UAAUC,EAAOC,GAAQ,OAAO3F,OAAOyF,GAAGC,EAAOC,CAAM,GAAKD,IAAWC,CAAO,CAM9EC,eAAe3B,EAAGV,KAAWsC,GAAU,OAAOhB,SAASrF,IAAId,KAAKuF,EAAGpE,KAAK0D,EAAQ,GAAGsC,CAAQ,CAAC,CAAE,CAC9FC,uBAEC,IADA,IAAM3H,EAAO6B,OAAO+F,OAAO,IAAI,EAAEC,EAAQC,MAAMC,KAAKC,SAAS,EAAEC,KAAK,EAAEC,EAASL,EAAMK,OAC7EC,EAAI,EAAEA,EAAID,EAAOC,CAAC,GAAInI,EAAKM,OAAOuH,EAAMM,EAAE,GAAKN,EAAMM,GAC7D,OAAOnI,CACR,CAEAoI,yBAA2BC,GAM1B,CAAChB,KAAOiB,IAAc,IAAI5B,SAAS,CAACW,IAAAA,EAAIgB,IAAAA,CAAG,EAAE,CAAA,EAAK,GAAGC,CAAW,GAC/D,IAAI,CAAA,CAAK,EAKXC,aAAaC,GAAU,IAAI,IAAMxI,KAAQwC,KAAKqE,KAAK4B,QAAQ,EAAG,GAAGD,IAAaxI,EAAK,GAAI,OAAOwI,EAASrC,KAAOnG,EAAK,EAAG,CAKtH0I,qBAAuB1I,GAAM,SAAS2I,GAAQ,OAAO,IAAIjC,SAAS7E,OAAO+G,OAAO,GAAGD,EAAO3I,CAAI,CAAC,CAAE,GAAG,CAAC6I,QAAS,CAAA,CAAK,CAAC,EAOpHC,gBAAgBhD,EAAGiD,EAAQ3D,KAAWsC,GACrC,IAAM1H,EAAO,IAAImE,QAAQC,GAAG5B,KAAKwE,UAAUzG,KAAK,IAAI6D,EAAE0B,EAAGkD,MAAM5D,EAAQsC,CAAQ,CAAC,CAAC,CAAC,EAClF,OAAOqB,IAAYvG,KAAKnB,IAAMrB,EAAK6F,MAAMjF,CAAO,GAAGZ,CACpD,CAKAiJ,mBAAmB5B,KAAOK,GACnB1H,EAAO,IAAI0G,SAAS,CAACW,IAAAA,CAAG,CAAC,EAE/B,OADArH,EAAKiH,MAAM1B,MAAQmC,EACZ1H,CACR,CAEAkJ,oBAAsB1G,KAAKyG,YAAYvH,KAAK,KAAK,SAAS1B,EAAO,GAChE,GAAI8H,CAAAA,MAAMqB,QAAQ3G,KAAKyE,MAAM1B,KAAK,EAAG,MAAO,EAAE/C,KAAKyE,MAAM1B,iBAAiBmB,SAAWlE,KAAKyE,MAAM1B,MAAc/C,KAAKyE,OAAb1B,MACjG,IAAI,IAAM4C,KAAK3F,KAAKyE,MAAM1B,MAAOvF,GAAO,EAAEmI,aAAazB,SAAWyB,EAAE5C,MAAQ4C,GACjF,OAAOnI,CACR,CAAC,EAEDoJ,oBAAsB5G,KAAKyG,YAAYvH,KAAK,KAAK,WAChD,GAAGoG,MAAMqB,QAAQ3G,KAAKyE,MAAM1B,KAAK,EAAE,CAElC,IADA,IAAMvF,EAAOwC,KAAKyE,MAAM1B,MAAM8D,OAAO,EAC7BlB,EAAInI,EAAKkI,OAAa,EAANC,CAAE,IAAWnI,EAAKmI,aAAczB,WAAU1G,EAAKmI,GAAKnI,EAAKmI,GAAG5C,OACpF,OAAOvF,EAAKsJ,KAAK,EAAE,CACpB,CAAM,OAAOhJ,QAAOkC,KAAKyE,MAAM1B,iBAAiBmB,SAAWlE,KAAKyE,MAAM1B,MAAc/C,KAAKyE,OAAb1B,KAAwB,CACrG,CAAC,EAODgE,kBAAkBzE,EAAQQ,GACzB,IAAMlE,EAAKJ,EAAYK,IAAI,EAAEmI,EAAS,CAACD,KAAM,KAAK7I,MAAO,KAAK6E,MAAO,IAAK,EAC1E,IAAIiE,EAAOjE,MAAQkE,MAAyB,YAAnB,OAAO3E,EAAyBA,EAAQ,EAAIA,EAAmD,CAAzC,MAAMtE,GAAGC,QAAQC,MAAM8I,EAAO9I,MAAQF,CAAC,CAAE,CAExH,GADAgJ,EAAOD,KAAOvI,EAAYK,IAAI,EAAID,EACX,YAApB,OAAOkE,EAAyB,IAAIA,EAASkE,EAAOD,KAAKC,EAAO9I,MAAM8I,EAAOjE,KAAK,CAA6B,CAA1B,MAAM/E,GAAGC,QAAQC,MAAMF,CAAC,CAAE,CAClH,OAAOgJ,CACR,CAEAE,eAAiB,SAASA,EAAQC,GACjC,GAAG9H,OAAO8H,CAAG,IAAMA,EAIb,OAAO,WAAa9H,OAAO8H,CAAG,EAAIA,EAHvC,IACUxB,EADJyB,EAAS9B,MAAMqB,QAAQQ,CAAG,EAAI,GAAK9H,OAAO+F,OAAO,IAAI,EAC3D,IAAUO,KAAKtG,OAAOgI,KAAKF,CAAG,EAAG,KAAOxB,EAAE2B,WAAW,CAAC,IAAMF,EAAOzB,GAAKuB,EAAQC,EAAIxB,EAAE,GACtF,OAAOyB,CAET,EAMAG,cAAcvB,EAASrB,EAAQ,CAAA,EAAK6C,EAAS,CAAA,EAAKC,EAAS,CAAA,GAAM,IAGhE,IAFA,IAAI1E,EACEvF,EAAOwC,KAAK0H,uBAAuB1B,CAAQ,EAC3CxI,EAAKkI,QAAO,CACjB,IAAMiC,EAAWnK,EAAKuG,IAAI,EAAE6D,QAAQ,EACpC,GAAID,CAAAA,EAASjC,OAAQ,OAAO1F,KAAK6H,QAAQ7B,EAASjD,MAAM4B,EAAM6C,EAAOC,CAAM,EAE1E,IADA1E,EAAQ/C,KAAKyE,MAAM1B,MACK,EAAlB4E,EAASjC,QAAY3C,EAAQA,EAAM4E,EAAS5D,IAAI,GACtDiC,EAASjD,QAAUA,EAAM4E,EAAS,MAAQ5E,EAAM4E,EAAS,IAAM3B,EAASjD,MAE1E,CACA,OAAO4B,GAAS3E,KAAK2E,QAAQ8C,CAAM,EAAED,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,CAIpE,CAHC,MAAMzJ,GACN,GAAGgC,gBAAgBkE,SAAU,MAAMlG,EACnCgC,KAAK9B,MAAM,+CAA+C8B,MAAMoE,KAAK,OAAOpG,EAAEmG,OAAO,CACtF,CAAC,CACD2D,cACAC,WAAW,OAAO/H,KAAKyE,MAAM1B,KAAM,CACnC9D,OAAOkF,GAASlG,QAAQgB,IAAIe,KAAK,IAAI,GAAGmE,CAAO,CAAE,CACjD6D,OAAO,OAAO9D,SAASe,QAAQjF,KAAKiI,UAAUjI,IAAI,CAAE,CAQpD9B,MAAMiG,GAAS,MAAM,IAAIlB,MAAMjD,KAAK,UAAUlC,OAAOqG,CAAO,EAAE,OAAO,CAAE,CAKvE+D,SAASnF,GAAO,OAAOA,IAAU/C,KAAKyE,MAAM1B,QAAU/C,KAAKyE,MAAM1B,MAAQA,EAAM,CAAA,EAAM,CACrFoF,gBAAgB,KAAMnI,KAAKyE,MAAMC,SAASgB,QAAQ1F,KAAKyE,MAAMC,SAASX,IAAI,EAAEsC,QAAU,CAAA,EAAO,OAAOrG,IAAK,CACzGoI,UAAUZ,EAAS,CAAA,EAAKC,GACvB,IAAM9C,EAAQ3E,KAAKyE,MAAME,MACzB,MAAOA,CAAAA,CAAAA,IAASA,EAAMnF,KAAKQ,IAAI,EAAEwH,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,EAChE,EACCtF,OAAOkG,aAAaC,GAAM,IAC1B,MAAO,WAAaA,EAAO5I,OAAOM,KAAK+C,KAAK,EAAI,WAAW/C,KAAKuI,YAAYnE,KAAK,MAAMpE,KAAK2D,GAAG6E,YAAY,IAC1F,CAAjB,MAAM,OAAOC,GAAI,CAAC,CAKnBR,kBAEC,IADA,IAAItC,EAAI,EACFA,EAAI3F,KAAK0I,YAAYhD,QAAQuB,MAAMtF,QAAQgH,WAAW3I,KAAK0I,YAAY/C,CAAC,GAAG,EAGjF,OAFAA,EAAI3F,KAAK0I,YACT1I,KAAK0I,YAAc,GACZ/C,CACR,CAQA6B,OAAOC,EAAO7E,EAAQgG,GAErB,IAAI,IAAMjF,KAAM3D,KAAK8F,YAAanE,QAAQK,QAAQkC,SAASU,OAAOjB,CAAE,CAAC,EACrE5F,KAAKiI,GAAU,CAACA,GAAayB,GAAUzH,OAASgG,GAAaA,EAASoC,YAAY,CAAC,CACpF,CAQAP,QAAQ9E,EAAM4B,EAAM6C,EAAOC,GAAQ,IAClC,IAAIjK,EACJ,OAAQwC,KAAKyE,MAAMoB,IAAIrG,KACtBQ,KACAA,KAAKyE,MAAMF,cAAgB/G,EAAOwC,KAAK6I,uBAAuB9F,CAAK,GAAG2C,OACtE1F,KAAK8I,wBAAwBtL,EAAKuF,CAAK,EAAIA,CAC5C,GAAK,CAAA,KAAU4B,GAAS3E,KAAK2E,QAAQ,EAAE6C,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,EAClC,CAAnC,MAAMzJ,GAAG,OAAOC,QAAQC,MAAMF,CAAC,EAAEA,CAAE,CAAC,CAMrC0J,uBAAuB1B,GAEtB,IADA,IAC4B+C,EADtBrE,EAAW1E,KAAKyE,MAAMC,SAASlH,EAAO,GACpCmI,EAAIjB,EAASgB,OAAkB,EAANC,CAAE,IAAyCK,KAAjC+C,EAAOrE,EAASiB,GAAGzE,KAAK8H,OAAO,GAAoBC,KAAK,EAAElG,OAASvF,EAAK0L,KAAK,GAAGH,CAAI,EAC/H,OAAOvL,CACR,CAOA2L,YAAY1B,EAAO7E,EAAQgG,EAAQ,GACjChG,EAA2BgG,CAAK,GAAtBhG,EAAU5C,MACpB4C,EAAQ8F,YAAYE,KAAWhG,EAAQ8F,YAAYE,GAAS,KAAKM,KAAK,IAAIvH,QAAQC,IAClF,IAAI,IAAI+B,KAAM3D,KAAK8F,YAChB2B,GAAU9D,IAAO3D,KAAK2D,IAAO,EAACA,EAAKO,SAASU,OAAOjB,CAAE,KAAOA,EAAGgB,QAAQ,EAAEhB,EAAG6D,OAAOC,EAAO7E,EAAQgG,CAAK,GAE1GhH,EAAE,CACH,CAAC,CAAC,CACH,CAKAwH,UAAUtD,GAGT,IAFA,IAAInC,EAAKmC,EAAYA,EAAYJ,OAAS,GACpClI,EAAO0G,SAASU,OAAOjB,GAAIA,IAAMA,CAAE,EACnCmC,EAAYJ,QAEH,UAAd,OADA/B,EAAKmC,EAAY/B,IAAI,KACMJ,aAAcO,SAAWP,EAAKA,EAAGA,GAAK3D,KAAK9B,MACrE,mBAAmB4H,EAAYJ,OAAO,sBACvC,GACAxB,SAASU,OAAOjB,CAAE,GAAK,CAAC3D,KAAK8F,YAAYuD,SAAS1F,CAAE,GAAK3D,KAAK8F,YAAYoD,KAAKvF,CAAE,EAElF,OAAOnG,CACR,CAKA8L,YAAYC,GACX,GAAG,CAACA,EAAc7D,OAAQ,MAAO,CAAA,EACjC,IAAMlI,EAAOwC,KAAK8F,YAAYe,OAAO,EACjClB,EAAI4D,EAAc7D,OAEtB,IADA1F,KAAK8F,YAAY0D,OAAO,CAAC,EACb,EAAN7D,CAAE,IAAmC,UAA5B,OAAO4D,EAAc5D,KAAoB4D,EAAc5D,GAAK4D,EAAc5D,IAAIhC,IAC7F,IAAIgC,EAAInI,EAAKkI,OAAa,EAANC,CAAE,IAAQ4D,EAAcF,SAAS7L,EAAKmI,EAAE,GAAK3F,KAAK8F,YAAYoD,KAAK1L,EAAKmI,EAAE,EAC9F,OAAOnI,EAAKkI,SAAW1F,KAAK8F,YAAYJ,MACzC,CAMAmD,uBAAuB9F,EAAM0G,EAAO,EAAE9B,EAAW,GAAGiB,EAAQ,GAE3D,IAAcjD,EAAE0B,EAAZ7J,EAAO,GACX,GAAGuF,aAAiBmB,SAAiB1G,EAAK0L,MAAMvB,EAASpE,QAAQR,CAAK,EAAE4E,EAAS,OAC5E,GAAGiB,EAAQa,GAAQpK,OAAO0D,CAAK,IAAMA,EAAO,IAAI4C,GAAK0B,EAAO3G,QAAQgJ,QAAQ3G,CAAK,GAAG2C,OAAa,EAANC,CAAE,IACjGnI,EAAOA,EAAKqJ,OAAO7G,KAAK6I,uBAAuB9F,EAAMsE,EAAK1B,IAAI8D,EAAK,CAAC,GAAG9B,EAASN,EAAK1B,IAAIiD,EAAQ,CAAC,CAAC,EAEpG,OAAOpL,CACR,CAKAsL,wBAAwBa,EAAYC,GACnC,IACI7G,EAAM4C,EAAEkE,EADNrM,EAAOwC,KAAKmI,cAAc,EAAE1D,MAAMC,SAASoF,EAAO,GAGxD,IADAH,EAAcA,EAAY9C,OAAO,EAC3B8C,EAAYjE,QAAO,CAExB,IAAMiC,EAAWgC,EAAY5F,IAAI,EAAEiC,EAAW2B,EAAS,GAAGoC,EAAMpC,EAASnH,MAAM,CAAC,EAChF,GAAIuJ,EAAIrE,OAAwC,CAC/C,IAAI3C,EAAQ6G,EAAWjE,EAAI,EAAEkE,EAAME,EAAIrE,OAAS,EAAEC,EAAIkE,EAAIlE,CAAC,GAAI5C,EAAQA,EAAMW,KAC7EX,EAAMgH,EAAIpE,IAAMK,EAASjD,KAC1B,MAHgB6G,EAAa5D,EAASjD,OAItC4C,EAAImE,EAAKE,QAAQhE,CAAQ,GACrB,GAAK8D,EAAKZ,KAAKlD,CAAQ,EAAExI,EAAK0L,KAAKlD,EAASoD,OAC/C,IAAIlF,SAAS,CAAChD,KAAM,CAAC8E,EAAS+D,GAAKpF,MAAO3E,KAAKuI,YAAYhB,OAAOrI,KAAKc,KAAKgG,CAAQ,CAAC,CAAC,CACvF,CAAC,GAAKxI,EAAKmI,GAAGzE,KAAKgI,KAAKa,CAAG,CAC5B,CACA,OAAOH,CACR,CAEAjG,SAAS,OAAO3D,KAAKyE,MAAMd,EAAG,CAC9Be,eAAe,OAAO1E,KAAKyE,MAAMC,QAAS,CAC1C3B,YAAY,OAAO/C,KAAK6E,IAAI,CAAE,CAC9B9B,UAAUA,GAAO/C,KAAK6H,QAAQ9E,EAAM,CAAA,EAAK,CAAA,CAAI,CAAE,CAC/C8C,UAAU,OAAO7F,KAAK6H,OAAQ,CAC9BhC,QAAQA,GAAK7F,KAAKyE,MAAMoB,IAAqB,YAAf,OAAOA,EAAqBA,EAAM7F,KAAKkI,QAAS,CAC9ErD,UAAU,OAAO7E,KAAKyE,MAAMI,GAAI,CAChCA,QAAQA,GAAK7E,KAAKyE,MAAMI,IAAqB,YAAf,OAAOA,EAAqBA,EAAM7E,KAAK+H,QAAS,CAC9EpD,YAAY,OAAO3E,KAAKyE,MAAME,KAAM,CACpCA,UAAUA,GAAO3E,KAAKyE,MAAME,MAAyB,YAAjB,OAAOA,EAAuBA,EAAQA,EAAQ3E,KAAK8H,WAAa,IAAK,CACzGzB,cAAc,OAAOnC,SAASG,KAAK4F,IAAIjK,KAAK2D,EAAE,CAAE,CAChD0C,YAAYA,GAASA,EAAUnC,SAASG,KAAKwB,IAAI7F,KAAK2D,GAAG3D,IAAI,EAAIkE,SAASG,KAAK6F,OAAOlK,KAAK2D,EAAE,CAAE,CAC/FY,kBAAkB,OAAOvE,KAAKyE,MAAMF,WAAY,CAChDA,gBAAgBA,GACfA,GAAevE,KAAKyE,MAAMF,YAAc4F,QAAQ5F,CAAW,GAAK,SAAW,YAE3E,IADA,IAAIoB,EAAI3F,KAAKyE,MAAMC,SAASgB,OAChB,EAANC,CAAE,IAAO3F,KAAKyE,MAAMC,SAASH,GAAa,CACjD,CAEAuB,YAAc,GAEd4C,YAAc,GAMdH,YAAYpC,EAAO5B,EAAcL,SAASK,eAAeuB,GACxDK,EAAS9G,OAAO8G,CAAM,EAEtBnG,KAAKyE,MAAQ,IAAIzE,KAAKuI,YAAY9D,MAClCzE,KAAKyE,MAAMd,GAAKxB,OAAOrE,OAAOqI,EAAOxC,IAAMwC,EAAOjF,MAAMyC,IAAM,EAAE,CAAC,EACjEjD,QAAQC,eAAeX,KAAK,cAAc,CAAChB,WAAY,CAAA,CAAK,CAAC,EAC7D0B,QAAQC,eAAeX,KAAK,QAAQlB,CAAU,EAC9CkB,KAAKqG,QAAUF,EAAOE,SAAW,CAAA,EACjCrG,KAAKkB,KAAOiF,EAAOjF,KACnBlB,KAAK6E,IAAMsB,EAAOtB,IAClB7E,KAAK6F,IAAMM,EAAON,IAClB7F,KAAK2E,MAAQwB,EAAOxB,MACpB3E,KAAKoJ,OAAO,GAAGtD,CAAW,EAC1B9F,KAAKyE,MAAM1B,MAAQoD,EAAOvC,UAC1B5D,KAAKuE,YAAcA,EAChB,UAAW4B,IAAQnG,KAAK+C,MAAQoD,EAAOpD,MAC3C,CACD,EACIqH,gBAEEA,kBAAkBlG,SACvBmG,+BAA2CC,SAC1CC,WAAa,GACb/D,QAAQ,OAAOxG,KAAKmB,IAAK,CACzBuI,UAAU,OAAOhJ,QAAQgJ,QAAQ1J,IAAI,CAAE,CACvCiK,IAAIO,EAAO9G,GAAK,OAAOhD,QAAQuJ,IAAIjK,KAAK0D,CAAG,CAAE,CAC7C+G,YAAY,OAAOzK,KAAK0K,UAAUC,YAAY,CAAE,CAChDC,eAAe,OAAOlK,QAAQkK,aAAa5K,IAAI,CAAE,EAChD,OAAOwK,EAAO9G,GAAK,OAAO1D,KAAK0K,UAAU7F,IAAInB,CAAG,CAAE,CACnDmH,oBAAoB,OAAOnK,QAAQmK,kBAAkB7K,IAAI,CAAE,CAC3D8K,eAAeN,EAAO9G,GAAK,OAAOhD,QAAQoK,eAAe9K,KAAKmB,KAAKuC,CAAG,CAAE,CACxEqH,eAAeP,EAAOlL,GAAW,OAAOoB,QAAQqK,eAAe/K,KAAKV,CAAS,CAAE,EAC9E,OAAOkL,EAAO9G,EAAIX,GAAO,OAAO/C,KAAK0K,UAAU7E,IAAIxG,OAAO+F,OAAO,KAAK,EAAE1B,GAAK,CAACX,MAAAA,CAAK,CAAC,CAAC,CAAC,CAAE,CACzFpC,eAAe6J,EAAO9G,EAAIsH,GAAY,OAAOtK,QAAQC,eAAeX,KAAKmB,KAAKuC,EAAIsH,CAAU,CAAE,CAM9FzC,YAAYpH,EAAKuJ,GAChBO,MAAM,EAAE,EACRjL,KAAKmB,KAAOA,EACZnB,KAAK0K,UAAYA,CAClB,CACD,EAEAQ,gBAAkB,IAAI5G,IACtB6G,SAAW,IAAI,CAAA,EAUfC,uBAAyB,SAASA,EAAgBjE,EAAIxD,EAAK,GAAGY,EAAY8G,GAEzE,GAAGhM,OAAO8H,CAAG,IAAMA,EAAK,OAAOkE,EAAS9G,EAAcL,SAASgC,aAAa,CAACvC,GAAAA,EAAGC,UAAWuD,CAAG,CAAC,EAAIA,EAAM,IAAIiD,UAC7G,IAAM3F,EAAQ/D,QAAQ4K,eAAenE,CAAG,EACxC,GAAG1C,GAASA,IAAUpF,OAAOC,UAAW,OAAO+L,EAAS9G,EACxDL,SAASgC,aAAa,CAACvC,GAAAA,EAAGC,UAAWuD,CAAG,CAAC,EAAIA,EAAM,IAAIiD,UAAU,CAACjJ,KAAMgG,CAAG,CAAC,EAE5E,IADA,IAAM3J,EAAO6B,OAAO+F,OAAO,IAAI,EAAEmG,EAAW7K,QAAQgJ,QAAQvC,CAAG,EAAEzB,EAAS6F,EAAS7F,OAC/EC,EAAI,EAAEA,EAAID,EAAOC,CAAC,GAAInI,EAAK+N,EAAS5F,IAAMyF,EAAgBjE,EAAIoE,EAAS5F,IAAI4F,EAAS5F,GAAGpB,EAAY,CAAA,CAAI,EAC3G,OAAO,IAAI6F,UAAU,CAACjJ,KAAM3D,CAAI,CAAC,CAClC,EACA6J,KAAKmE,GAAK,OAAOA,EAAM9K,QAAQgJ,QAAQ1J,KAAKyL,MAAM,CAAC,EAAIpM,OAAOgI,KAAKrH,KAAKyL,MAAM,CAAC,CAAE,CAOjF5D,QAAQ9E,EAAMyE,EAAOC,GAAQ,IAC5B,OAAOzH,KAAKkI,SAASnF,CAAK,IAAMyE,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,EAC3B,CAAnC,MAAMzJ,GAAG,OAAOC,QAAQC,MAAMF,CAAC,EAAEA,CAAE,CAAC,CAMrC0N,kBAAkBC,EAAUC,GAC3B,IAGIpO,EAHAoO,IACmB,YAApB,OAAOA,GAAyB5L,KAAK9B,MAAM,+BAA+B,EAC7EyN,EAAAA,GAA0BvB,UAAUe,EAEpC7F,MAAMqB,QAAQnJ,EAAOwC,KAAK6L,YAAYhH,IAAI8G,CAAS,CAAC,GAAK3L,KAAK6L,YAAYhG,IAAI8F,EAAUnO,EAAO,EAAE,EACjGA,EAAK0L,KAAK0C,CAAQ,EACnB,CAKA9D,WAAWyD,EAAWnB,UAAUC,UAAUE,KACzCjF,MAAMqB,QAAQ4E,CAAQ,GAAKvL,KAAK9B,MAAM,4BAA4B,EAClE8B,KAAK6L,YAAYC,QAAQ,CAACC,EAAcJ,KAAa,IACpD,GAAwB,YAArB,OAAOA,EAA2BA,EAAUJ,CAAQ,EAAoC,CAAC,IAAjCA,EAASvB,QAAQ2B,CAAS,EACpF,IAAI,IAAIK,EAAID,EAAcrG,OAAOC,EAAI,EAAEA,EAAIqG,EAAErG,CAAC,GAAI,IAAIoG,EAAcpG,GAAG,CAAqD,CAAlD,MAAM3H,GAAGgC,KAAKf,IAAI,cAAc8M,EAAcpG,EAAE,CAAE,CAElF,CAA3C,MAAM3H,GAAGgC,KAAKf,IAAI,cAAc0M,CAAS,CAAE,CAAC,CAAC,CAC/C,CACAM,oBAGC,IAFA,IAAM9K,EAAOnB,KAAKyL,MAAM,EAAEpE,EAAO3G,QAAQgJ,QAAQvI,CAAI,EACjDwE,EAAI0B,EAAK3B,OACD,EAANC,CAAE,IAAOjF,QAAQuJ,IAAIvJ,QAAQwL,yBAAyB/K,EAAKkG,EAAK1B,EAAE,EAAE,KAAK,GAAKxE,EAAKkG,EAAK1B,cAAezB,WAC5G/C,EAAKkG,EAAK1B,IAAMzB,SAASgC,aAAa,CAACtC,UAAWzC,EAAKkG,EAAK1B,GAAG,CAAC,GACjE,OAAO3F,IACR,CAMA2K,YAAYwB,GAGX,IAFA,IAAMhL,EAAOnB,KAAKyL,MAAM,EAAEF,EAAW7K,QAAQgJ,QAAQvI,CAAI,EAAEiL,EAA4B,YAApB,OAAOD,EAAwB3O,EAAO6B,OAAO+F,OAAO,IAAI,EACvHO,EAAI4F,EAAS7F,OACL,EAANC,CAAE,KAAUyG,GAASD,EAASZ,EAAS5F,EAAE,IAAGjF,QAClDmF,IAAIrI,EAAK+N,EAAS5F,GAAGxE,EAAKoK,EAAS5F,cAAezB,SAAW/C,EAAKoK,EAAS5F,IAAI5C,MAAQ5B,EAAKoK,EAAS5F,GAAG,EACxG,OAAOnI,CACR,CAKA0K,SAASf,GACR,GAAG9H,OAAO8H,CAAG,IAAMA,EAAK,MAAO,CAAA,EAC/B,IACUzD,EADJvC,EAAOnB,KAAKyL,MAAM,EAA0CjO,EAAO,GACzE,IAAUkG,KAD2BhD,QAAQgJ,QAAQrK,OAAO8H,CAAG,CAAC,EACrCA,EAAIzD,aAAgBQ,UAAY/C,EAAKuC,GAAOyD,EAAIzD,GAAKlG,EAAK0L,KAAKxF,CAAG,GAC7FvC,EAAKuC,aAAgBQ,SAAW/C,EAAKuC,GAAKmC,IAAIsB,EAAIzD,GAAK,CAAA,EAAK,CAAA,EAAK,CAAA,CAAI,GAAKlG,EAAK0L,KAAKxF,CAAG,EACvFyD,EAAIzD,KAASvC,EAAKuC,KAASvC,EAAKuC,GAAOyD,EAAIzD,GAAKlG,EAAK0L,KAAKxF,CAAG,GAE7D,GADA1D,KAAK6L,YAAYhH,IAAIuF,UAAUe,CAAC,EAAEW,QAAQF,GAAUA,EAAS,CAAC,EAC3DpO,EAAKkI,OAAQ,IAAI1F,KAAK2E,QAAQnH,CAAI,CAA+B,CAA5B,MAAMQ,GAAGgC,KAAKf,IAAIjB,GAAGoF,KAAK,CAAE,MAEnE,IADA,IAAM2I,EAAgB/L,KAAK6L,YAAYhH,IAAIuF,UAAUe,CAAC,EAAEa,EAAID,EAAcrG,OAClEC,EAAI,EAAEA,EAAIqG,EAAErG,CAAC,GAAI,IAAIoG,EAAcpG,GAAG,CAAqD,CAAlD,MAAM3H,GAAGgC,KAAKf,IAAI,cAAc8M,EAAcpG,EAAE,CAAE,CAEpG,OAAOwE,QAAQ3M,EAAKkI,MAAM,CAC3B,CAKAqC,SAASsE,GAER,GAAG,CAAC7G,UAAUE,OAAQ,OAAO1F,KAAK2K,YAAY,EAC9C,GAAGtL,OAAOgN,CAAW,IAAMA,EAAa,OAAQ7O,EAAOwC,KAAKyL,MAAM,EAAEY,cAA6BnI,SAAW1G,EAAKuF,MAAQvF,EAKzH,IAJA,IAAM2D,EAAOnB,KAAKyL,MAAM,EAAEF,EAAW7K,QAAQgJ,QAAQrK,OAAOgN,CAAW,CAAC,EAExE7O,EAAO6B,OAAO+F,OAAO,IAAI,EACrBO,EAAI4F,EAAS7F,OACL,EAANC,CAAE,IAAOjF,QAAQmF,IAAIrI,EAAK+N,EAAS5F,GAAGxE,EAAKoK,EAAS5F,cAAezB,SAAW/C,EAAKoK,EAAS5F,IAAI5C,MAAQ5B,EAAKoK,EAAS5F,GAAG,EAC/H,OAAOnI,CACR,CAEAiO,YAAY,OAAOzL,KAAKyE,MAAM1B,KAAM,CACpC8C,UAAU,OAAO7F,KAAK6H,OAAQ,CAC9BhC,QAAQA,IAERhB,UAAU,OAAO7E,KAAK+H,QAAS,CAC/BlD,QAAQA,IACRF,YAAY,OAAO3E,KAAK8H,UAAW,CACnCnD,UAAUA,IACVJ,kBAAkB,MAAO,CAAA,CAAM,CAC/BA,gBAAgBA,GAAaA,GAAevE,KAAKf,IAAI,0BAA0B,CAAE,CAEjF4M,YAAc,IAAIvH,IAAI,CAAC,CAAC8F,UAAUe,EAAE,IAAI,EAKxC5C,YAAY,CAAC5E,GAAAA,EAAGzC,KAAAA,EAAKC,KAAAA,EAAO9B,OAAO+F,OAAO,IAAI,CAAC,EAAI,IAClD,IAAI5H,EACJ,IAAIA,EAAO4M,UAAUc,SAASrG,IAAI1D,CAAI,aAAciJ,UAAW,OAAOnM,QAAQgB,IAAI,gCAAgCkC,EAAK,UAAU,EAAE3D,EACnIyN,MAAM,CAACtH,GAAAA,EAAGzC,KAAAA,CAAI,CAAC,EACZ7B,OAAO8B,CAAI,IAAMA,GAAMnB,KAAK9B,MAAM,4BAA4B,EACjEwC,QAAQC,eAAeX,KAAK,cAAclB,CAAU,EACpDtB,EAAO,IAAI4M,UAAUC,UAAUlJ,EAAKnB,IAAI,EACxCA,KAAKyE,MAAM1B,MAAQ,IAAIuJ,MAAM9O,EAAKA,CAAI,EACtC4M,UAAUc,SAASrF,IAAI1E,EAAKnB,IAAI,CACjC,CACD,EACIuM,iBAAmBA,mBAAmBrI,SAEzCO,2BAAwCP,SAASO,MAEhDtD,KAEAqL,UAEAC,SACD,EAKAC,mBAAmBC,GAClB,IAAMnP,EAAO,GACb,GAAG6B,OAAOsN,CAAO,IAAMA,EACvB,IAAI,IAAMC,KAAcL,WAAWlI,KAAK2E,OAAO,EAAM2D,IAAYC,EAAWzL,MAAM3D,EAAK0L,KAAK0D,CAAU,EACtG,OAAOpP,CACR,CAMA+J,cAAcvB,EAASrB,EAAQ,CAAA,EAAK6C,EAAS,CAAA,EAAKC,EAAS,CAAA,GAAM,IAGhE,IAFA,IAAI1E,EACEvF,EAAOwC,KAAK0H,uBAAuB1B,CAAQ,EAC3CxI,EAAKkI,QAAO,CACjB,IAAMiC,EAAWnK,EAAKuG,IAAI,EAAE6D,QAAQ,EACpC,GAAID,CAAAA,EAASjC,OAAQ,OAAO1F,KAAK6H,QAAQ7B,EAASjD,MAAM4B,EAAM6C,EAAOC,CAAM,EAE1E,IADA1E,EAAQ/C,KAAKyE,MAAM1B,MACK,EAAlB4E,EAASjC,QAAY3C,EAAQA,EAAM4E,EAAS5D,IAAI,GACtDiC,EAASjD,QAAUA,EAAM4E,EAAS,MAAQ5E,EAAM4E,EAAS,IAAM3B,EAASjD,MAE1E,CACA,OAAO/C,KAAK6M,IAAI,EAAElI,GAAS3E,KAAK2E,QAAQ8C,CAAM,EAAED,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,CAI/E,CAHC,MAAMzJ,GACN,GAAGgC,gBAAgBuM,WAAY,MAAMvO,EACrCgC,KAAK9B,MAAM,+CAA+C8B,MAAMoE,KAAK,OAAOpG,EAAEmG,OAAO,CACtF,CAAC,CAMD2I,eAAe/J,GAAO,OAAOA,CAAM,CACnC8J,MAAM,OAAO7M,KAAKmB,KAAKnB,KAAK0D,KAAO1D,KAAKyM,UAAUzM,KAAKyE,MAAM1B,KAAK,EAAE/C,IAAK,CACzE+M,iBAAiB,OAAO/M,KAAKyE,MAAM+H,WAA6C,EAA/BxM,KAAKyE,MAAMtD,KAAK6L,UAAY,GAAS,CAEtFC,eAAe,OAAOjN,KAAKyE,MAAM+H,YAAcxM,KAAKyE,MAAMtD,KAAK+L,UAAUC,IAAI,GAAG3H,SAAS,EAAE,CAAA,EAAM,CAEjG4H,gBAAgBJ,GAAW,OAAOhN,KAAKyE,MAAM+H,WAAaxM,KAAKyE,MAAMtD,KAAK+L,UAAUG,OAAOL,CAAS,CAAE,CAEtGM,kBAAkB,OAAOtN,KAAKyE,MAAM+H,YAAcxM,KAAKyE,MAAMtD,KAAK+L,UAAUK,OAAO,GAAG/H,SAAS,EAAE,CAAA,EAAM,CACvGgI,iBAEC,IADA,IAAI7H,EAAI,EAAEnI,EAAOwC,KAAKyE,MAAMtD,KACtB3D,EAAOA,EAAKiQ,wBAAwB9H,CAAC,GAC3C,OAAOA,CACR,CAQAkC,QAAQ9E,EAAM4B,EAAM6C,EAAOC,GAAQ,IAClC,IAAIjK,EACJ,OAAQwC,KAAKyE,MAAMoB,IAAIrG,KACtBQ,KACAA,KAAKuE,cAAgB/G,EAAOwC,KAAK6I,uBAAuB9F,CAAK,GAAG2C,OAChE1F,KAAK8I,wBAAwBtL,EAAKuF,CAAK,EAAIA,CAC5C,GAAK,CAAA,KAAU/C,KAAK6M,IAAI,EAAElI,GAAS3E,KAAK2E,QAAQ,EAAE6C,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,EAC7C,CAAnC,MAAMzJ,GAAG,OAAOC,QAAQC,MAAMF,CAAC,EAAEA,CAAE,CAAE,CAMtC0P,SAASC,EAAaC,GAChB5N,KAAKyE,MAAMtD,gBAAgB7C,GAAU0B,KAAK9B,MAAM,wBAAwB,EAC7E,IACIV,EAAOmQ,EACX,GAA2B,UAAxB,OAAOA,EAA0B,CACnC,MAAMnQ,EAAOA,GAAMqQ,gBAAkBrQ,IAASwC,KAAKyE,MAAMtD,OACzD3D,EAAOmQ,EAAe,MAAMA,EAAahK,KAAOgK,EAAahK,GAAKF,YAAYqK,YAAY,IAC1F9N,KAAK9B,MAAM,kDAAkD,CAC9D,CACA,IAAMyF,EAAK3D,KAAKyE,MAAMtD,KAAKwC,KAAO3D,KAAKyE,MAAMtD,KAAKwC,GAAKF,YAAYqK,YAAY,GAG/E,MAAQF,CAAAA,EAFoCA,EAAX,UAAjC,OAAOA,EAA6DnK,YAAYsK,QAAQlJ,IAAI+I,CAAqB,EACzFvO,OAAOuO,CAAqB,KACXnK,YAAYuK,YACpD,IAAIrK,GAXU,YAWCsK,KAAKN,CAAY,EAAI,IAAM,IAAIA,EAAaC,CAC5D,EAAEnK,YAAYyK,MAAMvK,EAAG,CAAA,CAAK,EAAE,CAAA,EAC/B,CAOAwK,MAAMC,EAAUvB,EAAIwB,GACnB,IAEMC,EAAS,CAACnN,KAFHnB,KAAKyE,MAAMtD,gBAAgB7C,EAAU0B,KAAKyE,MAAMtD,KAAKoN,UAAU,EAC5ElP,OAAO+G,OAAO/G,OAAO+F,OAAO1E,QAAQ4K,eAAetL,KAAKyE,MAAMtD,IAAI,CAAC,EAAEnB,KAAKyE,MAAMtD,IAAI,EAC/DuC,IAAK1D,KAAK0D,IAAI+I,UAAWzM,KAAKyM,SAAS,EACtDjP,EAAO,IAAI+O,WAAW+B,EAAO,CAClCzJ,IAAK7E,KAAKyE,MAAMI,IAChBgB,IAAK7F,KAAKyE,MAAMoB,IAChBlB,MAAO3E,KAAKyE,MAAME,MAClBhB,GAAI3D,KAAK2D,GAAG6E,YAAY,SACxBtH,KAAMlB,KAAKkB,KACX0C,UAAWwK,EAAYpO,KAAKyE,MAAM1B,MAAQ,KAAA,CAC3C,CAAC,EAGD,OAFArC,QAAQqK,eAAevN,EAAKkD,QAAQ4K,eAAetL,IAAI,CAAC,EACrD,MAAQqO,IAAqB7Q,EAAKsI,YAAcuI,EAAsBrO,KAAK8F,YAAc9F,KAAK8F,YAAYe,OAAO,GAC7GgG,EAAMrP,EAAKqP,IAAI,EAAIrP,CAC3B,CACAgP,gBAAgB,OAAOxM,KAAKyE,MAAM+H,SAAU,CAC5CC,gBAAgB,OAAOzM,KAAKyE,MAAMgI,SAAU,CAE5CA,cAAcA,GAAWzM,KAAKyE,MAAMgI,UAAiC,YAArB,OAAOA,EAA2BA,EAAYzM,KAAK8M,cAAe,CAElH3L,WAAW,OAAOnB,KAAKyE,MAAMtD,IAAK,CAClCA,SAASA,GACR9B,OAAO8B,CAAI,IAAMA,EAAOnB,KAAKyE,MAAM+H,WAAaxM,KAAKyE,MAAMtD,KAAOA,aAAiB7C,EACnF0B,KAAK9B,MAAM,4BAA4B,CACxC,CAQAqK,YAAY,CAACpH,KAAAA,EAAKuC,IAAAA,EAAI+I,UAAAA,CAAS,EAAEtG,EAAO5B,KAAeuB,GACtDmF,MAAM9E,EAAO5B,CAAW,EACAvE,KAAKyE,MAC7BzE,KAAKmB,KAAOA,EACZnB,KAAK0D,IAAMA,EACX1D,KAAKyM,UAAYA,EACjBlI,GAAevE,KAAK6H,QAAQ1B,EAAOvC,SAAS,EAC5C5D,KAAKoJ,OAAO,GAAGtD,CAAW,EAC1B9F,KAAKiN,aAAajN,KAAKuI,YAAYnE,IAAI,CACxC,CACD,EACIX,kBAAoBA,oBAAoB8I,WAE3CpL,WAAW,OAAOnB,KAAKyE,MAAMtD,IAAK,CAClCA,SAASA,GACR9B,OAAO8B,CAAI,IAAMA,EAAOnB,KAAKyE,MAAM+H,WAAaxM,KAAKyE,MAAMtD,KAAOA,aAAiB7C,EACnF0B,KAAK9B,MAAM,6BAA6B,CACzC,CAEAsQ,aAAe,IAAIC,IACnBC,cAAc/K,GAAI,OAAO3D,KAAKwO,MAAMvE,IAAItG,CAAE,CAAE,CAC5CgL,gBAAgBhL,GAA2E,MAAzD,UAAd,OAAOA,GAAmB1F,QAAQC,MAAM,6BAA6B,EAAS8B,KAAKwO,MAAMtE,OAAOvG,CAAE,CAAE,CACxHmK,qBACC,IAAI,IAAItQ,EAAKwC,KAAKwO,MAAMvE,IAAIzM,EAAO,KAAK0C,KAAKC,MAAsB,KAAhBD,KAAK0O,OAAO,CAAQ,EAAErP,SAAS,EAAE,CAAC,IACrF,OAAO/B,CACR,CACA0Q,aAAavK,EAAG0H,EAAS,CAAA,GACrB1H,IAAkB,UAAd,OAAOA,EAAkB3D,KAAK9B,MAAM,6BAA6B,EACxE8B,KAAKwO,MAAMvE,IAAItG,CAAE,EAAI0H,GAAUrL,KAAK9B,MAAM,8BAA8B,EACxE8B,KAAKwO,MAAMrB,IAAIxJ,CAAE,EAClB,CAEAoK,eAAiB,IAAIzJ,IAErBuK,8BAAgC,GAChCC,2BAA6B3P,GAAe0C,iBAAiB,UAAU7D,IACtE,GAAG,CAAA,gCAAgCiQ,KAAK7M,SAAS2N,eAAeC,OAAO,EAAvE,CAEA,IAEIrJ,EAAEnI,EAAKkG,EAFLuL,EAAuB7N,SAAS8N,cAAc,oBAAoB,GAAK9N,SAAS8N,cAAc,qBAAqB,EACzH,GAAID,EAAJ,CAEA,OAAOjR,EAAE0F,KACR,KAAKD,YAAYqL,oBAAoBK,SAAUxJ,EAAI,CAAC,EAAE,MACtD,KAAKlC,YAAYqL,oBAAoB7F,KAAMtD,EAAI,EAAE,MACjD,KAAKlC,YAAYqL,oBAAoBM,OAAQ5R,EAAO+O,WAAWG,YAAYuC,CAAoB,EAAE,cAAeI,YAChH7R,EAAKiH,MAAMqF,KAAKpE,QACfuJ,EAAqB/B,UAAUK,OAAO,mBAAmB,GAAG/P,EAAOA,EAAKiH,MAAMqF,KAAK,IAAIoD,UAAUC,IAAI,mBAAmB,IACxH3P,EAAOyR,GAAsBK,MAAM,GACnC9R,EAAOyR,EAAqBC,cAAc,qBAAqB,IAC/DD,EAAqB/B,UAAUK,OAAO,mBAAmB,EAAE/P,EAAK0P,UAAUC,IAAI,mBAAmB,IACjG3P,EAAOyR,GAAsBK,MAAM,EAAE,MACtC,KAAK7L,YAAYqL,oBAAoBS,KAEpC,IADA/R,EAAOyR,GACDzR,EAAOA,EAAKqQ,gBAAkBrQ,CAAAA,EAAK0P,UAAUsC,SAAS,oBAAoB,KAChFhS,GAAQyR,EAAqB/B,UAAUK,OAAO,mBAAmB,EAAE/P,GAClEA,EAAOyR,GADgE/B,UAAUC,IAAI,mBAAmB,CAI3G,CACA,GAAGxH,CAAC,GAAG,CAGN,IAF4BjC,EAAMiC,EAAI,qBAAuB,0BAA7DnI,EAAOyR,GACc/B,UAAUK,OAAO,mBAAmB,GACnD/P,EAAOA,EAAKkG,KAA4C,SAAnC+L,iBAAiBjS,CAAI,EAAE6I,WACjD7I,EAAAA,GAAgByR,EAAqBpB,cAAclI,EAAI,oBAAsB,qBAAsBuH,UAAUC,IAAI,mBAAmB,CACtI,CACA3P,GAAQA,EAAKkS,QAAQ,CAACC,QAAU,CAAC,EAAE,EAAE,EAAE,EAAE,CAACC,SAAU,GAAG,CAAC,CA1BxB,CAHgD,CA8BjF,CAAC,EAAE,CACFT,SAAU,UACVlG,KAAM,YACNmG,MAAM,aACNG,KAAM,WACP,GAEAM,4BAA6B,KAE5B,IAAMC,EAAW3Q,EAAciC,SAASC,cAAc,UAAU,EAAI,CAAC0O,QAAS,EAAE,EAChF,OAAO1Q,OAAO+G,OAAO,SAA6BvC,GACT,OAAxCiM,EAASjM,UAAY/F,OAAO+F,CAAS,EAAUiM,EAASC,QAAQC,iBACjE,EAAE,CAACC,SAAkC,OAAzBH,EAASjM,UAAY,GAAWiM,EAASC,OAAQ,CAAC,CAAC,CAC/D,GAAE,EACHG,mBAAmB,OAAO,IAAIzM,YAAY,CAACtC,KAAMC,SAASC,cAAc,KAAK,EAAEqC,IAAK,KAAK,CAAC,CAAE,CAC5FyM,qBAAqB,OAAO,IAAI1M,YAAY,CAACtC,KAAMC,SAASC,cAAc,OAAO,EAAEqC,IAAK,KAAK,CAAC,CAAE,CAChG0M,qBAAqB,OAAO,IAAI3M,YAAY,CAACtC,KAAMC,SAASC,cAAc,OAAO,EAAEqC,IAAK,KAAK,CAAC,CAAE,CAChG2M,iBAAiB1M,EAAGC,EAAY,IAAI,OAAO,IAAIH,YAAY,CAACtC,KAAMC,SAASC,cAAc,KAAK,EAAEqC,IAAK,aAAa,EAAE,CAACC,GAAAA,EAAGC,UAAAA,CAAS,CAAC,CAAE,CACpI0M,sBAAsBC,GAAa,OAAO,IAAI9M,YAAY,CAACtC,KAAMsC,YAAY+M,YAAY,WAAW,CAACD,YAAazS,OAAOyS,CAAW,CAAC,CAAC,EAAE7M,IAAK,OAAO,CAAC,CAAE,CASvJ8M,mBAAmBxB,EAAQ7I,EAAOsK,GAEjC,OADAzB,aAAmB1Q,IAAY0Q,EAAU5N,SAASC,cAAc2N,CAAO,GAChE3P,OAAO+G,OAAO/G,OAAO+G,OAAO4I,EAAQ7I,CAAM,EAAEuK,MAAMD,CAAS,EAAEzB,CACrE,CAKA2B,iCACC,IAAI,IAAMC,KAAOpL,UAAWoL,aAAetS,EAAUsS,EAAI1D,UAAUC,IAAI,oBAAoB,EAC3FyD,GAAKzP,gBAAgB7C,GAAWsS,EAAIzP,KAAK+L,UAAUC,IAAI,oBAAoB,CAC5E,CAKA0D,kCACC,IAAI,IAAMD,KAAOpL,UAAWoL,aAAetS,EAAUsS,EAAI1D,UAAUK,OAAO,oBAAoB,EAC9FqD,GAAKzP,gBAAgB7C,GAAWsS,EAAIzP,KAAK+L,UAAUK,OAAO,oBAAoB,CAC/E,CAEAuD,mCAgBO,CAACC,EAAUC,EAAKpF,KACrB,IAAMqF,EAAUD,EAAKE,QAAQF,EAAK,GAAGA,EAAK,GAAGG,YAAY,CAAC,EACzDJ,GAAa,MAAQA,GACpBtN,YAAYoL,uBAAuBmC,KAAUvN,YAAYoL,uBAAuBmC,GAAQ,IAAI1M,IAAIzC,iBAChGmP,EAAKhT,IACJ,IAAMY,EAAKJ,EAAYK,IAAI,EAC3B4E,YAAYoL,uBAAuBmC,GAAMlF,QAf7C,SAAc9N,EAAE+N,EAAcgF,GAAW,IAAI,GAAGzL,MAAMC,KAAKnE,SAASgQ,iBAAiBL,CAAS,CAAC,EAAE1H,SAASrL,EAAEwM,MAAM,EACjH,IAAI,IAAI7E,EAAI,EAAEqG,EAAID,EAAcrG,OAAOC,EAAIqG,GAAI,IAAID,EAAcpG,CAAC,IAAI3H,CAAC,CAA0C,CAAvC,MAAMA,GAAGC,QAAQC,MAAMmT,MAAMrT,GAAGoF,KAAK,CAAE,CACtF,CAA1B,MAAMpF,GAAGC,QAAQC,MAAMF,CAAC,CAAE,CAAC,EAa6BkB,KAAK,KAAKlB,CAAC,CAAC,EAClEiB,EAAIgS,EAAQ,6BAA6BzS,EAAYK,IAAI,EAAID,GAAIe,QAAQ,EAAE,MAAM,CAClF,CACD,GACA8D,YAAYoL,uBAAuBmC,GAAM/G,IAAI8G,CAAS,EAAItN,YAAYoL,uBAAuBmC,GAAMnM,IAAIkM,CAAS,EAAE7H,KAAK0C,CAAQ,EAC/HnI,YAAYoL,uBAAuBmC,GAAMnL,IAAIkL,EAAU,CAACnF,EAAS,GAThC/J,iBAAiBmP,EAAKpF,CAAQ,CAWjE,EAGDoC,oBAAqB,KACpB,GAAG,CAAC7O,EAAY,CAAC,IAAM6O,EAAc,IAAIA,EAAa,OAAOA,EAAYsD,KAAO1Q,UAAUc,OAAOsM,CAAY,CAC7G,IAAIuD,EAAQ3Q,UAAUc,OAAO3D,KAAK,WACjCqD,SAASoQ,qBAAqB,MAAM,EAAE,GACtCC,YAAYrQ,SAASC,cAAc,OAAO,CAAC,EAAE,CAACqQ,OAAOC,aAAe,iBAAiBvQ,SAASwQ,eAAe,EAAE,CAAC,EAChHL,EAAQnQ,SAASyQ,YAAYzQ,SAASyQ,YAAYnM,OAAS,EAC5D,CAAC,EACD,IAAMoM,EAAU,gCACVC,EAAU,YAAYC,EAAU,YAChCC,EAAU9K,GAAK9H,OAAO8H,CAAG,IAAMA,EAAM9H,OAAOgI,KAAKF,CAAG,EAAI,GAE9D,IAAI+K,EAAc3T,WAAW4T,cAAc7S,UAAU4S,WACrD,CAACE,EAASC,IAAWd,EAAMW,WAAWE,EAAS,MAAMC,EAAS,IAAId,EAAMe,SAAS5M,MAAM,EADrB,CAAC0M,EAASC,IAAWd,EAAMgB,QAAQH,EAASC,EAAS,CAAC,CAAC,EAErHG,EAAiB,CAACJ,EAASC,IAAWd,aAAiB5P,QAC3D4P,EAAMxT,KAAK,KAAKyU,EAAiBN,GAAYE,EAASC,CAAQ,CAAC,GAAKG,EAAiBN,GAAYE,EAASC,CAAQ,EAMlH,SAASrE,EAAYyE,EAAOC,GAAY,IACvC,GAAGpN,MAAMqB,QAAQ8L,CAAM,EAAE,CACxBE,IAAIhN,EAAI8M,EAAO/M,OACf,KAAY,EAANC,CAAE,IAA4B,UAArB,OAAO8M,EAAO9M,IAAmBqI,EAAYyE,EAAO9M,GAAG+M,CAAU,EAChF,OAAO1E,CACR,CAAwB,UAAlB,OAAOyE,GAAuBhP,YAAYvF,MAAM,0CAA0C,EAChG,IAAI,IAAMkU,KAAYH,EAAQS,CAAU,EAAE,CACzC,IACUhP,EADJkP,EAAUF,EAAWN,GAAU5U,EAAO,GAC5C,IAAUkG,KAAOuO,EAAQW,CAAO,EAAGpV,EAAK0L,KAAKxF,EAAI,IAAI5F,OAAO8U,EAAQlP,EAAI,EAAE,KAAK,EAC/E8O,EAAeC,GAAQV,EAAQ9D,KAAKwE,CAAM,GAAKT,EAAQ/D,KAAKmE,CAAQ,EAAI,IAAM,IAAIA,EAAS,IAAI5U,EAAKsJ,KAAK,EAAE,CAAC,CAC7G,CACA,IAAM+L,EAAUf,EAAQgB,KAAKL,CAAM,IAAI,GACvCI,GAAWpP,YAAYsK,QAAQlI,IAAIgN,EAAQxT,OAAO+G,OAAO,GAAG3C,YAAYsK,QAAQlJ,IAAIgO,CAAO,EAAEH,CAAU,CAAC,CAC9E,CAA1B,MAAM1U,GAAGC,QAAQC,MAAMF,CAAC,CAAE,CAAC,OAAOgQ,CAAY,CAC/C,OAAOA,EAAYsD,KAAOC,EAAMvD,CAChC,GAAE,EACH+E,oBAAqB,KACpB,IAAIrR,EAAS,CAAA,EACb,MAAO,IACCA,EAASd,UAAUc,OAASd,UAAUc,QAAUA,EAAS,CAAA,EAAKd,UAAUc,OAC/E3D,KAAK,IAAImG,SAAS6C,KAAK,KAAStD,YAAYuK,YAAY,GAAG,CAC1DgF,IAAI,CACHC,OAAS,IACTC,QAAU,IACVC,OAAS,IACTC,sBAAsB,OACtBC,mBAAmB,OACnBC,kBAAkB,OAClBC,cAAc,MACf,EACAC,QAAQ,CACPC,aAAa,SACbC,cAAc,qBACdC,cAAc,2BACdC,YAAY,kBACb,EACAC,IAAM,CACLC,aAAa,OACbC,gBAAgB,OAChBC,iBAAiB,MACjBC,cAAc,WACdC,YAAY,YACb,EACAC,KAAO,CACNC,OAAS,UACTC,mBAAmB,QACnBC,MAAQ,OACT,EACAC,KAAO,CACN9H,UAAY,YACZ+H,mBAAmB,gBAGnBC,SAAW,gBACZ,EACAC,SAAS,CAAC/M,SAAW,UAAW,EAChCgN,GAAK,CAACxB,OAAS,kBAAkB,EACjCyB,sBAAsB,CAACvO,QAAU,MAAO,CACzC,CAAC,EAAE,aAAa,CACfwO,GAAG,CAACC,MAAS,UAAUC,OAAS,WAAW,CAC5C,CAAC,EAAE,aAAa,CACfF,GAAG,CAACxO,QAAU,MAAM,CACrB,CAAC,EAAE,aAAa,CACfwO,GAAG,CAACG,WAAa,QAAQ,CAC1B,CAAC,EAAE,YAAY,CACdH,GAAG,CAACI,eAAe,eAAe,EAClCC,KAAK,CAACvN,SAAW,WAAWtB,QAAU,OAAO,CAC9C,CAAC,EAAE,aAAa,CACfwO,GAAG,CAACI,eAAe,aAAa,EAChCC,KAAK,CAACvN,SAAW,WAAWtB,QAAU,OAAO,CAC9C,CAAC,EAAE,qBAAqB,CACvBwO,GAAG,CAACI,eAAe,eAAe,EAClCC,KAAK,CAACvN,SAAW,WAAWtB,QAAU,QAAQ4O,eAAe,aAAa,EAC1EE,OAAO,CAACxN,SAAW,WAAWtB,QAAU,OAAO,CAChD,CAAC,EAAE,qBAAqB,CACvBwO,GAAG,CAACI,eAAe,aAAa,EAChCC,KAAK,CAACvN,SAAW,WAAWtB,QAAU,QAAQ4O,eAAe,eAAe,EAC5EE,OAAO,CAACxN,SAAW,WAAWtB,QAAU,OAAO,CAChD,CAAC,EAAE,gBAAgB,CAClBwO,GAAG,CAACI,eAAe,eAAe,EAClCC,KAAK,CAACvN,SAAW,UAAU,EAC3ByN,iBAAiB,CAACC,UAAU,GAAG,EAC/BC,iBAAiB,CAACD,UAAU,GAAG,EAC/BE,iBAAiB,CAACF,UAAU,GAAG,EAC/BG,iBAAiB,CAACH,UAAU,GAAG,EAC/BI,iBAAiB,CAACJ,UAAU,GAAG,EAC/BK,iBAAiB,CAACL,UAAU,GAAG,EAC/BM,iBAAiB,CAACN,UAAU,GAAG,EAC/BO,iBAAiB,CAACP,UAAU,GAAG,EAC/BQ,iBAAiB,CAACR,UAAU,GAAG,EAC/BS,kBAAkB,CAACT,UAAU,IAAI,EACjCU,kBAAkB,CAACV,UAAU,IAAI,EACjCW,kBAAkB,CAACX,UAAU,IAAI,EACjCY,kBAAkB,CAACZ,UAAU,IAAI,EACjCa,kBAAkB,CAACb,UAAU,IAAI,EACjCc,kBAAkB,CAACd,UAAU,IAAI,CAClC,CAAC,EAAE,cAAc,CAChBR,GAAG,CAACI,eAAe,eAAe,EAClCC,KAAK,CAACvN,SAAW,UAAU,EAC3ByO,sBAAsB,CAACf,UAAU,GAAG,EACpCgB,sBAAsB,CAAChB,UAAU,GAAG,EACpCiB,sBAAsB,CAACjB,UAAU,GAAG,EACpCkB,sBAAsB,CAAClB,UAAU,GAAG,EACpCmB,sBAAsB,CAACnB,UAAU,GAAG,EACpCoB,sBAAsB,CAACpB,UAAU,GAAG,EACpCqB,sBAAsB,CAACrB,UAAU,GAAG,EACpCsB,sBAAsB,CAACtB,UAAU,GAAG,EACpCuB,sBAAsB,CAACvB,UAAU,GAAG,EACpCwB,uBAAuB,CAACxB,UAAU,IAAI,EACtCyB,uBAAuB,CAACzB,UAAU,IAAI,EACtC0B,uBAAuB,CAAC1B,UAAU,IAAI,EACtC2B,uBAAuB,CAAC3B,UAAU,IAAI,EACtC4B,uBAAuB,CAAC5B,UAAU,IAAI,EACtC6B,uBAAuB,CAAC7B,UAAU,IAAI,CACvC,CAAC,EAAE,WAAW,CACb8B,SAAS,CAACC,WAAa,sCAAsC,CAC9D,CAAC,EAAE,YAAY,CACdC,UAAU,CAACD,WAAa,sCAAsC,CAC/D,CAAC,EAAE,gBAAgB,CAClBE,UAAU,CAACF,WAAa,sCAAsC,CAC/D,CAAC,EAAE,iBAAiB,CACnBG,WAAW,CAACH,WAAa,sCAAsC,CAChE,CAAC,EAAE,kBAAkB,CACpBvC,GAAG,CAACC,MAAQ,SAASC,OAAS,QAAQ,CACvC,CAAC,EAAE,aAAa,CACfF,GAAG,CAAC2C,YAAY,QAAQ,CACzB,CAAC,EAAE,YAAY,CACd3C,GAAG,CAAC2C,YAAY,QAAQ,CACzB,CAAC,EAAE,cAAc,CAChB3C,GAAG,CAAC2C,YAAY,OAAO,CACxB,CAAC,EAAE,WAAW,CACb3C,GAAG,CAACJ,SAAW,eAAe,CAC/B,CAAC,EAAE,WAAW,CACbI,GAAG,CAACJ,SAAW,eAAe,CAC/B,CAAC,EAAE,YAAY,CACdI,GAAG,CAACJ,SAAW,QAAQ,CACxB,CAAC,EAAE,cAAc,CAChBI,GAAG,CAACJ,SAAW,QAAQ,CACxB,CAAC,EAAE,gBAAgB,CAClBI,GAAG,CACFf,aAAa,UACb2D,cAAc,SACd1D,gBAAgB,SAChBC,iBAAiB,WACjB0D,kBAAkB,QACnB,CACD,CAAC,EAAE,YAAY,CACd7C,GAAG,CAACC,MAAQ,UAAUC,OAAS,SAAS,CACzC,CAAC,EAAE,oBAAoB,CACtBF,GAAI,CAEH8C,KAAO,MACPC,IAAM,MACNnL,UAAY,sBACb,CACD,CAAC,EAAE6E,KAAKuG,QAAQ,CAAA,EAAE9Q,GAAM9H,EAAI,uBAAuB8H,EAAKpH,QAAQ,EAAE,MAAM,CAAC,CAAC,EAE3E,GAAE,CACJ,EACA,CASC,IAAMmY,EAAW,SAAS9V,EAAQS,GAAQzC,KAAKgC,QAAUA,EAAQhC,KAAKyC,OAASA,CAAO,EAEhFsV,EAAe,WACpB,GAAG,CAAC,WAAY,OAAO,IAAIA,EAE3B/X,KAAKgC,QAAU,KAEfhC,KAAKyC,OAAS,KACdzC,KAAKsC,QAAU,IAAIX,QAAQmW,EAAS5Y,KAAKc,IAAI,CAAC,CAC/C,EACD,IAAIgY,UAAY,UAAUA,UACzBC,UAAU,OAAO,IAAID,UAAUhY,IAAI,CAAE,CAOrCkY,eAAe5U,GAAI,OAAO,IAAI3B,QAAQC,GAAGA,EAAE0B,IAAKtD,KAAKiY,QAAQ,CAAC,CAAC,CAAC,CAAE,CAClEla,KAAKuF,GAAI,MAAqB,YAAd,OAAOA,GAAqBtD,KAAKe,OAAOwC,QAAQD,CAAE,EAAEtD,IAAK,CACzEmY,cACC,IACM3a,EADN,GAAKwC,KAAKoY,mBAAmBJ,UAE7B,OADMxa,EAAOwC,KAAKoY,QAAQC,OACd7a,EAAKwM,QAAQhK,IAAI,EAAI,EAClC,CACAsY,kBACC,IACM9a,EADN,GAAKwC,KAAKoY,mBAAmBJ,UAE7B,OADMxa,EAAOwC,KAAKoY,QAAQC,OACd7a,EAAKwM,QAAQhK,IAAI,EAAI,EAClC,CACAuY,gBACC,IAAM/a,EAAO,IAAIua,EACjB,OAAO/X,KAAKjC,KAAK,IAAIP,EAAK8E,OAAO,EAAE9E,CACpC,CACAgb,eAEC,IADA,IAAI7S,EAAI,EAAEnI,EAAOwC,MACVxC,EAAOA,EAAK4a,mBAAoBJ,WAAWrS,CAAC,GAEnD,IADIA,IAAG8S,EAAS,CAAA,GACVzY,KAAKqY,MAAM3S,QAAU1F,KAAKe,OAAO2E,QAAO,CAC7C,KAAM1F,KAAKe,OAAO2E,QAAQ,IAAI1F,KAAKkB,KAAO+F,MAAMjH,KAAKe,OAAOgD,IAAI,IAAI/D,KAAKkB,IAAI,CACH,CAA1E,MAAMlD,GAAGC,QAAQC,MAAM,qBAAqByH,EAAE,KAAK7H,OAAOE,GAAGoF,OAASpF,CAAC,CAAC,CAAE,CAC1E,IAAIiJ,MAAMjH,KAAKqY,MAAMK,MAAM,GAAGF,SAAS,CAA+E,CAA5E,MAAMxa,GAAGC,QAAQC,MAAM,uBAAuByH,EAAE,KAAK7H,OAAOE,GAAGoF,OAASpF,CAAC,CAAC,CAAE,CACvH,CACI2H,IAAG8S,EAAS,CAAA,EACjB,CACAV,mBAAmB,OAAOA,CAAa,CACvCY,YAAY,OAAO3Y,KAAKoY,mBAAmBJ,UAAYhY,KAAKoY,QAAQC,MAAMrO,QAAQhK,IAAI,EAAI,CAAC,CAAE,CAE7FoY,QAEAC,MAAQ,GAERtX,OAAS,GACTG,KACAqH,YAAY6P,IAAUpY,KAAKoY,QAAUA,aAAmBJ,WAAaI,IAAYA,EAAQC,MAAMnP,KAAKlJ,IAAI,CAAE,CAC3G,EACC2S,IAAI8F,EAAS,CAAA,EACb/X,QAAQ4K,eAAe0M,SAAS,EAAEzP,YAAc7J,EAAY,IAAI+Z,GAAUT,UAAUQ,OAAO,EAAE,EAAE,CAChG,CACA,IAsFII,WAwSAC,WA6IAC,WAgGAC,WA8EA1J,YAsJA2J,YA2EAC,aAwFAC,oBAsDAC,oBAsDAC,oBA9lCAC,YAAc,UAEZA,YAMLC,OAAOhX,GAAS,OAAO,IAAI+W,YAAY/W,CAAO,CAAE,CAKhDe,MAAMkW,GAAY,OAAOvZ,KAAKmB,KAAOQ,QAAQK,QAAQhC,KAAKmB,IAAI,EAAEkC,MAAMkW,CAAU,EAAEvZ,IAAK,CAKvF6X,QAAQ2B,GAAW,OAAOxZ,KAAKmB,KAAOQ,QAAQK,QAAQhC,KAAKmB,IAAI,EAAE0W,QAAQ2B,CAAS,EAAExZ,IAAK,CAMzFyZ,MAAMpb,GAAG,OAAO2B,KAAK8J,KAAKZ,KAAK7K,CAAC,EAAEA,CAAE,CAKpCqb,OAAO1b,GAAG,MAAMgC,KAAK8J,KAAKZ,KAAKlL,CAAC,EAAEA,CAAE,CASpCD,KAAK4b,EAAYJ,GAAY,OAAOvZ,KAAKmB,KAAOQ,QAAQK,QAAQhC,KAAKmB,IAAI,EAAEpD,KAAK4b,EAAYJ,CAAU,EAAExb,KAAKiC,KAAKyZ,MAAMzZ,KAAK0Z,MAAM,EAAE1Z,IAAK,CAO1I4Z,iBAAiBC,EAAQC,GACxB,GAAsB,YAAnB,OAAOD,EAAwB,MAAM,IAAIE,UAAU,8BAA8B,EACpF,IAAI9S,MAAMjH,KAAKmB,IAA4C,CAAtC,MAAMnD,GAAGC,QAAQC,MAAM8B,KAAK0F,OAAO1H,CAAC,CAAE,CAE3D,IADA,IAAI2H,EAAI3F,KAAK0F,OACD,EAANC,CAAE,IAAO,IAAI,IAAI,OAAOkU,EAAQ5S,MAAMjH,KAAK8J,KAAKnE,EAAE,CAA0C,CAAvC,MAAM3H,IAAI8b,GAAW7b,QAAQC,OAAOF,CAAC,CAAE,CAA4B,CAA1B,MAAMA,GAAGC,QAAQC,MAAMF,CAAC,CAAE,CAC/H,CACAL,cAAc,OAAO0b,YAAY1b,OAAQ,CACzCA,gBAAiB,KAGhB,IAAMqc,EAAU,GAAGC,EAAU,kBAC7B,OAAO7a,EACP,SAASxB,GAAM,OAAOoC,gBAAgBqZ,aAAerZ,KAAKyZ,MAAM9X,QAAQK,QAAQ7D,EAAYL,OAAOF,CAAI,CAAC,CAAC,CAAC,CAAE,EAC5GuB,EACA,SAASvB,GACR,IAAIJ,EAAK0c,EAET,GADAtc,EAAOE,OAAOF,CAAI,EAAEuc,WAAW,KAAK,GAAG,EACpCna,EAAAA,gBAAgBqZ,aAA+E,OAAO1X,QAAQc,OAAO,EAAxF,KAAMwX,EAAQhM,KAAKrQ,CAAI,GAAGA,EAAOA,EAAKuc,WAAWF,EAAQ,EAAE,EAC3F,OAAOD,EAAQpc,KAAUoc,EAAQpc,IAASJ,EAAOwa,UAAUD,aAAa,EAAE3W,SAASgZ,KAAK3I,YACvFyI,EAASzW,YAAY+M,YAAY,SAAS,CAAC9O,OAAQlE,EAAKwE,QAAQ8X,QAAStc,EAAKiF,OAAO4X,IAAKzc,CAAI,CAAC,CAChG,EAAEoC,KAAKyZ,MAAMjc,EAAK8E,QAAQuV,QAX3B,WAAqB7X,KAAKuN,OAAO,CAAE,EAWUrO,KAAKgb,CAAM,CAAC,CAAC,GAC1D,EAAI,WAAW,OAAOvY,QAAQc,OAAO,IAAIQ,MAAM,cAAc,CAAC,CAAE,CAChE,GAAE,EACHyC,aAAa,OAAO1F,KAAK8J,KAAKpE,MAAO,CACrCoE,KAAO,GAKPvB,YAAYjG,GACX5B,QAAQC,eAAeX,KAAK,OAAOlB,CAAU,EAC7C4B,QAAQC,eAAeX,KAAK,QAAQ,CAAC+C,MAAO/C,KAAKyZ,MAAMva,KAAKc,IAAI,EAAEhB,WAAY,CAAA,EAAMD,SAAU,CAAA,CAAK,CAAC,EACpG2B,QAAQC,eAAeX,KAAK,SAAS,CAAC+C,MAAO/C,KAAK0Z,OAAOxa,KAAKc,IAAI,EAAEhB,WAAY,CAAA,EAAMD,SAAU,CAAA,CAAK,CAAC,EAEtGiB,KAAKmB,KAAOQ,QAAQK,QAAQM,CAAO,EAAEvE,KAAKiC,KAAKyZ,MAAMzZ,KAAK0Z,MAAM,CACjE,CACD,EAAE9Y,UAAUc,MAAM,EAClB2X,YAAYlY,KAAK0W,QAAQ,IAAI3T,SAAS6C,KAAKnG,UAAUc,OAAOqF,GAAM9H,EAAI,cAAc8H,EAAKpH,QAAQ,EAAE,MAAM,CAAC,CAAC,EAExGR,GAECyZ,iBAAmBA,mBAAmBnV,YAWzCgB,2BAAwC8H,WAAW9H,MAClDjH,KAAO4D,SAASC,cAAc,QAAQ,EAAEiZ,WAAW,IAAI,EACvDC,OAASnZ,SAASC,cAAc,QAAQ,EAAEiZ,WAAW,IAAI,EACzDE,IAAM,IAAIC,MACVjO,UAAY,CAAA,EACZkO,gBAAkB,CAAA,EAElBC,GACD,EACAC,gBAAkB,CAAA,EAElBC,mBAAqB,IAAIvW,IAOzBwW,YAAYC,EAAEC,GAAmC,IAA5B,IAAMrV,EAAI7H,OAAOid,CAAC,EAAErV,OAAcsV,CAAM,IAAIrV,GAAGoV,EAAI,IAAIA,EAAG,OAAOA,CAAC,CACvFE,oBACC,IAAI,IAAIzd,EAAO4M,UAAUC,UAAUE,IAAI1D,OAAO,GAAGrB,SAAS,EAAEG,EAAInI,EAAKkI,OAAa,EAANC,CAAE,IAAQnI,EAAKmI,GAAKiT,WAAWsC,cAAc1d,EAAKmI,EAAE,EAChI,OAAOhE,QAAQgH,WAAWnL,CAAI,CAC/B,CAEA0d,sBAAuB,KAOtB,SAASC,EAAYd,EAAIrY,EAAQS,GAChC,IAAMjF,EAAOob,WAAWiC,YAAYhW,IAAIwV,CAAG,GAAK,IAAII,MACpDjd,EAAK6c,IAAMrY,EAAQxE,CAAI,EAAI6c,CAAAA,GAAsB,UAAf,OAAOA,GAAsBzB,WAAWgC,UAAYhC,WAAWiC,YAAY5Q,IAAIoQ,CAAG,EAG1F5X,EAAO,EAFjCpD,OAAO+G,OAAO5I,EAAK,CAACkE,OAAQ,KAC3BkX,WAAWiC,YAAYhV,IAAIwU,EAAI7c,CAAI,EAAEA,EAAKkE,OAASlE,EAAKsc,QAAU9X,EAAQxE,CAAI,GAC7Esc,QAASrX,EAAO4X,IAAAA,CAAG,CAAC,CACvB,CACA,OAAOA,GAAK,IAAI1Y,QAAQwZ,EAAYjc,KAAK,KAAKmb,CAAG,CAAC,CAClD,GAAE,EACHe,4BAA6B,WACtBC,EAAmBC,EAAI,EAAEC,EAAI,EAAEC,QAAQC,QAAQC,MAAMC,QAAS,CAOpE,OAAO,SAA6BC,EAAW,CAACC,OAAAA,EAAOC,cAAAA,EAAcC,aAAAA,CAAY,EAAI,IACpF,GAAG,EAAEH,aAAsBhD,YAAa,MAAM,IAAI3V,MAAM,iDAAiD,EAC9E,YAAxB,OAAO8Y,IAA6BA,EAAeA,EAAa7c,KAAK0c,CAAU,GACtD,YAAzB,OAAOE,IAA8BA,EAAgBA,EAAc5c,KAAK0c,CAAU,GACrF,IAAMzV,EAAS,IAAIkV,EAAmB7d,EAAO,IAAI4M,UAAU,CAACjJ,KAAMgF,CAAM,CAAC,EACzE,OAAO3I,EAAKkO,kBAAkB,KAAKsQ,UAClC/U,MAAMtF,QAAQK,QAAQ4Z,EAAWK,MAAM,EAAEle,KAAK+d,CAAa,EAC3D7U,MAAM2U,EAAWM,WAAW/V,EAAOA,EAAOuV,KAAK,EAAE3d,KAAKge,CAAY,CACnE,CAAC,EAAEH,EAAWK,OAAOpE,QAAQgE,CAAM,EAAEre,CACtC,CACA,GAAE,EACHsP,kBACA/E,WAAW,OAAO/H,KAAKic,OAAOle,KAAK,IAAIiC,KAAKyE,MAAM1B,KAAK,CAAE,CACzDoZ,aAAa,OAAOnc,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAIiC,KAAKoc,MAAM,CAAC,CAAE,CACtFvP,IAAIwP,EAAcrc,KAAKyE,MAAMjH,KAAK8e,SAAStc,KAAKyE,MAAMiW,gBAAkB1a,KAAKoc,MAAM,EAAIpc,KAAKyE,MAAMkW,KAAK4B,UAAUF,EAAY,EAAE,CAAC,CAAE,CAElIpB,aAAa,OAAOjb,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAKK,EAAQc,KAAK,KAAK0Z,WAAWqC,WAAWzU,MAAM,KAAKhB,SAAS,CAAC,CAAC,CAAE,CACpI4W,QAAQ,OAAOpc,KAAKyE,MAAMkW,IAAI6B,UAAU,EAAE,EAAExc,KAAKyE,MAAMtD,KAAK2T,MAAM9U,KAAKyE,MAAMtD,KAAK4T,MAAM,EAAE/U,KAAKyE,MAAMkW,IAAI8B,UAAU,EAAEzc,KAAKyE,MAAMkW,GAAI,CACpI+B,YAAY,OAAO1c,KAAKyE,MAAMjH,KAAKgf,UAAU,EAAE,EAAExc,KAAKyE,MAAMtD,KAAK2T,MAAM9U,KAAKyE,MAAMtD,KAAK4T,MAAM,EAAE/U,KAAKyE,MAAMjH,KAAKif,UAAU,EAAEzc,KAAKyE,MAAMjH,IAAK,CAC3Imf,QAAQtC,GAAK,OAAOra,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAI6a,WAAWsC,cAAcb,CAAG,CAAC,EAAEtc,KAAK,IAAI,CAAA,EAAKiC,KAAK4c,UAAU1d,KAAKc,KAAKqa,CAAG,CAAC,CAAE,CACpJuC,UAAUvC,EAAInc,GAAO,OAAOmc,GAAOpc,QAAQC,MAC1CA,aAAiB+E,MAAQ/E,GAAS0a,WAAWgC,UAAY1c,GAAS0a,WAAWiC,YAAYhV,IAAIwU,CAAG,EAAEra,KAAK,0BAA0Bqa,EAAI,MACtI,EAAE,CAAA,CAAM,CACRnS,SAASmS,GACR,OAAOra,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAI6a,WAAWsC,cAAcb,CAAG,CAAC,EACxFtc,KAAKyc,IAAMxa,KAAKyE,MAAM+V,IAAMA,EAAIxa,KAAKyE,MAAM1B,MAAQsX,EAAI,CAAA,GAAMra,KAAK4c,UAAU1d,KAAKc,KAAKqa,CAAG,CAAC,CAC3F,CAKAwC,SAAS,IAAI,OAAOjc,UAAU+B,WAAW,CAACC,QAAS5C,KAAKmB,KAAK0B,MAAO,QAAQ,CAAC,EAAE9E,KAC9EiJ,GAASA,EAAO,aAAc/D,OAAShF,QAAQC,MAAM8I,EAAO,EAAE,EAAE,IAAI8V,MAAQ9V,EAAO,EACpF,CAA8D,CAA3D,MAAMhJ,GAAG,OAAOC,QAAQC,MAAMF,CAAC,EAAE2D,QAAQK,QAAQ,IAAI8a,IAAI,CAAE,CAAC,CAC/DC,YAAY1C,GAAK,OAAOra,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAI6a,WAAWsC,cAAcb,CAAG,CAAC,EAAEtc,KAAKyc,IAC5Gxa,KAAKmB,KAAK2T,QAAU0F,EAAIwC,eAAchd,KAAK8U,MAAQ0F,EAAIwC,cACvDhd,KAAKmB,KAAK4T,SAAWyF,EAAIyC,gBAAejd,KAAK+U,OAASyF,EAAIyC,cAC9D,CAAC,CAAE,CAQHpV,QAAQ9E,EAAM4B,EAAM6C,EAAOC,GAC1B,IAAIjK,EACJ,OAAOwC,KAAKic,OAAS3W,MAAMqB,QAAQ5D,CAAK,EAAI/C,KAAKkd,kBAAkB,GAAG,GAAGna,CAAK,EAAEhF,KAAK,KAAKiC,KAAKyE,MAAM1B,MAAQA,CAAM,CAAC,EACpHpB,QAAQK,QAAQhC,KAAKyE,MAAMoB,IAAIrG,KAC9BQ,KACAA,KAAKyE,MAAMF,cAAgB/G,EAAOwC,KAAK6I,uBAAuB9F,CAAK,GAAG2C,OACtE1F,KAAK8I,wBAAwBtL,EAAKuF,CAAK,EAAIA,CAC5C,GAAK,CAAA,CAAI,EAAEhF,KAAKM,GAAGA,IAAM2B,KAAK6M,IAAI7M,KAAKwa,GAAG,EAAE7V,GAAS3E,KAAK2E,QAAQ,EAAE6C,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,EAAK,EAAEpE,MAAMrF,IAAIC,QAAQC,MAAMF,CAAC,EAAEA,EAAE,CACvI,CACAkf,kBAAkB,CAACC,MAAAA,EAAMC,YAAAA,EAAYC,OAAAA,CAAM,KAAKC,GAC/Ctd,KAAKib,WAAWkC,EAAMG,CAAQ,EAC9B,IAAI3X,EAAI,CAAC,EAAEnI,EAAO2f,GAASG,EAAS,IAAM,CAAA,EAG1C,GAFAD,GAAU7f,GAAQwC,KAAK+c,YAAYvf,CAAI,EACvCwC,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAIiC,KAAK0c,UAAU,CAAC,EACjEpX,MAAMqB,QAAQwW,CAAK,EAAG,IAAI3f,EAAO2f,EAAMzX,OAAOlI,EAAM,EAAGmI,GAAI3F,KAAKxC,KAAO2f,EAAMxX,QAC3EwX,GAA0B,UAAjB,OAAOA,IAAuBnd,KAAKxC,KAAO2f,GACxD,GAAqB,EAAlBG,EAAS5X,QAAc0X,EACzB,IAAIzX,EAAI2X,EAAS5X,OAAOlI,EAAO,EAAQ,EAANmI,CAAE,IAAQ3F,KAAKud,YAAc,MAAQ5X,EAAE3F,KAAKxC,KAAO8f,EAAS9f,CAAI,SAC5F,IAAImI,EAAI,CAAC,EAAEnI,EAAO8f,EAAS5X,OAAOlI,EAAM,EAAGmI,GAAI3F,KAAKxC,KAAO8f,EAAS3X,GAC1E,OAAO3F,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,KAAKiC,KAAK6M,IAAI7M,KAAKyE,MAAMjH,KAAK8e,MAAM,CAAE,EAAEte,GAAGqT,MAAMrT,EAAEoF,KAAK,CAAC,CACjH,CAMAoa,gBAAgB,CAAChC,QAAAA,EAAQC,QAAAA,EAAQE,SAAAA,CAAQ,EAAI,GAAGD,GAC/C,IAAMva,EAAOnB,KAAKyE,MAAMtD,KAAKoZ,EAASva,KAAKyE,MAAM8V,OAAOkD,EAAWhO,iBAAiBtO,CAAI,EAClFuc,EAAa,KAAKnD,EAAO+B,OAAOxH,MAAQ3T,EAAK2T,MAAMyF,EAAO+B,OAAOvH,OAAS5T,EAAK4T,OAAOwF,EAAOgC,UAAUpb,EAAK,EAAE,CAAC,GAErHwc,EAAY3f,IAAI4f,EAAW,EAAE5d,KAAKkc,WAAW,CAC5CZ,EAAGtd,EAAE6f,QAAU1c,EAAK2T,MAAQ,CAAC2I,EAAS3I,MAAMtU,MAAM,EAAE,CAAC,CAAC,EACtD+a,EAAGvd,EAAE8f,QAAU3c,EAAK4T,OAAS,CAAC0I,EAAS1I,OAAOvU,MAAM,EAAE,CAAC,CAAC,EACxDgb,QAAAA,EAAQC,QAAAA,EAAQE,SAAAA,CACjB,EAAED,CAAK,GAAGkC,EAAa,IAAI5d,KAAKoc,MAAM,EAAEG,UAAUhC,EAAO+B,OAAO,EAAE,CAAC,EAQnE,OADAnb,EAAKU,iBAAiB,aAAa6b,CAAU,EAAEvc,EAAKU,iBAAiB,aAAa+b,CAAU,EAAEzc,EAAKU,iBAAiB,YAAY8b,CAAS,EALtH,KAClBxc,EAAKY,oBAAoB,aAAa2b,CAAU,EAChDvc,EAAKY,oBAAoB,aAAa6b,CAAU,EAChDzc,EAAKY,oBAAoB,YAAY4b,CAAS,EAIhD,CAMAzB,WAAW,CAACZ,EAAAA,EAAI,EAAEC,EAAAA,EAAI,EAAEC,QAAAA,EAAQC,QAAAA,EAAQE,SAAAA,CAAQ,EAAI,GAAGD,GACtD,IAAIqC,EAAS,CAAA,EAIb,MAHmB,UAAnB,OAAOvC,EAA0C,UAAnB,OAAOC,IAAyBA,EAAUD,GACrD,UAAnB,OAAOC,EAAuBD,EAAUC,EAAUsC,EAAS,CAAA,GAC3DA,EAAAA,GAAoB,CAACre,OAAOK,SAASyb,EAAUC,CAAO,GACpC9Z,QAAQc,OAAO,IAAIQ,MAAM,cAAcnF,OAAO0d,CAAO,EAAE,kBAAkB1d,OAAO2d,CAAO,EAAE,yBAAyB,CAAC,GACrH,UAAb,OAAOH,IAAgBA,EAAI,GAAkB,UAAb,OAAOC,IAAgBA,EAAI,IAC9DwC,EAAAA,GAAoB,CAACre,OAAOK,SAASub,EAAIC,CAAC,GACxB5Z,QAAQc,OAAO,IAAIQ,MAAM,QAAQnF,OAAOwd,CAAC,EAAE,YAAYxd,OAAOyd,CAAC,EAAE,yBAAyB,CAAC,EACtGvb,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,KACtD,IACUigB,EADJ7c,EAAOnB,KAAKyE,MAAMtD,KAAK3D,EAAOwC,KAAKyE,MAAMjH,KAC3CmI,EAAI,EAKR,GAJA6V,EAAUtb,KAAK+d,IAAItC,EAAWH,EAAUxb,KAAK8U,MAAQ,EAAI0G,CAAO,EAChEC,EAAUvb,KAAK+d,IAAItC,EAAWF,EAAUzb,KAAK+U,OAAS,EAAI0G,CAAO,EACjEje,EAAK8e,OAAOxH,MAAQ3T,EAAK2T,MAAMtX,EAAK8e,OAAOvH,OAAS5T,EAAK4T,OACzDvX,EAAK+e,UAAUpb,EAAK,EAAE,CAAC,EAQjB,SAPCua,EACN,CACCJ,EAAIpb,KAAKge,MAAM5C,CAAC,EAAEC,EAAIrb,KAAKge,MAAM3C,CAAC,EAAEC,EAAUtb,KAAKie,KAAK3C,CAAO,EAE/D,IADA,IAAM4C,GAD2D3C,EAAUvb,KAAKie,KAAK1C,CAAO,IACnE,EAAE4C,EAAYD,EAAQ5C,GAAW,EACpD7V,CAAE,GAAI6V,GAASwC,EAAI9d,KAAKC,MAAMD,KAAKoe,KAAKF,EAAQzY,GAAK,EAAI0Y,CAAS,CAAC,EAAI,EAAE7gB,EAAKgf,UAAUlB,EAAI3V,EAAE4V,EAAIyC,EAAM,EAAJrY,EAAU,EAAJqY,CAAK,CAEtH,MAECxgB,EAAKgf,UAAUtc,KAAKC,MAAMmb,EAAIE,CAAO,EAAEtb,KAAKC,MAAMob,EAAIE,CAAO,EAAEvb,KAAKie,KAAe,EAAV3C,CAAW,EAAEtb,KAAKie,KAAe,EAAV1C,CAAW,CAAC,EAC5Gzb,KAAKoc,MAAM,EAAEG,UAAU/e,EAAK8e,OAAO,EAAE,CAAC,EAGvCtc,KAAKoc,MAAM,EAAEG,UAAU/e,EAAK8e,OAAO,EAAE,CAAC,CACxC,CAAC,EAAEjZ,MAAMrF,GAAGC,QAAQC,MAAMF,CAAC,CAAC,EAC7B,CAUA0R,QAAQ,CACP+C,OAAAA,EAAO8L,OAAAA,EAAOC,OAAAA,EAAS,EAAE9Y,OAAAA,EAAO+Y,UAAAA,EAChCtB,MAAAA,EAAMuB,SAAAA,EAAW,EAAE5d,QAAAA,EAAU,IAAI6d,SAAAA,EAAW,MAAMC,YAAAA,EAAc,CAAA,CACjE,EAAI,IACH,IAAMC,EAAO,CAAC/J,MAAO9U,KAAK8U,MAAMC,OAAQ/U,KAAK+U,MAAM,EAAkB+J,EAAS,GAC9E,IAAInZ,EAAI6Y,EAAS9Y,EAASgZ,EAG1B,IAFAhZ,GAF8D,OAE7CgZ,IAAa,EAC9B5d,GAH8D,OAG5C4d,IAAa,EACzB/Y,CAAE,IAAI6Y,GAAQM,EAAO5V,KAAKuJ,EAAOmG,WAAWkC,KAAKnV,EAAE8Y,CAAS,EAAEF,CAAM,EAC1E,OAAOve,KAAKib,WAAW6D,CAAM,EAAEnZ,EAAI,EAAE,CAACsW,OAAQjc,KAAKic,OAAO8C,SAAU/e,KAAKic,OAAOle,KAAK,KACpF,IAAIsf,EAEJ,IAAM7f,EAAO,IAAIoD,UAAUE,CAAO,EAIlC,OAFM,SADC6d,IACOtB,EAAS,CAAA,GAEhBqB,GACN,QAAS,KAAiB,EAAXhZ,CAAO,IAAOlI,EAAKO,KAAKiC,KAAKkd,kBAAkBld,KAAK,CAACmd,MAAAA,EAAME,OAAAA,CAAM,EAAE5K,EAAOmG,WAAWkC,KAAK0D,CAAM,GAAGC,CAAS,EAAEF,CAAM,EACnI,KAAK,EACJ,KAAiB,EAAX7Y,CAAO,IAAOlI,EAAKO,KACxBiC,KAAKkd,kBAAkBld,KAAK,CAACmd,MAAAA,EAAMC,YAAa,CAAA,EAAKC,OAAAA,CAAM,GAC1D1X,EAAI,CAACA,IAAM8M,EAAOmG,WAAWkC,KAAK0D,CAAM,GAAGC,CAAS,EAAEF,EACvD,CAAA,EACA9L,EAAOmG,WAAWkC,KAAK0D,EAAOC,CAAS,EAAEF,CAC1C,EACA,MAED,KAAK,EACJ,KAAiB,EAAX7Y,CAAO,IAAOlI,EAAKO,KACxBiC,KAAKkd,kBAAkBld,KAAK,CAACmd,MAAAA,EAAMC,YAAa,CAAA,EAAKC,OAAAA,CAAM,EAC3D,IAAM1X,EAAI8M,EAAOmG,WAAWkC,KAAK0D,EAAS,EAAEC,CAAS,EAAEF,EAAS,IAAM5Y,GAAK8M,EAAOmG,WAAWkC,KAAK0D,EAAOC,CAAS,EAAEF,EACpH,CAAA,EACI5Y,EAAJ,EAAQ8M,EAAOmG,WAAWkC,KAAK0D,EAAOC,CAAS,EAAEF,EAAS9L,EAAOmG,WAAWkC,KAAK0D,EAAS,EAAEC,CAAS,EAAEF,CACxG,EAAE,GAAK,EAAG5Y,IAAM6Y,CAAM,GAAG7Y,GAAK,GAC9B,MAED,KAAK,EACJ,KAAiB,EAAXD,CAAO,IAAOlI,EAAKO,KAKxBiC,KAAKkd,kBAAkBld,KAAK,CAACmd,MAAAA,EAAMC,YAAa,CAAA,EAAKC,OAAAA,CAAM,EAC3D,IAAM1X,EAAI8M,EAAOmG,WAAWkC,KAAK0D,EAAS,EAAEC,CAAS,EAAEF,EAAS,IAAM5Y,GAAK8M,EAAOmG,WAAWkC,KAAK0D,EAAOC,CAAS,EAAEF,EACpH,CAAA,EACA,IAAM5Y,EAAI8M,EAAOmG,WAAWkC,KAAK0D,EAAS,EAAEC,CAAS,EAAEF,EAAS,IAAM5Y,GAAK8M,EAAOmG,WAAWkC,KAAK0D,EAAOC,CAAS,EAAEF,EACpH,CAAA,EACI5Y,EAAJ,EAAQ8M,EAAOmG,WAAWkC,KAAK0D,EAAOC,CAAS,EAAEF,EAAS,EAAI5Y,GAAK8M,EAAOmG,WAAWkC,KAAK0D,EAAS,EAAEC,CAAS,EAAEF,CACjH,EAAE,GAAK,EAAG5Y,IAAM6Y,CAAM,GAAG7Y,GAAK,EAGhC,CACA,OAAOnI,EAAKO,KAAK,KAAKiC,KAAK0c,UAAU,EAAEkC,GAAevf,OAAO+G,OAAOpG,KAAK6e,CAAI,EAAErhB,EAAKkF,QAAQ,EAAE,CAC/F,CAAC,CAAC,CACH,CACAiY,UAAU,OAAO3a,KAAKyE,MAAMkW,GAAI,CAChCH,UAAU,OAAOxa,KAAKyE,MAAM+V,GAAI,CAChCwE,WAAW,OAAOhf,KAAKyE,MAAM+V,IAAIwC,YAAa,CAC9CiC,WAAW,OAAOjf,KAAKyE,MAAM+V,IAAIyC,aAAc,CAC/CnI,YAAY,OAAO9U,KAAKyE,MAAMtD,KAAK2T,KAAM,CACzCA,UAAUA,GAAO9U,KAAKyE,MAAMtD,KAAK2T,MAAQ9U,KAAKyE,MAAMjH,KAAK8e,OAAOxH,MAAQA,GAAS,GAAI,CACrFC,aAAa,OAAO/U,KAAKyE,MAAMtD,KAAK4T,MAAO,CAC3CA,WAAWA,GAAQ/U,KAAKyE,MAAMtD,KAAK4T,OAAS/U,KAAKyE,MAAMjH,KAAK8e,OAAOvH,OAASA,GAAU,GAAI,CAC1F5T,WAAW,OAAOnB,KAAKyE,MAAMtD,IAAK,CAClCA,SAASA,GAASA,aAAgB+d,oBAAmBlf,KAAKyE,MAAMkW,KAAO3a,KAAKyE,MAAMtD,KAAOA,GAAMmZ,WAAW,IAAI,EAAE,CAChHI,sBAAsB,OAAO1a,KAAKic,OAAOle,KAAK,IAAIiC,KAAKyE,MAAMiW,eAAe,CAAE,CAC9EA,oBAAoBA,GAAiB1a,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAIiC,KAAKyE,MAAMiW,gBAAkBA,CAAe,CAAE,CACvIld,WAAW,OAAOwC,KAAKyE,MAAMjH,KAAK8e,MAAO,CACzC9e,SAAS6c,GAAK,OAAOra,KAAKyE,MAAMoB,IAAIrG,KAAKQ,KAAKqa,CAAG,EAAEtc,KAAK,KAAKiC,KAAKyE,MAAMjH,KAAK+e,UAAUvc,KAAKwa,IAAI,EAAE,CAAC,EAAE,CAAA,GAAMxa,KAAK4c,UAAU1d,KAAKc,KAAKqa,CAAG,CAAC,CAAE,CAC1I1K,cAAc,OAAO3P,KAAKic,OAAOle,KAAK,IAAIiC,KAAKyE,MAAMkW,IAAIwE,WAAW,CAAE,CAEtExP,YAAYyP,GACX9Z,MAAMqB,QAAQyY,CAAa,IAAMA,EAAgB,CAACA,IAClDpf,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAIqhB,EAAc,EAAE,EACpErhB,KAAKgF,IAAQ/C,KAAKyE,MAAMkW,IAAIwE,YAAcpc,GAASqc,EAAc,IAAM,EAAG,CAAC,CAC5E,CAEA7B,gBAAgB6B,GACf9Z,MAAMqB,QAAQyY,CAAa,IAAMA,EAAgB,CAACA,IAClDpf,KAAKic,OAASta,QAAQK,QAAQhC,KAAKic,MAAM,EAAEle,KAAK,IAAIqhB,EAAc,EAAE,EACpErhB,KAAKgF,IAAQ/C,KAAKyE,MAAMjH,KAAK2hB,YAAcpc,GAASqc,EAAc,IAAM,EAAG,CAAC,CAC7E,CACAnD,OAAS/X,SAASrF,IAQlB0J,YAAY5E,EAAGmR,EAAMC,EAAOxQ,KAAeuB,GAC1C,IAAM3E,EAAsB,UAAd,OAAOwC,EAAuCvC,SAASie,eAAe1b,CAAE,GAA7CA,EAAK,GAAG,CAAA,GACjDxC,GAA6C,WAArCA,EAAK6N,QAAQsQ,kBAAkB,GACvCpb,SAAShG,MAAM,sDAAsD,EACrEuF,YAAYyK,MAAMvK,EAAG,CAACxC,CAAI,EAC1B8J,MAAM,CAAC9J,KAAMA,GAAQsC,YAAY+M,YAAY,SAAS,CAAC7M,GAAAA,CAAE,CAAC,CAAC,EAAE,CAACA,GAAAA,CAAE,EAAEY,EAAY,GAAGuB,CAAW,EAE5F9F,KAAKyE,MACLzE,KAAK8U,MAAQA,EACb9U,KAAK+U,OAASA,EACd/U,KAAKyE,MAAMkW,IAAM3a,KAAKyE,MAAMtD,KAAKmZ,WAAW,IAAI,CACjD,CACD,EACIzB,iBAEEA,mBAAmBpV,YAExBgB,2BAAwC8H,WAAW9H,MAElDqV,QAEAyF,SACD,EACAC,WAAY,WACLC,EAAWC,WAAW,OAAOD,EAAWC,IAAK,CAACC,cAAc,OAAOF,EAAWE,OAAQ,CAAC,CAwC7F,OAvCAF,EAAWG,OAAQ,KAClB,IAAMpiB,EAAOqiB,GAAUA,EAASC,OAAS,IAAM,CAAC,CAACD,GAAYhH,WAAW3a,MAAM,kBAAkB,EAChG,OAAOiB,GAA8C,UAA/BiC,SAAS2e,SAASC,SAAuBpiB,GAAMgiB,MAAMhiB,EAAK,CAACqiB,KAAK,SAAS,CAAC,EAAEliB,KAAKP,CAAI,EAC3GI,GAAMgiB,MAAMhiB,CAAI,EAAEG,KAAKP,CAAI,CAC3B,GAAE,EAEHiiB,EAAWC,KAAOtgB,EAAW,MAAQxB,GAAOgD,UAAU+B,WAAW,CAACC,QAASqE,MAAM9I,EAAY,IAAI,EAAE0E,MAAO,MAAM,EAAEjF,CAAI,EACrHA,GAAM6hB,EAAWG,MAAMhiB,CAAI,EAAEyF,MAAMrF,GAAG,CAACA,EAAE,EAE1CyhB,EAAWE,QAAUvgB,EACrB,MAAQxB,GAAOgD,UAAU+B,WAAW,CAACC,QAASqE,MAAM9I,EAAY,IAAI,EAAE0E,MAAO,SAAS,EAAEjF,CAAI,EAC5F,MAAQA,KAAQsiB,KAAW,IAC1B,IACeC,EADTza,EAASwa,EAAQxa,OACnBC,EAAID,EAED,IADP,MAAMuI,KAAKrQ,CAAI,IAAMA,GAAQ,KACV,EAAN+H,CAAE,IACd,GAAGL,MAAMqB,QAAQuZ,EAAQva,EAAE,EAC1B,IAAIwa,EAAWD,EAAQva,GAAGD,OAAoB,EAAbya,CAAS,IAAQD,EAAQva,GAAGwa,GAAYriB,OAAOoiB,EAAQva,GAAGwa,EAAS,MADrG,CAIA,IAAMC,EAAMtiB,OAAOoiB,EAAQva,EAAE,EAC7B,GAAG,OAASya,EAAI,GAAI,OAAOA,EAAI,IAC9B,IAAK,IAAKF,EAAQva,GAAK,uDAAuD,MAC9E,IAAK,IAAKua,EAAQva,GAAK,YACxB,MACKua,EAAQva,GAAK,CAACya,EANnB,CASD,IADA,IAAMC,EAAW,GAAGC,EAAmB,GAAGC,EAAe,GAC/C/iB,EAAO8H,MAAMI,CAAM,EAAE8a,KAAK,CAAC,EAAE,EAAE,OAAQhjB,IAAO,CAEvD,IADA2iB,EAAW,GACPxa,EAAI,EAAEA,EAAID,EAAOC,CAAC,GAAIwa,GAAUD,EAAQva,GAAGnI,EAAKmI,IAGpD,IAFA2a,EAAiBpX,KAAKiX,CAAQ,EAAEA,EAAWviB,EAAKuiB,EAASE,EAASnX,KAAKuW,EAAWC,KAAKS,CAAQ,CAAC,EAE5F3iB,GAAMmI,EAAID,GAAU,EAAE,GAAS,EAANC,CAAE,IAAQua,EAAQva,GAAGD,OAASlI,EAAKmI,KAAOnI,EAAKmI,GAAK,EAAEnI,EAAKmI,EAAI,EAAE,GAC/F,CAEA,IADA,IAAM8a,EAAaxZ,MAAMtF,QAAQ6J,IAAI6U,CAAQ,EAAEK,EAAQD,EAAW/a,OAC9DC,EAAI,EAAEA,EAAI+a,EAAM/a,CAAC,GAAI8a,EAAW9a,GAAG,IAAM1G,EAAIshB,EAAarX,KAAKoX,EAAiB3a,EAAE,EAAE2a,EAAiB3a,EAAE,EAC3G,MAAO,CAAC,KAAK4a,EACU,CAAvB,MAAMviB,GAAG,MAAO,CAACA,EAAE,GAAI,CAAE,EACnB,IAAIyhB,CACX,GAAE,EACHkB,0BAA4BxhB,GAAe0C,iBAAiB,QAAc7D,MAAAA,IACzE,GAAGA,EAAEwM,OAAO0C,UAAUsC,SAAS,YAAY,EAAG,IAAI,IAAMhS,KAAQ+O,WAAWG,YAAY1O,EAAEwM,MAAM,EAAG,GAAGhN,aAAgBqb,WAAW,CAC/H,IAAI,IAAM+H,GAAM,MAAO/H,WAAWgI,KAAKrjB,CAAI,GAAG,GAAGojB,EAAMpjB,EAAKsc,UAAU8G,CAAG,EAAIpjB,EAAK+hB,YAAY,CAA6B,CAA1B,MAAMvhB,GAAGC,QAAQC,MAAMF,CAAC,CAAE,CAC3HR,EAAKgK,OAAO,CAAA,CAAI,EAChBhK,EAAKmH,QAAQ,EACb,KACD,CACD,CAAC,EAAE,CAAC5F,SAAU,CAAA,EAAMC,WAAY,CAAA,EAAM8hB,aAAc,CAAA,CAAK,GACzDC,0BAA0BC,GAAM,OAAOrf,QAAQK,QAC9Cgf,aAAgBC,YAAcD,EAAOC,YAAYC,OAAOF,CAAI,EAAIA,EAAKG,QACrEH,aAAgBlE,KAAOkE,EAAqB,IAAIlE,KAAKxX,MAAMqB,QAAQqa,CAAI,EAAIA,EAAKla,KAAK,EAAE,EAAIhJ,OAAOkjB,CAAI,CAAC,GAA3EI,YAAY,CACzC,CAAE,CAEFP,YACCzhB,EAAW,MAAQiiB,IAAc,IAChC,GAAG,WAAaA,EAAWrQ,KAAK,CAC/B,IAAMxT,EAAO6jB,EAAW7jB,KAAK8jB,MAC7B,OAAOD,EAAW7jB,KAAK8R,MAAM,EAAErI,MAAMrG,UAAU4B,OAAO,IAAIhF,IAAS6jB,EAAW7jB,KAAK8jB,MAAM,EAAE,EAAE,EAC9F,CACA,IAAM9B,EAAKvY,MAAM9I,EAAY,IAAI,EACjC,IAAM6iB,EAAO/Z,MAAMoa,EAAWE,WAAW,EACnC,CAAClhB,EAAGoS,EAAS,OAAO+O,EAAGjD,EAAS,EAAE,EAAI,aAAazL,KAAKuO,EAAW7jB,KAAKikB,QAAQ,GAAK,GACrFza,EAASC,MAAMrG,UAAU+B,WAAW,CAACC,QAAS4c,EAAG3c,MAAO,MAAM,EAAE,KAAKwe,EAAW7jB,KAAKikB,QAAQ,EAEnG,GADIza,GAAQhH,KAAK9B,MAAM,iBAAiB,EACrC8I,EAAO,GAAI,OAAO6R,WAAWkI,mBAAmBC,CAAI,EACvDjjB,KAAK2jB,GAAI9gB,UAAU+B,WAAW,CAACC,QAAS4c,EAAG3c,MAAO,WAAW,EAAE,KAAKwe,EAAW7jB,KAAKikB,SAASE,OAAOpc,KAAKmc,CAAE,CAAC,CAAC,EAC7G,IAAI,IAAI/b,EAAI,GAAOA,CAAC,GAAG,CAAT,EAAS,CACtB,IAAM/H,EAAO,KAAK6U,EAAO,MAAM9M,EAAE4Y,EACjC,IAAG,MAAO3d,UAAU+B,WAAW,CAACC,QAAS4c,EAAG3c,MAAO,MAAM,EAAEjF,CAAI,GAAG,GAAI,OAAOib,WAAWkI,mBAAmBC,CAAI,EAC/GjjB,KAAK2jB,GAAI9gB,UAAU+B,WAAW,CAACC,QAAS4c,EAAG3c,MAAO,WAAW,EAAEjF,EAAK+jB,OAAOpc,KAAKmc,CAAE,CAAC,CAAC,CACrF,CAAA,CACoB,CAApB,MAAM1jB,GAAG,MAAO,CAACA,EAAG,CAAE,GACvB,KACC,IAAM6e,EAASmE,GAAM,IAAIlE,KAAKkE,CAAI,EAClC,OAAOhF,MAAOqF,IAAc,IAC3B,GAAG,WAAaA,EAAWrQ,KAAK,CAC/B,IAAMxT,EAAO6jB,EAAW7jB,KAAK8jB,MACtBD,EAAW7jB,KAAK8R,MAAM,EAAErI,MAAMrG,UAAU4B,OAAO,IAAIhF,IAAS6jB,EAAW7jB,KAAK8jB,MAAM,EAAE,CAC5F,KAHA,CAIA,IAAMN,EAAO/Z,MAAMoa,EAAWE,WAAW,EACnCK,EAAOC,IAAIC,gBAAgB7a,MAChB,UAAhB,OAAO+Z,EAAoB,IAAIlE,KAAK,CAACkE,EAAK,EAAIA,aAAgBlE,KAAOkE,EAAOnI,WAAWkI,mBAAmBC,CAAI,EAAEjjB,KAAK8e,CAAM,EAC3H,EACMwE,EAAW7jB,KAAKokB,KAAOA,EAAKP,EAAW7jB,KAAK8R,MAAM,EAAEuS,IAAIE,gBAAgBH,CAAI,CALnF,CAKA,MAAqF,EACjE,CAApB,MAAM5jB,GAAG,MAAO,CAACA,EAAG,CAAC,CACtB,GAAE,EAEJ6iB,OAAO,OAAOhI,WAAWgI,KAAK7gB,IAAI,CAAE,CACpCkI,SAASnF,GAAO,OAAO/C,KAAKmB,KAAKnB,KAAK0D,KAAO5F,OAAOiF,CAAK,EAAE,CAAA,CAAM,CAEjEue,YAAY,MAAO,WAAathB,KAAKgR,KAAOhR,KAAKxC,KAAK8jB,MAAQthB,KAAK9B,MAAM,mCAAoC,CAAE,CAC/G4b,cAAc,OAAO9Z,KAAKyE,MAAMqV,OAAQ,CACxCA,YAAYA,GAAS9Z,KAAKyE,MAAMqV,QAA6B,YAAnB,OAAOA,EAAyBA,EAAU,IAAK,CACzFyF,gBAAgB,OAAOvf,KAAKyE,MAAM8a,SAAU,CAC5CA,cAAcA,GAAWvf,KAAKyE,MAAM8a,UAAiC,YAArB,OAAOA,EAA2BA,EAAY,IAAK,CACnGY,eAAe,MAAO,WAAangB,KAAKgR,KAAOhR,KAAK9B,MAAM,4BAA4B,EAAI8B,KAAKxC,KAAKikB,QAAS,CAC7GtB,aAAaA,GACZ,WAAangB,KAAKgR,MAAQhR,KAAK9B,MAAM,4BAA4B,EAC7C,UAApB,OAAOiiB,GAAyBngB,KAAK9B,MAAM,4CAA4C,EACpFkB,GAAY,CAAC,QAAQ6O,KAAKkS,CAAQ,IAAGA,EAAW,KAAKA,GACxDngB,KAAKxC,KAAKikB,SAAWtB,CACtB,CAEAoB,WAUAhZ,YAAYyZ,EAAW7B,EAASoB,EAAW,CAAC1d,UAAAA,EAAUiW,QAAAA,EAAQyF,UAAAA,CAAS,EAAI,IAC1EtU,MAAM,CAAC9J,KAAMC,SAASC,cAAc,KAAK,EAAEqC,IAAK,WAAW,CAAC,EAE5D1D,KAAKyE,MACLzE,KAAK8Z,QAAUA,EACf9Z,KAAKuf,UAAYA,EACjBvf,KAAKuhB,WAAaA,EAClBvhB,KAAK+C,MAAQc,EACbme,EAAa7X,QAAQ6X,CAAU,EAC/BhiB,KAAKxC,KAAO4D,SAASC,cAAc2gB,EAAa,IAAM,OAAO,EAC7DthB,QAAQC,eAAeX,KAAK,OAAO6Y,WAAW8H,iBAAiB,EAC/D3gB,KAAKgR,KAAOgR,GAAchiB,KAAKmgB,SAAWA,GAAY,OAAO,aAAengB,KAAKxC,KAAKwT,KAAO,OAAO,UACpGtQ,QAAQC,eAAeX,KAAK,OAAO6Y,WAAW8H,iBAAiB,CAChE,CACD,EACI7H,iBAAmBA,mBAAmBrV,YAEzCgB,2BAAwC8H,WAAW9H,MAElDqF,KAAO,EACR,EAMAvC,cAAcvB,EAASrB,EAAQ,CAAA,EAAK6C,EAAS,CAAA,EAAKC,EAAS,CAAA,GAAM,IAGhE,IAFA,IAAI1E,EAAM4C,EACJnI,EAAOwC,KAAK0H,uBAAuB1B,CAAQ,EAC3CxI,EAAKkI,QAAO,CACjB,IAAMiC,EAAWnK,EAAKuG,IAAI,EAAE6D,QAAQ,EAAEqa,EAAYjc,EAASjD,MAC3D,GAAI4E,CAAAA,EAASjC,OAAQ,OAAO1F,KAAK6H,QAAQoa,EAAUtd,EAAM6C,EAAOC,CAAM,EAErE,IADA1E,EAAQ/C,KAAKyE,MAAM1B,MACK,EAAlB4E,EAASjC,QAAY3C,EAAQA,EAAM4E,EAAS5D,IAAI,GAEtD,GADAke,IAAclf,EAAM4E,EAAS,MAAQ5E,EAAM4E,EAAS,IAAMsa,GACvDlf,IAAU/C,KAAKyE,MAAM1B,MAAM,CAC7B4C,EAAI,EACA,IAAI,IAAMjC,KAAOrE,OAAOgI,KAAKtE,CAAK,EAAG,CAAA,GAAGW,IAAQiE,EAAS,GAAY,CACxE3H,KAAKyE,MAAMqF,KAAKnE,GAAG5C,MAAQjF,OAAOmkB,CAAS,EAC3C,KACD,CAHiEtc,CAAC,EAGlE,CACD,CAEF,CACA,OAAOhB,GAAS3E,KAAK2E,QAAQ8C,CAAM,EAAED,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,CAIpE,CAHC,MAAMzJ,GACN,GAAGgC,gBAAgB8Y,WAAY,MAAM9a,EACrCgC,KAAK9B,MAAM,+CAA+C8B,MAAMoE,KAAK,OAAOpG,EAAEmG,OAAO,CACtF,CAAC,CAKD+D,SAASnF,GAAO,OAAO/C,KAAKyE,MAAM1B,MAAQ1D,OAAO+G,OAAO,GAAGrD,CAAK,EAAE,CAAA,CAAK,CACvE8J,MAGC,OAFA7M,KAAKmB,KAAKnB,KAAK0D,KAAO1D,KAAK8M,eAAe9M,KAAKyE,MAAM1B,KAAK,EAC1D/C,KAAKyE,MAAMqF,KAAOxE,MAAMC,KAAKvF,KAAKmB,KAAK+gB,QAAQ,EACxCliB,IACR,CACAmiB,iBAEC,IADA,IAAIxc,EAAI3F,KAAKyE,MAAMqF,KAAKpE,OAAOlI,EAAO,GAC1B,EAANmI,CAAE,IAAO3F,KAAKyE,MAAMqF,KAAKnE,GAAGyc,UAAY5kB,EAAK0L,KAAKvD,CAAC,EACzD,OAAOnI,EAAKoK,QAAQ,CACrB,CAKAG,WAEC,IADA,IAAMsa,EAAa,GAAGvY,EAAO9J,KAAKyE,MAAMqF,KAAKD,EAAMC,EAAKpE,OAChDC,EAAI,EAAEA,EAAIkE,EAAIlE,CAAC,GAAImE,EAAKnE,GAAGyc,UAAYC,EAAWnZ,KAAKY,EAAKnE,GAAG5C,KAAK,EAC5E,OAAOsf,CACR,CAKAvV,eAAe/J,EAAMuf,EAAaxkB,OAAOkC,KAAKsiB,UAAU,EAAEC,EAAezkB,OAAOkC,KAAKuiB,YAAY,GAE7FviB,gBAAgB8Y,YAAc,CAAC9Y,KAAKmB,KAAKqhB,WAAUzf,EAAQ1D,OAAO+G,OAAO,EAAEkc,GAAaC,CAAY,EAAExf,CAAK,GAE9G,IAHA,IAAIlE,EAEEgF,EAAY,GAAG4e,EAAWpjB,OAAO4G,QAAQlD,CAAK,EAAE2f,KAAK,CAACC,EAAEC,IAAID,EAAE,GAAGE,cAAcD,EAAE,EAAE,CAAC,EAAEF,KAAK,CAACC,EAAEC,IAAID,EAAE,GAAKC,EAAE,EAAE,EAAE5Z,OAAO,EACtH,EAAEnK,EAAM4jB,EAASxZ,KAAK,GAAGjB,MAC9BnE,EAAUqF,uBAAuBpL,OAAOe,EAAIkE,MAAM,EAAE,MAAMlE,EAAIkE,MAAM,KAAOuf,EAAa,WAAa,MAAMzjB,EAAIkE,MAAM,aAAa,EACnI,OAAOc,EAAUiD,KAAK,EAAE,CACzB,CAEAgD,WAAW,OAAO9J,KAAKyE,MAAMqF,IAAK,CAWlCvB,YAAY5E,EAAG6e,EAASM,EAAave,EAAY+d,EAAWC,EAAaQ,GACxE,IAAM5hB,EAAsB,UAAd,OAAOwC,EAAuCvC,SAASie,eAAe1b,CAAE,GAA7CA,EAAK,GAAG,CAAA,GAC9CxC,IAA2C,WAArCA,EAAK6N,QAAQsQ,kBAAkB,EAAiBjgB,OAAO+G,OAAOjF,EAAK,CAACqhB,SAAAA,EAASO,SAAAA,CAAQ,CAAC,EAC/F7e,SAAShG,MAAM,sDAAsD,GACrEuF,YAAYyK,MAAMvK,EAAG,CAACxC,CAAI,EAC1B8J,MAAM,CACLvH,IAAK,YAAYvC,KAAMA,GAAQsC,YAAY+M,YAAY,SAAS,CAAC7M,GAAAA,EAAG6e,SAAAA,EAASO,SAAAA,CAAQ,CAAC,CACvF,EAAE,CAACpf,GAAAA,EAAGC,UAAWvE,OAAO+G,OAAO,GAAG0c,CAAY,CAAC,EAAEve,CAAW,EACpCvE,KAAKyE,MAC7BzE,KAAKsiB,WAAaA,GAAc,IAChCtiB,KAAKuiB,aAAeA,GAAgB,GACpCviB,KAAK6M,IAAI,CACV,CACD,EACIkM,iBAAmBA,mBAAmBtV,YAEzCuf,sBAAwB,IAAI1e,IAU5B2e,yBAAyBjW,EAAUkW,EAAQC,EAAW5e,EAAY6e,EAActgB,GAC/E,kBAAkBmL,KAAKjB,CAAS,GAAKhN,KAAK9B,MAAM,uBAAuB,EACvE8B,KAAKgjB,eAAe/Y,IAAI+C,CAAS,GAAKhN,KAAK9B,MAAM,wBAAwB,EACzEilB,IAAahhB,OAAOsgB,WAAaziB,KAAK9B,MAAM,8BAA8B,EAC1E8B,KAAKgO,YAAY,IAAIhB,EAAUoW,CAAa,EAC5CpjB,KAAKgjB,eAAend,IAAImH,EAAU,CAACkW,EAAQC,EAAW5e,EAAgC,YAApB,OAAOzB,EAA0BA,EAAW,KAAK,CACpH,CACAugB,yBAAyBrW,KAAa9H,GACrC,IAAMiB,EAASnG,KAAKgjB,eAAene,IAAImI,CAAS,EAE1CxP,GADN2I,GAAUnG,KAAK9B,MAAM,yBAAyB,EACjC,IAAI6a,WAAW,GAAG5S,EAAO,GAAGA,EAAO,GAAGA,EAAO,EAAE,GAC5D,OAAOA,EAAO,GAAGK,MAAMhJ,EAAK0H,CAAQ,EAAE1H,EAAKyP,aAAaD,CAAS,EAAExP,CACpE,CACAqP,MAGC,IAFA,IAAIrP,EAAOwC,KAAKyM,UAAUzM,KAAKyE,MAAM1B,KAAK,EAAEiJ,EAAIxO,EAAKkI,OAAOC,EAAI,EAC1D2d,EAAc7f,YAAYoM,oBAAoBI,OAAO,EACrDtK,EAAIqG,GAAGsX,EAAY7R,YAAYjU,EAAKmI,CAAC,GAAG,EAG9C,OAFA3F,KAAKmB,KAAK0C,UAAY,GACtB7D,KAAKmB,KAAKsQ,YAAY6R,CAAW,EAC1BtjB,IACR,CACA8M,eAAe/J,GACd,GAAIA,IAAQZ,OAAOsgB,UAAiE,CACnF,IACUjlB,EADJsM,EAAO,GACb,IAAUtM,KAAQuF,EAAO+G,EAAKZ,KAAK1L,aAAgBc,EAAUd,EAAO4D,SAASC,cAAcvD,OAAON,CAAI,CAAC,CAAC,EACxG,OAAOsM,CACR,CAJ8B,MAAM,IAAI7G,MAAM,gCAAgC,CAK/E,CAKAiF,SAASnF,GACR,GAAIA,IAAQZ,OAAOsgB,UAAiE,CAMnF,IAJA,IAAMc,EAAQvjB,KAAKyE,MAAM1B,MAAMZ,OAAOsgB,UAAU,EAC1Ce,EAAQzgB,EAAMZ,OAAOsgB,UAAU,EAE/BjlB,EAAO8H,MAAM,CAAC,EACb9H,EAAK,GAAK+lB,EAAMta,KAAK,EAAEzL,EAAK,GAAKgmB,EAAMva,KAAK,EAAE,CAACzL,EAAK,GAAGwK,KAAOxK,EAAK,GAAGwK,MACzExK,CAAAA,EAAK,GAAGwK,MACX,GAAGxK,EAAK,GAAGuF,QAAUvF,EAAK,GAAGuF,MAAO,OAAO/C,KAAKyE,MAAM1B,MAAQuC,MAAMC,KAAKxC,CAAK,EAAE,CAAA,EAEjF,MAAO,CAAA,CACR,CAX8B,MAAM,IAAIE,MAAM,gCAAgC,CAY/E,CASAsF,YAAY5E,EAAGuf,EAAQC,EAAW5e,EAAYkf,GAC7C,IAAMtiB,EAAsB,UAAd,OAAOwC,EAAuCvC,SAASie,eAAe1b,CAAE,GAA7CA,EAAK,GAAG,CAAA,GACjDF,YAAYyK,MAAMvK,EAAG,CAACxC,CAAI,EAC1B8J,MAAM,CAAC9J,KAAMA,GAAQsC,YAAY+M,YAAY,MAAM,CAAC7M,GAAAA,CAAE,CAAC,CAAC,EAAE,CACzDA,GAAAA,EAAGC,UAAYuf,IAAahhB,OAAOsgB,UAAiBnd,MAAMC,KAAK4d,CAAU,EAA1B,EAChD,EAAE5e,CAAW,EAEbvE,KAAKyE,MACLzE,KAAKkjB,QAAUA,EACf7jB,OAAO+G,OAAOpG,KAAK6M,IAAI,EAAE1L,KAAKsiB,CAAU,CACzC,CACD,EACIpU,kBAAoBA,oBAAoB5L,YAE3CgB,2BAAsC8H,WAAW9H,MAEhDqF,KAAO,GAEP4Z,aAAe,EAChB,EAEAC,uBAAyB,IAAIrf,IAQ7Bsf,kBAAkBle,EAAS,EAAEsJ,EAAQrL,EAAG8f,GAEvC,IADA,IAAMjmB,EAAO,GACI,EAAXkI,CAAO,IAAOlI,EAAK0L,KAAK9H,SAASC,cAAc2N,CAAO,CAAC,EAC7D,OAAO,IAAIK,YAAY1L,EAAG,CAAA,EAAKnG,EAAK6R,YAAY9K,YAAYkf,CAAU,CACvE,CAMAlc,cAAcvB,EAASrB,EAAQ,CAAA,EAAK6C,EAAS,CAAA,EAAKC,EAAS,CAAA,GAAM,IAGhE,IAFA,IAAI1E,EACEvF,EAAOwC,KAAK0H,uBAAuB1B,CAAQ,EAC3CxI,EAAKkI,QAAO,CACjB,IAAMiC,EAAWnK,EAAKuG,IAAI,EAAE6D,QAAQ,EAAEf,OAAO,EAAEob,EAAYjc,EAASjD,MACpE,GAAI4E,CAAAA,EAASjC,OAAQ,OAAO1F,KAAK6H,QAAQoa,EAAUtd,EAAM6C,EAAOC,CAAM,EAErE,IADA1E,EAAQ/C,KAAKyE,MAAM1B,MACK,EAAlB4E,EAASjC,QAAY3C,EAAQA,EAAM4E,EAAS5D,IAAI,GACtDke,IAAclf,EAAM4E,EAAS,MAAQ5E,EAAM4E,EAAS,IAAMsa,GACvDlf,IAAU/C,KAAKyE,MAAM1B,SAAQ4E,EAAS,GAAK3H,KAAKyE,MAAMqF,KAAKnC,EAAS,KAAK9D,UAAY,IACxFoe,aAAqB3jB,EAAUqJ,EAAS,GAAG8J,YAAYwQ,CAAS,EAChEta,EAAS,GAAG3H,KAAKkjB,QAAU,YAAc,eAAiBjB,CAE5D,CACA,OAAOtd,GAAS3E,KAAK2E,QAAQ8C,CAAM,EAAED,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,CAIpE,CAHC,MAAMzJ,GACN,GAAGgC,gBAAgBqP,YAAa,MAAMrR,EACtCgC,KAAK9B,MAAM,+CAA+C8B,MAAMoE,KAAK,OAAOpG,EAAEmG,OAAO,CACtF,CAAC,CAUD0f,0BAA0B7W,EAAUkW,EAAQC,EAAW5e,EAAY6e,EAActgB,GAChF,kBAAkBmL,KAAKjB,CAAS,GAAKhN,KAAK9B,MAAM,uBAAuB,EACvE8B,KAAK2jB,gBAAgB1Z,IAAI+C,CAAS,GAAKhN,KAAK9B,MAAM,wBAAwB,EAC1EilB,IAAahhB,OAAOsgB,WAAaziB,KAAK9B,MAAM,8BAA8B,EAC1E8B,KAAKgO,YAAY,IAAIhB,EAAUoW,CAAa,EAC5CpjB,KAAK2jB,gBAAgB9d,IAAImH,EAAU,CAACkW,EAAQC,EAAW5e,EAAgC,YAApB,OAAOzB,EAA0BA,EAAW,KAAK,CACrH,CACAugB,yBAAyBrW,KAAa9H,GACrC,IAAMiB,EAASnG,KAAK2jB,gBAAgB9e,IAAImI,CAAS,EAE3CxP,GADN2I,GAAUnG,KAAK9B,MAAM,yBAAyB,EACjC,IAAImR,YAAY,GAAGlJ,EAAO,GAAGA,EAAO,GAAGA,EAAO,EAAE,GAC7D,OAAOA,EAAO,GAAGK,MAAMhJ,EAAK0H,CAAQ,EAAE1H,EAAKyP,aAAaD,CAAS,EAAExP,CACpE,CAKAuK,WAAW,OAAO/H,KAAKyE,MAAMqF,IAAK,CAKlC5B,SAASnF,GAAO,OAAO/C,KAAKyE,MAAM1B,MAAQuC,MAAMC,KAAKxC,CAAK,EAAE,CAAA,CAAK,CAKjE+J,eAAe/J,GACd,IAAcvF,EAAVsM,EAAO,GACX,GAAI/G,IAAQZ,OAAOsgB,UAAiE,CAEnF,IADA,IAAM1Z,EAAOhG,EAAMZ,OAAOsgB,UAAU,EAC9B,EAAEjlB,EAAOuL,EAAKE,KAAK,GAAGjB,MAC3B8B,EAAKZ,KAAK1L,EAAKwK,KAAO5G,SAASC,cAAc,KAAK,CAAC,EACnD7D,EAAKuF,iBAAiBzE,EAAUd,EAAKwK,KAAKyJ,YAAYjU,EAAKuF,KAAK,EAChEvF,EAAKwK,KAAKhI,KAAKkjB,QAAU,YAAc,eAAiBplB,OAAON,EAAKuF,KAAK,EAE1E,OAAO+G,CACR,CAR8B,MAAM,IAAI7G,MAAM,gCAAgC,CAS/E,CAOA6gB,UAAUC,EAAcrgB,GAEvB,IAC+BlG,EADzBsM,EAAOzK,OAAO+F,OAAO,IAAI,EAC3BO,EAAI3F,KAAKyE,MAAMqF,KAAKpE,OACxB,GAAGqe,EAAe,KAAY,EAANpe,CAAE,IAAoD,GAA5CnI,EAAOwC,KAAKyE,MAAMif,aAAa/d,IAAID,QAAc,CAAClI,EAAK,IAAImG,KAC5FmG,EAAKtM,EAAK,GAAGmG,IAAM,IAAIF,YAAY,CAACtC,KAAMnB,KAAKyE,MAAMqF,KAAKnE,GAAGjC,IAAAA,CAAG,CAAC,QAC7D,KAAY,EAANiC,CAAE,IAAoD,GAA5CnI,EAAOwC,KAAKyE,MAAMif,aAAa/d,IAAID,QAAc,CAAClI,EAAK,IAAImG,KAC/EmG,EAAKtM,EAAK,GAAGmG,IAAM3D,KAAKyE,MAAMqF,KAAKnE,IACpC,OAAOmE,CACR,CAKAka,mBAEC,IADA,IAAMxmB,EAAOwC,KAAKyE,MAAMqF,KAAKjD,OAAO,EAC5BlB,EAAInI,EAAKkI,OAAa,EAANC,CAAE,IAAQnI,EAAKmI,GAAK,IAAIlC,YAAY,CAACtC,KAAM3D,EAAKmI,EAAE,CAAC,EAC3E,OAAOnI,CACR,CACAqP,MAKC,IAJA,IAAIlH,EAAI,EAEFmE,EAAO9J,KAAKyE,MAAMqF,KAAO9J,KAAKyM,UAAUzM,KAAKyE,MAAM1B,KAAK,EAAE2gB,EAAe1jB,KAAKyE,MAAMif,aAAe,GACnGJ,EAAc7f,YAAYoM,oBAAoBI,OAAO,EACrDtK,EAAImE,EAAKpE,QAAQge,EAAaxa,KAAK5D,MAAMC,KAAK+d,EAAY7R,YAAY3H,EAAKnE,CAAC,GAAG,EAAEuc,QAAQ,CAAC,EAGhG,OAFAliB,KAAKmB,KAAK0C,UAAY,GACtB7D,KAAKmB,KAAKsQ,YAAY6R,CAAW,EAC1BtjB,IACR,CAEA0jB,mBAAmB,OAAO1jB,KAAKyE,MAAMif,YAAa,CASlDnb,YAAY5E,EAAGuf,EAAQC,EAAW5e,EAAYkf,GAC7C,IAAMtiB,EAAsB,UAAd,OAAOwC,EAAuCvC,SAASie,eAAe1b,CAAE,GAA7CA,EAAK,GAAG,CAAA,GACjDF,YAAYyK,MAAMvK,EAAG,CAACxC,CAAI,EAC1B8J,MAAM,CAAC9J,KAAMA,GAAQsC,YAAY+M,YAAY,MAAM,CAAC7M,GAAAA,CAAE,CAAC,CAAC,EAAE,CACzDA,GAAAA,EAAGC,UAAYuf,IAAahhB,OAAOsgB,UAAiBnd,MAAMC,KAAK4d,CAAU,EAA1B,EAChD,EAAE5e,CAAW,EACSvE,KAAKyE,MAC3BzE,KAAKkjB,QAAUA,EACf7jB,OAAO+G,OAAOpG,KAAK6M,IAAI,EAAE1L,KAAKsiB,CAAU,CACzC,CACD,EACIzK,kBAAoBA,oBAAoB3J,YAM3C9H,cAAcvB,EAASrB,EAAQ,CAAA,EAAK6C,EAAS,CAAA,EAAKC,EAAS,CAAA,GAAM,IAGhE,IAFA,IAAI1E,EACEvF,EAAOwC,KAAK0H,uBAAuB1B,CAAQ,EAC3CxI,EAAKkI,QAAO,CACjB,IAAMiC,EAAWnK,EAAKuG,IAAI,EAAE6D,QAAQ,EAAEqa,EAAYjc,EAASjD,MAC3D,GAAI4E,CAAAA,EAASjC,OAAQ,OAAO1F,KAAK6H,QAAQoa,EAAUtd,EAAM6C,EAAOC,CAAM,EAErE,IADA1E,EAAQ/C,KAAKyE,MAAM1B,MACK,EAAlB4E,EAASjC,QAAY3C,EAAQA,EAAM4E,EAAS5D,IAAI,GACtDke,IAAclf,EAAM4E,EAAS,MAAQ5E,EAAM4E,EAAS,IAAMsa,GACvDlf,IAAU/C,KAAKyE,MAAM1B,QAAO/C,KAAKyE,MAAMif,aAAa/b,EAAS,IAAI,GAAG0S,IAAMvc,OAAOmkB,GAAW5H,KAAO4H,CAAS,EAEjH,CACA,OAAOtd,GAAS3E,KAAK2E,QAAQ8C,CAAM,EAAED,GAAUxH,KAAKwH,OAAOC,CAAM,EAAE,CAAA,CAIpE,CAHC,MAAMzJ,GACN,GAAGgC,gBAAgBgZ,YAAa,MAAMhb,EACtCgC,KAAK9B,MAAM,+CAA+C8B,MAAMoE,KAAK,OAAOpG,EAAEmG,OAAO,CACtF,CAAC,CAKD8f,eAEC,IADA,IAAMzmB,EAAOwC,KAAK0jB,aAAa7c,OAAO,EAC9BlB,EAAInI,EAAKkI,OAAa,EAANC,CAAE,IAAQnI,EAAKmI,GAAKnI,EAAKmI,GAAG,GAAG4I,UAAU,EACjE,OAAO/Q,CACR,CAKAsP,eAAe/J,GACd,IAAcvF,EAAVsM,EAAO,GACX,GAAG,CAAC/G,IAAQZ,OAAOsgB,UAAW,MAAM,IAAIxf,MAAM,gCAAgC,EAE9E,IADA,IAAM8F,EAAOhG,EAAMZ,OAAOsgB,UAAU,EAC9B,EAAEjlB,EAAOuL,EAAKE,KAAK,GAAGjB,MAC3B8B,EAAKZ,KAAK1L,EAAKwK,KAAO5G,SAASC,cAAc,KAAK,CAAC,EACnD7D,EAAKwK,KAAKyJ,YAAYjU,EAAKuF,iBAAiB0X,MAAQjd,EAAKuF,MAAQ1D,OAAO+G,OAAO,IAAIqU,MAAQ,CAACJ,IAAKvc,OAAON,EAAKuF,KAAK,CAAC,CAAC,CAAC,EAEtH,OAAO+G,CACR,CAKA5B,SAASnF,GACR,GAAIA,IAAQZ,OAAOsgB,UAAiE,CAMnF,IAJA,IAAMc,EAAQvjB,KAAKyE,MAAM1B,MAAMZ,OAAOsgB,UAAU,EAC1Ce,EAAQzgB,EAAMZ,OAAOsgB,UAAU,EAE/BjlB,EAAO8H,MAAM,CAAC,EACb9H,EAAK,GAAK+lB,EAAMta,KAAK,EAAEzL,EAAK,GAAKgmB,EAAMva,KAAK,EAAE,CAACzL,EAAK,GAAGwK,KAAOxK,EAAK,GAAGwK,MACzExK,CAAAA,EAAK,GAAGwK,MACX,IAAIxK,EAAK,GAAGuF,OAAOsX,KAAOvc,OAAON,EAAK,GAAGuF,KAAK,MAAQvF,EAAK,GAAGuF,OAAOsX,KAAOvc,OAAON,EAAK,GAAGuF,KAAK,GAC/F,OAAO/C,KAAKyE,MAAM1B,MAAQuC,MAAMC,KAAKxC,CAAK,EAAE,CAAA,EAG9C,MAAO,CAAA,CACR,CAb8B,MAAM,IAAIE,MAAM,gCAAgC,CAc/E,CAQAsF,YAAY5E,EAAGugB,EAAQ3f,EAAYkf,GAAYxY,MAAMtH,EAAG,CAAA,EAAKugB,EAAQ3f,EAAYkf,CAAU,CAAE,CAC9F,EACIxK,mBAAqBA,qBAAqB5J,YAE7C5K,2BAAuC4K,YAAY5K,MAElD0f,UACD,EAEAC,kBAAoB,KAAKjlB,IAAgByB,UAAUc,OAAO3D,KAAK,IAAI0F,YAAYuK,YAAY,gBAAgB,CAE1GqW,aAAc,CAAC5X,UAAY,cAAc,EACzC6X,cAAe,CAAC7X,UAAY,cAAc,CAC3C,CAAC,CAAC,EAAE5K,iBAAiB,YAAY7D,GAAIib,aAAamL,WAAapmB,EAAEwM,MAAO,EAAE3I,iBAAiB,UAAU7D,IAIpG,IAFA,IAAIumB,EAAa/Z,EACXga,EAAQ,CAACha,EAASyO,aAAamL,YAC/B5Z,EAASA,EAAOqD,eAAe2W,EAAMtb,KAAKsB,CAAM,EAEtD,IADA,IAAMia,EAAQ,CAACja,EAASxM,EAAEwM,QACpBA,EAASA,EAAOqD,eAAe4W,EAAMvb,KAAKsB,CAAM,EACtD,GAAGga,EAAMzgB,IAAI,IAAM0gB,EAAM1gB,IAAI,EAA7B,CAEA,IADAyG,EAAS,IACFA,EAAO,GAAKga,EAAMzgB,IAAI,MAAQyG,EAAO,GAAKia,EAAM1gB,IAAI,IAAI,GAAG,CAACygB,EAAM9e,OAAQ,OACjF,GAAM,CAACgf,EAAQC,GAAWna,EAC1B,GAAIka,GAAYC,EAAhB,CAEA,IAAMnnB,EAAOknB,EAAQ7W,cACrB,GAAGrQ,EAAK0P,UAAUsC,SAAS,cAAc,EAAE,CAC1C,IAAI+U,KAAgBhY,WAAWG,YAAYlP,CAAI,EAAG,GAAG+mB,aAAwBtL,aAAc,MAC3F2L,EAAQL,EAAaJ,WACrBS,GAASpa,EAAO,GAAKoa,EAAM5a,QAAQua,EAAa9f,MAAMqF,KAAKE,QAAQQ,EAAO,EAAE,CAAC,IAC5EA,EAAO,GAAKoa,EAAM5a,QAAQua,EAAa9f,MAAMqF,KAAKE,QAAQQ,EAAO,EAAE,CAAC,GACrEoa,EAAMpkB,MAAM,EAAEgK,EAAO,EAAE,EAAE3D,OAAO+d,EAAMpa,EAAO,IAAIoa,EAAMpkB,MAAMgK,EAAO,GAAGA,EAAO,EAAE,EAAEoa,EAAMpkB,MAAMgK,EAAO,GAAK,CAAC,CAAC,EAC5Goa,EAAMpkB,MAAM,EAAEgK,EAAO,EAAE,EAAE3D,OAAO+d,EAAMpkB,MAAMgK,EAAO,GAAK,EAAEA,EAAO,GAAK,CAAC,EAAEoa,EAAMpa,EAAO,IAAIoa,EAAMpkB,MAAMgK,EAAO,GAAK,CAAC,CAAC,EACpH+Z,EAAaM,WAAWD,EAAMF,EAAQC,CAAO,CAC9C,CAX+B,CAJO,CAgBvC,CAAC,IACDG,eACwB9kB,KAAKyE,MAG5B,IADA,IAAMjH,EAAOwC,KAAKmkB,WACVxe,EAAInI,EAAKkI,OAAa,EAANC,CAAE,IAAQnI,EAAKmI,GAAK3F,KAAKyE,MAAMqF,KAAKtM,EAAKmI,IACjE,OAAOnI,CACR,CACAqP,MAIC,IAHA,IAAIlH,EAAI,EAEFmE,EAAO9J,KAAKyE,MAAMqF,KAAO9J,KAAKyM,UAAUzM,KAAKyE,MAAM1B,KAAK,EAAE2gB,EAAe1jB,KAAKyE,MAAMif,aAAe,GACnG/d,EAAImE,EAAKpE,QAAQge,EAAaxa,KAAK5D,MAAMC,KAAKuE,EAAKnE,CAAC,IAAIuc,QAAQ,CAAC,EACvE,OAAOliB,KAAK6kB,WAAW,EAAE,CAC1B,CAQAA,WAAWV,EAAWO,EAAQC,GAK7B,IAJA,IAAMI,EAAgB/kB,KAAKmkB,YAAc,GACnC3mB,EAAO8H,MAAMqB,QAAQwd,CAAU,EAC/Bra,GADiCqa,EAAa3mB,EAAO2mB,EAAW3jB,MAAM,EAAER,KAAKyE,MAAMqF,KAAKpE,MAAM,EAAIqf,EAC3F/kB,KAAKyE,MAAMqF,KAAKjD,OAAO,GAAEnB,EAASoE,EAAKpE,OAAOkS,EAAM5X,KAAKmB,KAAK6jB,UAAUrN,EAAO3X,KAAKmB,KAAK8jB,WAClGtf,EAAID,EACI,EAANC,CAAE,IAAwB,MAAjBwe,EAAWxe,KAAewe,EAAWxe,GAAKA,GAA6B,CAAC,IAA3Bwe,EAAWna,QAAQrE,CAAC,GAAY3F,KAAK9B,MAAM,wBAAwB,EAE/H,GAAY,CAAC,KADbyH,EAAI,CAACof,EAAc/a,QAAQhK,KAAKyE,MAAMqF,KAAKE,QAAQ0a,CAAO,CAAC,EAAEK,EAAc/a,QAAQhK,KAAKyE,MAAMqF,KAAKE,QAAQ2a,CAAO,CAAC,IAC9G,IAAsB,CAAC,IAAVhf,EAAE,GAAWA,EAAE,GAAKA,EAAE,GAAKgf,EAAQO,sBAAsB,WAAWR,CAAO,EAC7FC,EAAQO,sBAAsB,cAAcR,CAAO,MAC/C,CAGH,IADA,IADA/e,EAAI,EACE2d,EAAc7f,YAAYoM,oBAAoBI,OAAO,EACrDtK,EAAID,GAAQ4d,EAAY7R,YAAY3H,EAAKqa,EAAWxe,CAAC,IAAI,EAC/D3F,KAAKmB,KAAK+L,UAAUC,IAAI,WAAW,EACnCnN,KAAKmB,KAAK0C,UAAY,GACtB7D,KAAKmB,KAAKsQ,YAAY6R,CAAW,EACjCtjB,KAAKmB,KAAKgkB,SAAS,CAACvN,IAAAA,EAAID,KAAAA,EAAKyN,SAAU,SAAS,CAAC,EACjDplB,KAAKmB,KAAK+L,UAAUK,OAAO,WAAW,CACvC,CAGA,OAFAvN,KAAKyE,MAAM0f,WAAaA,EACrB3mB,IAAMwC,KAAK2E,QAAQ,EAAE3E,KAAKwH,OAAO,CAAA,CAAI,GACjCxH,IACR,CAEAmkB,iBAAiB,OAAOnkB,KAAKyE,MAAM0f,YAAYtd,SAAS,CAAE,CAC3D,EAOIqS,oBAAsB,CAAC4J,EAAaN,EAASO,IAAW1T,YAAYgU,kBAAkB,gBAAgBP,EAAaN,EAASO,CAAQ,EACxIniB,UAAUc,OAASd,UAAUc,OAC7BmW,QAAQ,IAAIxI,YAAYwU,mBAAmB,gBAAgB,CAAA,EAAM,GAAG,CAAA,EAAK,CACxEhP,GAAI,CAACuC,WAAa,mCAAmC,EACrDiO,OAAQ,CAAChR,mBAAmB,OAAO5H,UAAY,cAAc,EAC7D4X,aAAc,CAAC5X,UAAY,cAAc,EACzC6Y,aAAc,CAACjR,mBAAmB,OAAO5H,UAAY,WAAW8Y,cAAc,QAAQ,CACvF,GAAE,KACD,IAAMC,EAAe,CAACC,QAAS,CAAA,EAAKC,WAAY,CAAA,CAAK,EAErD,SAASC,IAER,IADA,IAAMnoB,EAAO,GAAGsM,EAAO9J,KAAKyE,MAAMqF,KAC1BnE,EAAI,EAAEmE,EAAKnE,GAAGA,CAAC,GAAImE,EAAKnE,GAAGuH,UAAUsC,SAAS,UAAU,GAAKhS,EAAK0L,KAAKlJ,KAAKkB,KAAKiiB,WAAWxd,EAAE,EAEtG,OADA3F,KAAKkB,KAAKshB,UAAYhlB,EAAKkI,QAAU,CAACC,IAAMmE,EAAK,GAAGoD,UAAUC,IAAI,UAAU,EAAE3P,EAAK0L,KAAKlJ,KAAKkB,KAAKiiB,WAAW,EAAE,GACxG3lB,CACR,CAEA,SAASooB,EAAQ7iB,GAChB,IAAI,IAAMW,KACT1D,KAAKkB,KAAKiiB,WAAa,GACvBnjB,KAAKyE,MAAM1B,MAAQ1D,OAAOgI,KAAKtE,EAAQ1D,OAAO0D,CAAK,CAAC,EAAE2f,KAAK,EAAEA,KAAK,CAACC,EAAEC,IAAID,EAAIC,CAAC,GAC5E5iB,KAAKkB,KAAKiiB,WAAWja,KAAKnG,EAAMW,EAAI,EACvC,OAAO1D,KAAK6M,IAAI,EAAE9J,MAAM,CAAA,CACzB,CAEAiZ,eAAe6J,EAAUC,GAAI,OAAOA,EAAGnhB,QAAQ,EAAEsC,MAAM6e,EAAGte,OAAO,EAAEse,EAAG3kB,KAAK4kB,cAAc,IAAIC,MAAM,SAASR,CAAY,CAAC,CAAE,CAgB3H,OAfA3jB,iBAAiB,QAAQ7D,IAExB,IAAM6P,EAAgB7P,EAAEwM,OAAOqD,cAC/B,GAAIA,GAAkBA,EAAcX,UAAUsC,SAAS,eAAe,EAAtE,CAEA,IADA,IAAyDhS,EAArDyoB,EAAS1Z,WAAWG,YAAYmB,CAAa,EAAElI,EAAI,GACjDnI,EAAOyoB,EAAOliB,IAAI,IAAMvG,EAAAA,aAAgB6R,eAC9C,GAAI7R,EAAJ,CACA,IAAMsoB,EAAKtoB,EAAK0oB,EAAgBJ,EAAG/iB,MAAM,GACzCkjB,EAASH,EAAGrhB,MAAMqF,KAClB,GAAGgc,EAAG5kB,KAAKshB,SAAUxkB,EAAEwM,OAAO0C,UAAUG,OAAO,UAAU,EAAEwY,EAAUC,CAAE,MAAM,CAC5E,KAAMtoB,EAAOyoB,EAAOtgB,CAAC,KAAKnI,EAAK0P,UAAUlP,EAAEwM,SAAWhN,EAAO,MAAQ,UAAU,UAAU,EACzF0oB,IAAkBJ,EAAG/iB,MAAM,IAAM8iB,EAAUC,CAAE,CAC9C,CANgB,CAH+D,CAUhF,CAAC,EAEM,SAAShD,EAAaN,EAASO,GACrC/iB,KAAK6E,IAAM8gB,EACX3lB,KAAK6F,IAAM+f,EACX5lB,KAAKkB,KAAO7B,OAAOW,KAAKkB,IAAI,EAC5BlB,KAAKkB,KAAKshB,SAAWrY,QAAQqY,CAAQ,EACd,YAApB,OAAOO,IAAyB/iB,KAAKmB,KAAK4hB,SAAWA,EAAS7jB,KAAKc,IAAI,GAC1EA,KAAK+C,MAAQ+f,CACd,CACA,GAAE,CAAC,CAAC,EAKD3J,oBAAsB5I,GAAalB,YAAYgU,kBAAkB,gBAAgB9S,CAAW,EAChG3P,UAAUc,OAASd,UAAUc,OAC7BmW,QAAQ,IAAIxI,YAAYwU,mBAAmB,gBAAgB,CAAA,EAAK,GAAG,CAAA,EAAK,CAACsC,+BAAgC,CAAC1Z,UAAY,cAAc,CAAC,GAAE,KAEtI,IAAI2Z,EACJ,IAAMZ,EAAe,CAACC,QAAS,CAAA,EAAKC,WAAY,CAAA,CAAK,EAAE7mB,EAAM8C,QAAQK,QAAQ,EAE7E,SAAS2jB,IAAU,OAAO3lB,KAAKkB,KAAKmlB,QAAQtjB,KAAM,CAMlD,SAAS6iB,EAAQ7iB,GAEhB,OADAuC,MAAMqB,QAAQ5D,CAAK,EAAI/C,KAAKkB,KAAKolB,SAAWvjB,EAAQ/C,KAAK9B,MAAM,wBAAwB,EAChFW,EAAId,KAAK,IAAIiC,KAAKkB,KAAKmlB,QAAQN,cAAc,IAAIC,MAAM,QAAQR,CAAY,CAAC,CAAC,EACd,GAArEY,EAAAA,GAAsCpmB,MAAOkB,KAAKqlB,QAAQxjB,MAAQ,GACpE,CAsBA,OArBAlB,iBAAiB,QAAQ7D,GAAGkG,SAASoC,SAAS,KAT9C,IAAmBkE,EAAAA,EASyCxM,EAAEwM,OATnC4b,GAAmB5b,IAAW4b,EAAgBllB,KAAKmlB,UAC7ED,EAAgBllB,KAAKqlB,QAAQxjB,MAAQ,GAAGqjB,EAAgBzhB,QAAQ,EAAEyhB,EAAgB5e,OAAO,CAAA,CAAI,EAQ1B,CAAC,CAAC,EACtE/D,YAAYqN,4BAA4B,wCAAwC,QAAc9S,MAAAA,IAC7FiJ,MAAM,EAAEjJ,EAAEwM,OAAOub,cAAc,IAAIC,MAAM,QAAQR,CAAY,CAAC,EAC9D,EACD/hB,YAAYqN,4BAA4B,wCAAwC,QAAQ9S,IAEvF,IADA,IAA0ER,EAAtEyoB,EAAS1Z,WAAWG,YAAY1O,EAAEwM,OAAOqD,cAAcA,aAAa,GAClErQ,EAAOyoB,EAAOliB,IAAI,IAAMvG,EAAAA,aAAgB6R,eAC9C,GAAI7R,EAAJ,CACA,IAAMsU,EAAU,IAAI0U,OAAOhpB,EAAK0D,KAAKmlB,QAAQtjB,MAAM,GAAG,EACtDvF,EAAK0D,KAAKqlB,QAAQxjB,MAAQmB,SAASiB,cAAc3H,EAAK0D,KAAKolB,SAASG,OAAOrG,GAAKtO,EAAQ7D,KAAKnQ,OAAOsiB,CAAG,CAAC,CAAC,CAAC,CAF1F,CAGjB,CAAC,EACD3c,YAAYqN,4BAA4B,uCAAuC,QAAQ9S,IAEtF,IADA,IAAwFR,EAApFyoB,EAAS1Z,WAAWG,YAAY1O,EAAEwM,OAAOqD,cAAcA,cAAcA,aAAa,GAChFrQ,EAAOyoB,EAAOliB,IAAI,IAAMvG,EAAAA,aAAgB6R,eAC1C7R,IACJA,EAAK0D,KAAKmlB,QAAQtjB,MAAQvF,EAAK0D,KAAKqlB,QAAQxjB,MAAM,IAClDqjB,EAAkB5oB,GACFmH,QAAQ,EAAEyhB,EAAgB5e,OAAO,CAAA,CAAI,EAEtD,CAAC,EAEM,SAAS+I,GACf,IAAMgW,EAAUlX,YAAYgU,kBAAkB,eAAe,EAC7DrjB,KAAKyE,MAAM1B,MAAQ,CAAC,0BAA0BjF,OAAOyS,CAAW,EAAE,gBAAgBgW,EAAQplB,MAC1FnB,KAAK6M,IAAI,EAAE3L,KAAO7B,OAAOW,KAAKkB,IAAI,EAClClB,KAAKkB,KAAKmlB,QAAUrmB,KAAKyE,MAAMif,aAAa,GAAG,GAC/C1jB,KAAKkB,KAAKqlB,QAAUA,EACpBvmB,KAAKkB,KAAKolB,SAAW,GACrBtmB,KAAK6E,IAAM8gB,EACX3lB,KAAK6F,IAAM+f,CACZ,CACA,GAAE,CAAC,CAAC,EAKDxM,oBAAsBsN,GAAarX,YAAYgU,kBAAkB,gBAAgBqD,CAAW,EAChG9lB,UAAUc,OAASd,UAAUc,OAC7BmW,QAAQ,IAAIxI,YAAYwU,mBAAmB,gBAAgB,CAAA,EAAM,GAAG,CAAA,EAAK,CACxE8C,oBAAqB,CAACpB,cAAc,QAAQ,EAC5CqB,+BAAgC,CAACvgB,QAAU,MAAM,CAClD,GAAE,KAOD,SAASwgB,EAAaH,GAAa,OAAOG,EAClB,YAAvB,OAAOH,EAA6B,KAAOA,aAAuBxiB,SAAW,WAAa,OACzFhF,KAAKc,KAAK0mB,CAAW,CAAE,CARzBjjB,YAAYqN,4BAA4B,kCAAkC,QAAQ9S,IAEjF,IADA,IAA6DR,EAAzDyoB,EAASxiB,YAAYiJ,YAAY1O,EAAEwM,OAAOqD,aAAa,GACrDrQ,EAAOyoB,EAAOliB,IAAI,IAAMvG,EAAAA,aAAgB6R,eAC9C7R,GAAQA,EAAK4P,gBAAgB,QAAQ,CACtC,CAAC,EAKD,IAAM5P,EAAO,GAQb,OANAqpB,EAAavjB,GAAK,SAASojB,EAAY3jB,GAAO,OAAO/C,KAAK8M,eAAetP,EAAKqJ,OAAO6f,EAAY,EAAE3jB,CAAK,CAAC,CAAE,EAE3G8jB,EAAazG,IAAM,SAASsG,EAAY3jB,GAAO,OAAO/C,KAAK8M,eAAetP,EAAKqJ,OAAO/I,OAAO4oB,CAAW,EAAE3jB,CAAK,CAAC,CAAE,EAElH8jB,EAAa7gB,SAAW,SAAS0gB,EAAY3jB,GAAO,OAAO/C,KAAK8M,eAAetP,EAAKqJ,OAAO/I,OAAO4oB,EAAY3jB,KAAK,EAAEA,CAAK,CAAC,CAAE,EAEtH,SAAS2jB,GAAa1mB,KAAKyM,UAAYoa,EAAarnB,KAAKQ,KAAK0mB,CAAW,EAAE1mB,KAAK6M,IAAI,CAAE,CAC7F,GAAE,CAAC,CAAC,GAEC5N,EAAI,UAAU,EACnBA,EAAI,aAAaT,EAAYK,IAAI,EAAID,GAAIe,QAAQ,EAAE,MAAM,CAC1D,CAIAlC,QAAU4B,OAAO+G,OAAO3I,SAAW,GAAG,CACrCmD,UAAAA,UACAsD,SAAAA,SAASkG,UAAAA,UAAUmC,WAAAA,WAAW9I,YAAAA,YAC9BuU,UAAAA,UACAqB,YAAAA,YACAT,WAAAA,WAAWC,WAAAA,WAAWC,WAAAA,WAAWC,WAAAA,WAAW1J,YAAAA,YAAY2J,YAAAA,YAAYC,aAAAA,aACpEC,oBAAAA,oBAAoBC,oBAAAA,oBAAoBC,oBAAAA,mBACzC,CAAC"}