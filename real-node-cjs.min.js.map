{"version":3,"sources":["0"],"sourcesContent":["\"use strict\";\r\n// ==UserScript==\r\n// @name\t\t\treal-node\r\n// @namespace\t\thttp://tampermonkey.net/\r\n// @version\t\t\t2024-12-14\r\n// @description\t\tTry to take over the world after watching the end of this script!\r\n// @author\t\t\tFANGZHANG34\r\n// @match\t\t\thttps://*/*\r\n// @icon\t\t\thttps://www.google.com/s2/favicons?sz=64&domain=bilibili.com\r\n// @grant\t\t\tnone\r\n// ==/UserScript==\r\n/**\r\n * ## 使用以下代码获得类型提示，不用时再注释掉。\r\n * ### var {\r\n * ### RealWorld,RealNode,RealGroup,RealTarget,\r\n * ### RealStory,RealPromise,\r\n * ### RealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n * ### createRealDivSelect,createRealDivSearch,createRealDivSeries\r\n * ### } = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\nvar {\r\n\tRealWorld,RealNode,RealGroup,RealTarget,\r\n\tRealStory,RealPromise,\r\n\tRealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n\tcreateRealDivSelect,createRealDivSearch,createRealDivSeries\r\n} = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\n * \r\n * ## 如果使用ESM规范，请不要注释掉\"export default\"，否则请注释掉\"export default\"。\r\n */\r\n// export default\r\n({\r\n\tRealWorld,RealNode,RealGroup,RealTarget,\r\n\tRealStory,RealPromise,\r\n\tRealElement,RealCanvas,RealLoader,RealSelect,\r\n\tRealComtag,RealSVG,\r\n\tRealDivList,RealImgList,RealDivQueue,\r\n\tcreateRealDivSelect,createRealDivSearch,createRealDivSeries,\r\n} = (()=>{\r\n\tfunction prevent(v){return v;}\r\n\t/**##   */\r\n\t/**# 搜索## */\r\n\tconst\r\n\tElement = globalThis.Element ?? prevent,\r\n\tperformance = globalThis.performance ?? Date,\r\n\temptyArray = [],\r\n\tt0 = performance.now(),\r\n\ttryFunctionRealNode = false,\r\n\temptyObj = Object.create(null),\r\n\t/**## browserMode 是否存在浏览器环境 */\r\n\tbrowserMode = Element !== prevent,\r\n\tnonEnumerableConfig = {enumerable: false},\r\n\twritableNull = {value: null,writable: true},\r\n\ttempConfig = {writable: false,enumerable: false},\r\n\t/**### bind @type {typeof console.log} */\r\n\tlog = ((...argArray)=>console.log(...argArray)),\r\n\t/**### bind @type {typeof console.error} */\r\n\terror = ((...argArray)=>console.error(...argArray)),\r\n\t/**\r\n\t * \r\n\t * @type {{\r\n\t * (thisArg: RealNode)=>*;\r\n\t * (thisArg: RealNode,value,react: Boolean,notify: Boolean,noSelf: Boolean)=>Boolean;\r\n\t * }}\r\n\t */\r\n\tprotoThisArg =\r\n\t/**\r\n\t * \r\n\t * @param {RealNode} thisArg \r\n\t * @param {[*,Boolean,Boolean,Boolean] | []} argArray \r\n\t */\r\n\t(thisArg,...argArray)=>argArray.length ? thisArg.realSet(...argArray,true,true,true) : thisArg.get(),\r\n\ttryYieldKey =\r\n\t/**\r\n\t * \r\n\t * @template T\r\n\t * @param {*[] | IterableIterator} iter \r\n\t * @param {T} [type] \r\n\t * @returns {IterableIterator<T>}\r\n\t */\r\n\tfunction*tryYieldKey(iter,key,type){try{for(const target of iter) yield target?.[key] ?? target;}catch(e){error(e);}}\r\n\t;\r\n\t/**## nodeMode 是否存在nodejs环境 */\r\n\tvar nodeMode = false;\r\n\t/**\r\n\t * ## 使用以下代码获得类型提示，不用时再注释掉。\r\n\t * ### var {\r\n\t * ### RealWorld,RealNode,RealGroup,RealTarget,\r\n\t * ### RealStory,RealPromise,\r\n\t * ### RealElement,RealCanvas,RealLoader,RealSelect,RealComtag,RealDivList,RealImgList,RealDivQueue,\r\n\t * ### createRealDivSelect,createRealDivSearch,createRealDivSeries\r\n\t * ### } = await import('real-node').then(EXPORTS=>EXPORTS.default);\r\n\t * @type {{\r\n\t * RealWorld: typeof RealWorld;\r\n\t * RealNode: typeof RealNode;\r\n\t * RealGroup: typeof RealGroup;\r\n\t * RealTarget: typeof RealTarget;\r\n\t * RealStory: typeof RealStory;\r\n\t * RealPromise: typeof RealPromise;\r\n\t * RealElement: typeof RealElement;\r\n\t * RealCanvas: typeof RealCanvas;\r\n\t * RealLoader: typeof RealLoader;\r\n\t * RealSelect: typeof RealSelect;\r\n\t * RealComtag: typeof RealComtag;\r\n\t * RealSVG: typeof RealSVG;\r\n\t * RealDivList: typeof RealDivList;\r\n\t * RealImgList: typeof RealImgList;\r\n\t * RealDivQueue: typeof RealDivQueue;\r\n\t * createRealDivSelect: typeof createRealDivSelect;\r\n\t * createRealDivSearch: typeof createRealDivSearch;\r\n\t * createRealDivSeries: typeof createRealDivSeries;\r\n\t * }} \r\n\t */\r\n\tvar\r\n\tEXPORTS,\r\n\tnodeRequire,\r\n\tsetInterval = globalThis.setInterval ?? prevent,\r\n\tclearInterval = globalThis.clearInterval ?? prevent\r\n\t;\r\n\ttry{EXPORTS = module.exports;}catch{EXPORTS = {};}\r\n\ttry{nodeRequire = require;nodeMode = true;}catch{nodeRequire = path=>new Promise(async r=>{try{\r\n\t\tconst exports = await import(String(path));\r\n\t\tr('default' in exports ? exports.default : exports);\r\n\t}catch(e){r(e);console.log('\\n\\r\\t'+String(e)+e?.stack);}});log('No CJS !');}\r\n\tconst nodeFS = nodeRequire('fs');\r\n\t/**# RealWorld 事件循环类 */\r\n\tvar RealWorld = (()=>{\r\n\t\tvar undefined;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} timeSep \r\n\t\t * @param {...()=>void} fnList \r\n\t\t */\r\n\t\tfunction RealWorld(timeSep,...fnList){\r\n\t\t\tif(null == this || this === globalThis) return new RealWorld(timeSep,...fnList);\r\n\t\t\ttry{Number.isFinite(this.timeSep = Number(timeSep)) || (this.timeSep = 10);}catch{this.timeSep = 10;}\r\n\t\t\tthis._id = setInterval(/**### bind */()=>this._mainFn(),this.timeSep);\r\n\t\t\t/**@type {(()=>*)[]} */\r\n\t\t\tthis.fnList = fnList;\r\n\t\t\tthis.info = undefined;\r\n\t\t\t/**@type {HTMLDivElement} */\r\n\t\t\tthis.self = browserMode ? document.createElement('div') : {};\r\n\t\t\tthis.paused = false;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.intervalFn = undefined;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.ifFn = undefined;\r\n\t\t\t/**@type {?()=>*} */\r\n\t\t\tthis.soFn = undefined;\r\n\t\t\tReflect.defineProperty(this,'_id',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'fnList',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'timeSep',tempConfig);\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {Promise<void>}\r\n\t\t */\r\n\t\tRealWorld.onceUserActive = browserMode ? new Promise(r=>{\r\n\t\t\tconst tempFn = ()=>{\r\n\t\t\t\tr(),\r\n\t\t\t\tremoveEventListener('click',tempFn),\r\n\t\t\t\tremoveEventListener('keydown',tempFn),\r\n\t\t\t\tremoveEventListener('mousedown',tempFn),\r\n\t\t\t\tremoveEventListener('touchstart',tempFn);\r\n\t\t\t};\r\n\t\t\taddEventListener('click',tempFn);\r\n\t\t\taddEventListener('keydown',tempFn);\r\n\t\t\taddEventListener('mousedown',tempFn);\r\n\t\t\taddEventListener('touchstart',tempFn);\r\n\t\t}) : Promise.resolve();\r\n\t\t/**\r\n\t\t * ## onload 环境准备好时兑现的承诺\r\n\t\t * @type {Promise<void>}\r\n\t\t */\r\n\t\tRealWorld.onload =\r\n\t\tbrowserMode ? new Promise(r=>addEventListener('load',function tempListener(){r();removeEventListener('load',tempListener);})) :\r\n\t\tnodeMode ? Promise.resolve() : new Promise(async r=>{if(setInterval === prevent){\r\n\t\t\tconst {setTimeout,clearTimeout} = globalThis.setTimeout ? globalThis :\r\n\t\t\t/**@type {{setTimeout: typeof globalThis.setTimeout;clearTimeout: typeof globalThis.clearTimeout;}} */ (await nodeRequire('os'));\r\n\t\t\tfunction Interval(handler,timeout,...argArray){\r\n\t\t\t\tif(null == this || this === globalThis) return new Interval(handler,timeout,...argArray);\r\n\t\t\t\treturn this._ = setTimeout(this.transform(handler,timeout,...argArray),timeout,...argArray),this;\r\n\t\t\t}\r\n\t\t\tInterval.prototype.transform = function(handler,timeout,...argArray){\r\n\t\t\t\tconst tempFn = ()=>{this._ = setTimeout(tempFn,timeout,...argArray);handler.apply(null,argArray);};\r\n\t\t\t\treturn tempFn; \r\n\t\t\t},Interval.prototype.clear = function(){clearTimeout(this._);};\r\n\t\t\tsetInterval = Interval,clearInterval = /**@type {(id: Interval)=>void} */ id=>id.clear();\r\n\t\t\tReflect.defineProperty(RealNode.eventLoop,'_id',{\r\n\t\t\t\tvalue: setInterval(/**### bind */()=>RealNode.eventLoop._mainFn(),RealNode.eventLoop.timeSep)\r\n\t\t\t}),r();\r\n\t\t}});\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} timeSep \r\n\t\t * @param {()=>void} intervalFn \r\n\t\t * @returns {RealWorld}\r\n\t\t */\r\n\t\tRealWorld.createInterval = (timeSep,intervalFn)=>((timeSep = new RealWorld(timeSep)).intervalFn = intervalFn,timeSep);\r\n\t\t\tconst syncSymbol = Symbol();\r\n\t\t/**## getPromiseState 异步获取承诺状态 */\r\n\t\tRealWorld.getPromiseState = async(promise)=>{try{return +(syncSymbol !== await Promise.race([promise,syncSymbol]));}catch{return -1;}};\r\n\t\t/**\r\n\t\t * ## onceIf 生成条件检测承诺 \r\n\t\t * @param {()=>Boolean} ifFn\r\n\t\t * @param {Number} [timeSep]\r\n\t\t */\r\n\t\tRealWorld.onceIf = async(ifFn,timeSep)=>{\r\n\t\t\tif(typeof ifFn !== 'function') throw new TypeError('\"ifFn\" must be Function !');\r\n\t\t\tconst temp = new RealWorld(timeSep);\r\n\t\t\tawait new Promise(soFn=>(temp.ifFn = ifFn,temp.soFn = soFn));\r\n\t\t\tclearInterval(temp._id);\r\n\t\t};\r\n\t\t\t/**@this {{resolve(...value)=>void}} */\r\n\t\t\tconst thisResolve = function(...value){this.resolve(value);};\r\n\t\t/**\r\n\t\t * ## cb2promise 回调转承诺\r\n\t\t * @template T\r\n\t\t * @param {{thisArg?: {}; useFn: String | (callback: (err?: Error,...value: T)=>void)=>void; callback: typeof thisResolve;}} param0 \r\n\t\t * @param {...*} parameters \r\n\t\t * @returns {Promise<[?Error,...T]>}\r\n\t\t */\r\n\t\tRealWorld.cb2promise = ({thisArg,useFn,callback = thisResolve} = emptyObj,...parameters)=>{\r\n\t\t\tif(typeof useFn !== 'function') useFn = thisArg?.[useFn];\r\n\t\t\tif(typeof useFn !== 'function') throw new Error('=> Wrong:\\n\t\"thisArg\" is not Object\\n or\\n\t\"useFn\" not in \"thisArg\" !');\r\n\t\t\treturn new Promise(resolve=>{\r\n\t\t\t\tconst temp = {callback,resolve};\r\n\t\t\t\ttry{useFn.call(thisArg,...parameters,(...value)=>temp.callback(...value));}catch(error0){\r\n\t\t\t\t\ttry{useFn.call(thisArg,(...value)=>temp.callback(...value),...parameters);}catch(error1){\r\n\t\t\t\t\t\tresolve([new Error('=> Neither head or tail of parameters is Callback !\\n'+(\r\n\t\t\t\t\t\t\tString(error0?.stack ?? error0)+'\\n'+String(error1?.stack ?? error1)\r\n\t\t\t\t\t\t))]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).catch(e=>error(e.stack));\r\n\t\t};\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {AsyncIterator} iter 迭代器\r\n\t\t\t * @param {(error)=>*} [onhandle] 错误处理函数\r\n\t\t\t */\r\n\t\t\tconst tempErrorHandler = async(iter,onhandle)=>{\r\n\t\t\t\tvar resume;\r\n\t\t\t\tif(typeof iter?.next !== 'function') return void log(String(iter)+' is not an iterator !');\r\n\t\t\t\tif(typeof onhandle === 'function') while(true) try{\r\n\t\t\t\t\tif((resume = await iter.next(resume))?.done ?? true) break; throw resume.value;\r\n\t\t\t\t}catch(e){resume = onhandle(e);} else while(true) try{if((await iter.next())?.done ?? true) break;}catch(e){throw e;}\r\n\t\t\t\treturn resume.value;\r\n\t\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T,U,V\r\n\t\t * @param {ArrayLike<T> | Iterator<T,U,V> | (()=>Iterator<T,U,V>)} anyWithIterator\r\n\t\t */\r\n\t\tRealWorld.makeAsyncFunctionWithErrorHandler = (anyWithIterator)=>{\r\n\t\t\tif(typeof anyWithIterator === 'function') return (\r\n\t\t\t\t/**\r\n\t\t\t\t * \r\n\t\t\t\t * @param {(error: T)=>V} [onhandle] 错误处理函数\r\n\t\t\t\t * @returns {Promise<U>} \r\n\t\t\t\t */\r\n\t\t\t\t(onhandle,...argArray)=>tempErrorHandler(anyWithIterator(...argArray),onhandle)\r\n\t\t\t);\r\n\t\t\t/**@type {()=>Iterator} 迭代器函数 */\r\n\t\t\tconst iteratorFn = anyWithIterator?.[Symbol.asyncIterator] || anyWithIterator?.[Symbol.iterator];\r\n\t\t\tif(typeof iteratorFn !== 'function') throw new Error('Illegal \"anyWithIterator\" without legal iteratorFunction !');\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {(error: T)=>V} [onhandle] 错误处理函数\r\n\t\t\t * @returns {Promise<U>} \r\n\t\t\t */\r\n\t\t\treturn (onhandle,...argArray)=>tempErrorHandler(Function.prototype.call.call(iteratorFn,anyWithIterator,...argArray),onhandle);\r\n\t\t};\r\n\t\t/**## destroy 销毁本对象 */\r\n\t\tRealWorld.prototype.destroy = function(){clearInterval(this._id),this._mainFn();};\r\n\t\t/**## then 添加函数入执行队列 */\r\n\t\tRealWorld.prototype.then = function(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;};\r\n\t\t/**## 生成RealElement实例 */\r\n\t\tRealWorld.prototype.getRealElement = function(){\r\n\t\t\treturn new RealElement({self: this.self,key: 'innerHTML'},{id: this.self.id,initValue: this.self.innerHTML});\r\n\t\t};\r\n\t\t/**## 变更时间间隔 */\r\n\t\tRealWorld.prototype.setTimeSep = function(timeSep){\r\n\t\t\treturn (Number.isFinite(timeSep = Number(timeSep)) ? timeSep : 10) !== this.timeSep && (\r\n\t\t\t\tclearInterval(this._id),Reflect.defineProperty(this,'timeSep',{value: timeSep}),\r\n\t\t\t\tReflect.defineProperty(this,'_id',{value: setInterval(/**### bind */()=>this._mainFn(),this.timeSep)})\r\n\t\t\t);\r\n\t\t};\r\n\t\tRealWorld.prototype._mainFn = function(){\r\n\t\t\tif(this.paused) return;\r\n\t\t\ttry{this.intervalFn?.();}catch(e){this.intervalFn = null;error(e);}\r\n\t\t\ttry{this.info = this.fnList.pop()?.call?.(this,this.info);}catch(e){error(e);}\r\n\t\t\ttry{if(this.ifFn?.()) this.ifFn = this.soFn = void this.soFn?.();}catch(e0){\r\n\t\t\t\ttry{this.ifFn?.();}catch(e1){e0 = e1;this.ifFn = null;this.paused = true;}\r\n\t\t\t\tthis.paused || (this.soFn = null);this.paused = false;error(e0);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn RealWorld;\r\n\t})();\r\n\tvar RealNode = class RealNode{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @throws\r\n\t\t * @param {String} message \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\tstatic error(message){throw new Error(this.name+' : '+message);}\r\n\t\t/**@type {Map<Symbol,RealNode>} */\r\n\t\tstatic _sys = new Map;\r\n\t\tstatic t0 = Date.now();\r\n\t\tstatic tryRealNode = false;\r\n\t\tstatic now = Promise.resolve();\r\n\t\tstatic eventLoop = new RealWorld;\r\n\t\t/**\r\n\t\t * @typedef {{\r\n\t\t * tryRealNode: Boolean,\r\n\t\t * childRNs: ({info: [RealNode,String[],String[]]} & RealNode)[],\r\n\t\t * get()=>*,\r\n\t\t * set(value)=>Boolean,\r\n\t\t * react()=>Boolean,\r\n\t\t * id: Symbol,\r\n\t\t * value,\r\n\t\t * }} AntiNode \r\n\t\t */\r\n\t\tstatic proto = class AntiNode{\r\n\t\t\ttryRealNode;\r\n\t\t\t/**@type {(RealNode & {info: [RealNode,String[],String[]]})[]} */\r\n\t\t\tchildRNs = [];\r\n\t\t\t/**@type {()=>*} */\r\n\t\t\t['get'];\r\n\t\t\t/**@type {(value)=>Boolean} */\r\n\t\t\t['set'];\r\n\t\t\t/**@type {()=>Boolean} */\r\n\t\t\treact;\r\n\t\t\t/**@type {Symbol} */\r\n\t\t\tid;\r\n\t\t\tvalue;\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Symbol} id \r\n\t\t */\r\n\t\tstatic search(id){return RealNode._sys.get(id);}\r\n\t\tstatic newByInitValue(initValue){return new RealNode({initValue});}\r\n\t\tstatic is(value1,value2){return Object.is(value1,value2) || value1 === value2;}\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @param {()=>*} fn \r\n\t\t * @returns {Promise}\r\n\t\t */\r\n\t\tstatic async justNow(fn,thisArg,...argArray){return await RealNode.now,fn.apply(thisArg,argArray);}\r\n\t\tstatic arrayToObject(...argArray){\r\n\t\t\tconst temp = Object.create(null),array = emptyArray.concat(...argArray),length = array.length;\r\n\t\t\tfor(var i = 0;i < length;i++) temp[String(array[i])] = array[i];\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@method */\r\n\t\tstatic createExpression = (()=>{\r\n\t\t\tconst config = {get: null,set: ()=>false};\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {()=>*} get \r\n\t\t\t * @param {RealNode[]} relativeRNs\r\n\t\t\t * */\r\n\t\t\treturn(get,...relativeRNs)=>new RealNode((config.get = get,config),true,...relativeRNs);\r\n\t\t})();\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {(config: {get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?})=>RealNode}\r\n\t\t */\r\n\t\tstatic createHidden(config){return new RealNode((config = Object.assign({},config),config.display = false,config));}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic check(realNode){for(const temp of RealNode._sys.entries()) if(realNode === temp[1]) return realNode.id === temp[0];}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>*} fn \r\n\t\t * @param {Boolean} keepNow \r\n\t\t * @returns {Promise}\r\n\t\t */\r\n\t\tstatic afterNow(fn,keepNow,thisArg,...argArray){\r\n\t\t\tconst temp = new Promise(r=>RealNode.eventLoop.then(()=>r(fn.apply(thisArg,argArray))));\r\n\t\t\treturn keepNow || (RealNode.now = temp.catch(prevent)),temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>*} get \r\n\t\t */\r\n\t\tstatic protoCreate(get,...argArray){\r\n\t\t\tconst temp = new RealNode({get});\r\n\t\t\ttemp.proto.value = argArray;\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@method @type {((...args)=>RealNode)} */\r\n\t\tstatic createNumber = RealNode.protoCreate.bind(null,function(temp = 0){\r\n\t\t\tif(!Array.isArray(this.proto.value)) return +(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t\t\telse for(const i of this.proto.value) temp +=+(i instanceof RealNode ? i.value : i);\r\n\t\t\treturn temp;\r\n\t\t});\r\n\t\t/**@method */\r\n\t\tstatic copyObj = function copyObj(obj){\r\n\t\t\tif(Object(obj) === obj){\r\n\t\t\t\tconst newObj = Array.isArray(obj) ? [] : Object.create(null);\r\n\t\t\t\tfor(const i of Object.keys(obj)){95 === i.charCodeAt(0) || (newObj[i] = copyObj(obj[i]));}\r\n\t\t\t\treturn newObj;\r\n\t\t\t}else return new.target ? Object(obj) : obj;\r\n\t\t};\r\n\t\t/**@method @type {((...args)=>RealNode)} */\r\n\t\tstatic createString = RealNode.protoCreate.bind(null,function(){\r\n\t\t\tif(Array.isArray(this.proto.value)){\r\n\t\t\t\tconst temp = this.proto.value.concat();\r\n\t\t\t\tfor(var i = temp.length;i --> 0;) if(temp[i] instanceof RealNode) temp[i] = temp[i].value;\r\n\t\t\t\treturn temp.join('');\r\n\t\t\t}else return String(this.proto.value instanceof RealNode ? this.proto.value.value : this.proto.value);\r\n\t\t});\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(()=>*) & Promise} promise \r\n\t\t * @param {(time: Number,error: Error | null,value)=>void} callback \r\n\t\t * @returns {Promise<{error: ?Error,time: Number,value: ?*}>}\r\n\t\t */\r\n\t\tstatic async time(promise,callback){\r\n\t\t\tconst t0 = performance.now(),result = {time: null,error: null,value: null,};\r\n\t\t\ttry{result.value = await(typeof promise === 'function' ? promise() : promise);}catch(e){error(result.error = e);}\r\n\t\t\tresult.time = performance.now() - t0;\r\n\t\t\tif(typeof callback === 'function') try{callback(result.time,result.error,result.value);}catch(e){error(e);}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} n \r\n\t\t * @param {Number} [tail] \r\n\t\t */\r\n\t\tstatic makeNumStr0oTail(n,tail){\r\n\t\t\tvar int,float;\r\n\t\t\tswitch(typeof n){\r\n\t\t\t\tcase \"bigint\": return n.toString();\r\n\t\t\t\tcase \"symbol\":case \"undefined\": return 'NaN';\r\n\t\t\t}\r\n\t\t\ttry{n = +n;}catch{return 'NaN';}\r\n\t\t\treturn Number.isFinite(n) ? (\r\n\t\t\t\ttail = typeof tail !== 'number' ? 9 : tail > 18 ? 18 : tail < 0 ? 0 : Math.floor(tail),\r\n\t\t\t\t{0: int,1: float = ''} = n.toString(8).split('.'),\r\n\t\t\t\tBigInt('0o'+int).toString()+'_+'+'0o'+float.slice(0,tail).padEnd(tail,'0')\r\n\t\t\t) : 'NaN';\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealNode}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse();\r\n\t\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealNode) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\tprotoReact(){}\r\n\t\tprotoGet(){return this.proto.value;}\r\n\t\tlog(...message){console.log(this+':',...message);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @throws\r\n\t\t * @param {String} message \r\n\t\t * @returns {never}\r\n\t\t */\r\n\t\terror(message){throw new Error(this+'\\n\"\"\"\\n'+String(message)+'\\n\"\"\"');}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\tprotoSet(value){return value !== this.proto.value && (this.proto.value = value,true);}\r\n\t\tclearChildRNs(){while(this.proto.childRNs.length){this.proto.childRNs.pop().display = false;}return this;}\r\n\t\trealReact(notify = true,noSelf){\r\n\t\t\tconst react = this.proto.react;\r\n\t\t\treturn react ? (react.call(this),notify && this.notify(noSelf),true) : false;\r\n\t\t}\r\n\t\t[Symbol.toPrimitive](hint){try{\r\n\t\t\treturn 'number' === hint ? Number(this.value) : '[object '+this.constructor.name+']{ '+this.id.description+' }';\r\n\t\t}catch{return NaN;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @param {(error: Error,status: {depth: Number,done: Boolean,finished: Promise<void>})=>void} [onerror] \r\n\t\t */\r\n\t\tnotify(noSelf,onerror){\r\n\t\t\tconst status = {depth: 0,done: false,finished: RealNode.justNow(async()=>{\r\n\t\t\t\tfor await(const err of this.protoNotify(noSelf,status)) try{tempFn(err,status);}catch{}\r\n\t\t\t})},tempFn = typeof onerror === 'function' ? onerror : prevent;\r\n\t\t\treturn status;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @param {{depth: Number,done: Boolean,finished: Promise<void>}} [status] \r\n\t\t */\r\n\t\tasync*protoNotify(noSelf,status){\r\n\t\t\tif(typeof status?.depth !== 'number') status = {depth: 0,done: false};\r\n\t\t\tvar realNode,temp = this.relativeRNs.concat().reverse(),i;\r\n\t\t\tconst reactedArray = [];\r\n\t\t\twhile(await temp.length){\r\n\t\t\t\tconst failedArray = [];\r\n\t\t\t\twhile(realNode = temp.pop()) try{\r\n\t\t\t\t\trealNode = RealNode.search(realNode);\r\n\t\t\t\t\tif(!realNode || (noSelf && this === realNode)) continue;\r\n\t\t\t\t\trealNode.react?.();\r\n\t\t\t\t\treactedArray.push(realNode);\r\n\t\t\t\t}catch(e){failedArray.push(e);}\r\n\t\t\t\t// realNode = failedArray.length,i = 0;\r\n\t\t\t\t// while(i < realNode) yield failedArray[i++];\r\n\t\t\t\tyield*failedArray;\r\n\t\t\t\tstatus.depth++;\r\n\t\t\t\ttry{while(realNode = reactedArray.pop()) for(realNode = realNode.relativeRNs,i = realNode.length;i --> 0;){\r\n\t\t\t\t\ttemp.includes(realNode[i]) || temp.push(realNode[i]);\r\n\t\t\t\t}}catch{this.log('More than 2^32 RNs to notify so break it !');break;}\r\n\t\t\t}\r\n\t\t\tstatus.done = true;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){try{\r\n\t\t\tvar temp;\r\n\t\t\treturn (this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true) && (react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t\t}catch(e){return error(e),e;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {RealNode} realNode \r\n\t\t * @returns {String[][]}\r\n\t\t */\r\n\t\t_getPositionsOfChildRN(realNode){\r\n\t\t\tconst childRNs = this.proto.childRNs,temp = [];\r\n\t\t\tfor(var i = childRNs.length,iter;i --> 0;) iter = childRNs[i].info.values(),realNode === iter.next().value && temp.push(...iter);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} relativeRNs \r\n\t\t */\r\n\t\tcancelWatch(...relativeRNs){\r\n\t\t\tvar i = relativeRNs.length,id;\r\n\t\t\twhile(i --> 0){\r\n\t\t\t\tif(typeof (id = relativeRNs[i]) === 'symbol') id = RealNode.search(id);\r\n\t\t\t\tconst temp = id?.relativeRNs,index = temp?.indexOf(this.id);\r\n\t\t\t\tnull == index || -1 === index || temp.splice(index,1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} relativeRNs \r\n\t\t */\r\n\t\twatch(...relativeRNs){\r\n\t\t\tvar i = relativeRNs.length,id = relativeRNs[i - 1];\r\n\t\t\tconst temp = RealNode.search(id?.id ?? id);\r\n\t\t\twhile(i --> 0){\r\n\t\t\t\tif(typeof (id = relativeRNs[i]) === 'symbol') id = RealNode.search(id);\r\n\t\t\t\tconst temp = id?.relativeRNs;\r\n\t\t\t\ttemp && temp.indexof(this.id) === -1 && temp.push(this.id);\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} relativeRNs \r\n\t\t */\r\n\t\trelate(...relativeRNs){\r\n\t\t\tvar i = relativeRNs.length,id = relativeRNs[i - 1];\r\n\t\t\tconst temp = RealNode.search(id?.id ?? id);\r\n\t\t\twhile(i --> 0){\r\n\t\t\t\ttypeof (id = relativeRNs[i]) === 'symbol' || (id instanceof RealNode ? id = id.id : this.error(\r\n\t\t\t\t\t'=> \"relativeRNs['+relativeRNs.length+']\" is not legal id !'\r\n\t\t\t\t));\r\n\t\t\t\tRealNode.search(id) && !this.relativeRNs.includes(id) && this.relativeRNs.push(id);\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(RealNode | Symbol)} unrelativeRNs \r\n\t\t */\r\n\t\tunrelate(...unrelativeRNs){\r\n\t\t\tif(!unrelativeRNs.length) return false;\r\n\t\t\tconst temp = this.relativeRNs.concat();\r\n\t\t\tvar i = unrelativeRNs.length;\r\n\t\t\tthis.relativeRNs.splice(0);\r\n\t\t\twhile(i --> 0) typeof unrelativeRNs[i] === 'symbol' || (unrelativeRNs[i] = unrelativeRNs[i]?.id);\r\n\t\t\tfor(i = temp.length;i --> 0;) unrelativeRNs.includes(temp[i]) || this.relativeRNs.push(temp[i]);\r\n\t\t\treturn temp.length !== this.relativeRNs.length;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String[]} [position] \r\n\t\t * @returns {[RealNode, ...string[]][]} \r\n\t\t */\r\n\t\t_computePositionsOfRNs(value,deep = 2,position = [],count = 0){\r\n\t\t\t/**@type {[RealNode, ...string[]][]} */\r\n\t\t\tvar temp = [],i,keys;\r\n\t\t\tif(value instanceof RealNode) return temp.push((position.unshift(value),position)),temp;\r\n\t\t\telse if(count < deep && Object(value) === value) for(i = (keys = Reflect.ownKeys(value)).length;i --> 0;){\r\n\t\t\t\ttemp = temp.concat(this._computePositionsOfRNs(value[keys[i]],deep,[...position,keys[i]],count + 1));\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @param {[RealNode, ...string[]][]} realNodeMap \r\n\t\t */\r\n\t\t_dealWithPositionsOfRNs(realNodeMap,expression){\r\n\t\t\tconst temp = this.clearChildRNs().proto.childRNs,list = [];\r\n\t\t\tconst tempReact = this.constructor._react;\r\n\t\t\tvar value,i,end;\r\n\t\t\trealNodeMap = realNodeMap.concat();\r\n\t\t\twhile(realNodeMap.length){\r\n\t\t\t\t/**@type {[RealNode, ...string[]]} */\r\n\t\t\t\tconst position = realNodeMap.pop(),realNode = position[0],dir = position.slice(1);\r\n\t\t\t\tif(!dir.length) expression = realNode.value;else{\r\n\t\t\t\t\tfor(value = expression,i = 0,end = dir.length - 1;i < end;i++) value = value[key];\r\n\t\t\t\t\tvalue[dir[i]] = realNode.value;\r\n\t\t\t\t}\r\n\t\t\t\ti = list.indexOf(realNode);\r\n\t\t\t\ti < 0 ? (list.push(realNode),temp.push(realNode.relate(\r\n\t\t\t\t\tnew RealNode({info: [realNode,dir],react: (...argArray)=>tempReact.call(this,realNode,...argArray)})\r\n\t\t\t\t))) : temp[i].info.push(dir);\r\n\t\t\t}\r\n\t\t\treturn expression;\r\n\t\t}\r\n\t\t/**@type {Symbol} */\r\n\t\tget id(){return this.proto.id;}\r\n\t\tget childRNs(){return this.proto.childRNs;}\r\n\t\tget value(){return this.get();}\r\n\t\tset value(value){this.realSet(value,true,true);}\r\n\t\tget set(){return this.realSet;}\r\n\t\tset set(set){this.proto.set = typeof set === 'function' ? set : this.protoSet;}\r\n\t\tget get(){return this.proto.get;}\r\n\t\tset get(get){this.proto.get = typeof get === 'function' ? get : this.protoGet;}\r\n\t\tget react(){return this.proto.react;}\r\n\t\tset react(react){this.proto.react = typeof react === 'function' ? react : react ? this.protoReact : null;}\r\n\t\tget display(){return RealNode._sys.has(this.id);}\r\n\t\tset display(display){display ? RealNode._sys.set(this.id,this) : RealNode._sys.delete(this.id);}\r\n\t\tget tryRealNode(){return this.proto.tryRealNode;}\r\n\t\tset tryRealNode(tryRealNode){\r\n\t\t\ttryRealNode = (this.proto.tryRealNode = Boolean(tryRealNode));\r\n\t\t\tvar i = this.proto.childRNs.length;\r\n\t\t\twhile(i --> 0) this.proto.childRNs[i].display = tryRealNode;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?,display?}} [config] \r\n\t\t * @param {...(Symbol | RealNode)} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor(config,tryRealNode = RealNode.tryRealNode,...relativeRNs){\r\n\t\t\tconfig = Object(config);\r\n\t\t\t/**@type {Symbol[]} */\r\n\t\t\tthis.relativeRNs = [];\r\n\t\t\t/**@type {AntiNode} */\r\n\t\t\tthis.proto = null;\r\n\t\t\t/**@type {*} */\r\n\t\t\tthis.info = null;\r\n\t\t\t/**@type {this} */\r\n\t\t\tconst thisArg = tryFunctionRealNode ? (...argArray)=>protoThisArg(thisArg,...argArray) : this;\r\n\t\t\t// \"this\" 仅用于获取当前原型，真正的 this 为 \"thisArg\"\r\n\t\t\ttryFunctionRealNode && (\r\n\t\t\t\tReflect.setPrototypeOf(thisArg,Reflect.getPrototypeOf(this)),\r\n\t\t\t\tReflect.defineProperty(thisArg,'length',writableNull),\r\n\t\t\t\tReflect.defineProperty(thisArg,'name',writableNull),\r\n\t\t\t\tthisArg.relativeRNs = this.relativeRNs,\r\n\t\t\t\tnull\r\n\t\t\t);\r\n\t\t\t/**@type {AntiNode} */\r\n\t\t\tthisArg.proto = new this.constructor.proto;\r\n\t\t\tthisArg.info = config.info;\r\n\t\t\tthisArg.proto.id = Symbol(String(config.id ?? config.info?.id ?? ''));\r\n\t\t\tReflect.defineProperty(thisArg,'relativeRNs',nonEnumerableConfig);\r\n\t\t\tReflect.defineProperty(thisArg,'proto',tempConfig);\r\n\t\t\tthisArg.display = config.display ?? true;\r\n\t\t\tthisArg.get = config.get;\r\n\t\t\tthisArg.set = config.set;\r\n\t\t\tthisArg.react = config.react;\r\n\t\t\tthisArg.relate(...relativeRNs);\r\n\t\t\tthisArg.proto.value = config.initValue;\r\n\t\t\tthisArg.tryRealNode = tryRealNode;\r\n\t\t\tif('value' in config) thisArg.value = config.value;\r\n\t\t\treturn thisArg;\r\n\t\t\t\r\n\t\t\t// config = Object(config);\r\n\t\t\t// /**@type {AntiNode} */\r\n\t\t\t// this.proto = new this.constructor.proto;\r\n\t\t\t// this.proto.id = Symbol(String(config.id ?? config.info?.id ?? ''));\r\n\t\t\t// Reflect.defineProperty(this,'relativeRNs',nonEnumerableConfig);\r\n\t\t\t// Reflect.defineProperty(this,'proto',tempConfig);\r\n\t\t\t// this.display = config.display ?? true;\r\n\t\t\t// this.info = config.info;\r\n\t\t\t// this.get = config.get;\r\n\t\t\t// this.set = config.set;\r\n\t\t\t// this.react = config.react;\r\n\t\t\t// this.relate(...relativeRNs);\r\n\t\t\t// this.proto.value = config.initValue;\r\n\t\t\t// this.tryRealNode = tryRealNode;\r\n\t\t\t// if('value' in config) this.value = config.value;\r\n\t\t}\r\n\t};\r\n\tvar RealGroup =\r\n\t/**@template {{}} T */\r\n\tclass RealGroup extends RealNode{\r\n\t\tstatic tempProxy = class AntiGroup extends Function{\r\n\t\t\tapply(){return this.self;}\r\n\t\t\townKeys(){return Reflect.ownKeys(this);}\r\n\t\t\thas(target,key){return Reflect.has(this,key);}\r\n\t\t\tconstruct(){return this.realGroup.getByFilter();}\r\n\t\t\tisExtensible(){return Reflect.isExtensible(this);}\r\n\t\t\t['get'](target,key){return this.realGroup.get(key);}\r\n\t\t\tpreventExtensions(){return Reflect.preventExtensions(this);}\r\n\t\t\tdeleteProperty(target,key){return Reflect.deleteProperty(this.self,key);}\r\n\t\t\tsetPrototypeOf(target,prototype){return Reflect.setPrototypeOf(this,prototype);}\r\n\t\t\t['set'](target,key,value){return this.realGroup.set(Object.create(null,{[key]:{value}}));}\r\n\t\t\tdefineProperty(target,key,attributes){return Reflect.defineProperty(this.self,key,attributes);}\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {{}} self \r\n\t\t\t * @param {RealGroup} realGroup \r\n\t\t\t */\r\n\t\t\tconstructor(self,realGroup){\r\n\t\t\t\tsuper('');\r\n\t\t\t\tthis.self = self;\r\n\t\t\t\tthis.realGroup = realGroup;\r\n\t\t\t}\r\n\t\t};\r\n\t\t/**@type {Map<{},RealGroup>} */\r\n\t\tstatic groupMap = new Map;\r\n\t\tstatic _(){return true;}\r\n\t\t/**@param {{}} obj  */\r\n\t\tstatic newByObj(obj){return new RealGroup({self: Object(obj)});}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {T} obj \r\n\t\t * @param {String} [id] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {Boolean} [strict] \r\n\t\t * @returns {RealGroup<T> | *}\r\n\t\t */\r\n\t\tstatic createDeepGroup = function createDeepGroup(obj,id = '',tryRealNode,strict){\r\n\t\t\tvar i;\r\n\t\t\tif(Object(obj) !== obj) return strict ? tryRealNode ? RealNode.createHidden({id,initValue: obj}) : obj : new RealGroup;\r\n\t\t\tconst proto = Reflect.getPrototypeOf(obj);\r\n\t\t\tif(proto && proto !== Object.prototype) return strict ? tryRealNode ?\r\n\t\t\tRealNode.createHidden({id,initValue: obj}) : obj : new RealGroup({self: obj});\r\n\t\t\tconst temp = Object.create(null),keyArray = Reflect.ownKeys(obj),length = keyArray.length;\r\n\t\t\tfor(i = 0;i < length;i++) temp[keyArray[i]] = createDeepGroup(obj[keyArray[i]],keyArray[i],tryRealNode,true);\r\n\t\t\treturn new RealGroup({self: temp});\r\n\t\t};\r\n\t\t/**\r\n\t\t * ## 针对JSON对象的强制数据结构转换\r\n\t\t * @template {{}} T\r\n\t\t * @template U\r\n\t\t * @type {{\r\n\t\t * (target,structure: \"array\")=>*[];\r\n\t\t * (target,structure: \"string\")=>String;\r\n\t\t * (target,structure: \"number\")=>Number;\r\n\t\t * (target,structure: \"bigint\")=>BigInt;\r\n\t\t * (target,structure: \"boolean\")=>Boolean;\r\n\t\t * (target,structure: \"null\" | \"undefined\")=>null;\r\n\t\t * (target,structure: T)=>T;\r\n\t\t * (target: U,structure: unknown)=>U;\r\n\t\t * }} \r\n\t\t */\r\n\t\tstatic getObjByStructure = (()=>{\r\n\t\t\tconst getObjByStructure = (source,structure)=>{\r\n\t\t\t\tvar index,keys,temp,key;\r\n\t\t\t\tswitch(structure){\r\n\t\t\t\t\tcase \"boolean\": return Boolean(source);\r\n\t\t\t\t\tcase \"null\": case \"undefined\": return null;\r\n\t\t\t\t\tcase \"bigint\": try{return BigInt(source);}catch{return 0n;}\r\n\t\t\t\t\tcase \"number\": try{return Number(source);}catch{return NaN;}\r\n\t\t\t\t\tcase \"string\": try{return String(source);}catch{return 'Symbol(unknown)';}\r\n\t\t\t\t\tcase \"array\": switch(typeof source){\r\n\t\t\t\t\t\tdefault: return [];\r\n\t\t\t\t\t\tcase \"string\": return source.split('');\r\n\t\t\t\t\t\tcase \"object\": if(source === null) return [];else if(Array.isArray(source)) return source.concat();\r\n\t\t\t\t\t\telse for(temp = [],keys = Object.keys(source),index = 0;true;) if(\r\n\t\t\t\t\t\t\tNumber.isInteger(key = +keys[index++]) && key > -1\r\n\t\t\t\t\t\t) try{temp[key] = source[key];}catch(e){error(e);}else return temp;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: if(Object(structure) !== structure) return source;\r\n\t\t\t\t}\r\n\t\t\t\tsource = Object(source),temp = Object.create(null),keys = Object.keys(structure),index = keys.length;\r\n\t\t\t\twhile(index --> 0) try{\r\n\t\t\t\t\tkey = keys[index],structure[key];\r\n\t\t\t\t\ttry{temp[key] = getObjByStructure(source[key],structure[key]);}\r\n\t\t\t\t\tcatch(e){temp[key] = getObjByStructure(null,structure[key]);error(e);}\r\n\t\t\t\t}catch(e){temp[key] = null;error(e);}\r\n\t\t\t\treturn temp;\r\n\t\t\t};\r\n\t\t\treturn getObjByStructure;\r\n\t\t})();\r\n\t\tkeys(all){return all ? Reflect.ownKeys(this.proxy()) : Object.keys(this.proxy());}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} [notify] \r\n\t\t * @param {Boolean} [noSelf] \r\n\t\t * @returns {Boolean | Error}\r\n\t\t */\r\n\t\trealSet(value,notify,noSelf){try{return this.protoSet(value) && (notify && this.notify(noSelf),true);}catch(e){return error(e),e;}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Symbol | ?(keyArray: (String | Symbol)[])=>Boolean} ifKeyOrFn \r\n\t\t * @param {()=>void} listener \r\n\t\t */\r\n\t\taddSetterListener(ifKeyOrFn,listener){\r\n\t\t\tvar temp;\r\n\t\t\tif(!listener) return this;\r\n\t\t\tif(typeof listener !== 'function') this.error('\"listener\" must be function !');\r\n\t\t\tif(null == ifKeyOrFn) ifKeyOrFn = RealGroup._;\r\n\t\t\tArray.isArray(temp = this.listenerMap.get(ifKeyOrFn)) || this.listenerMap.set(ifKeyOrFn,temp = []);\r\n\t\t\treturn temp.push(listener),this;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(String | Symbol)[]} [keyArray] \r\n\t\t */\r\n\t\tprotoReact(keyArray = emptyArray){\r\n\t\t\tArray.isArray(keyArray) || this.error('\"keyArray\" must be Array !');\r\n\t\t\tthis.listenerMap.forEach((listenerArray,ifKeyOrFn)=>{try{\r\n\t\t\t\tif(typeof ifKeyOrFn === 'function' ? ifKeyOrFn(keyArray) : keyArray.indexOf(ifKeyOrFn) !== -1){\r\n\t\t\t\t\tfor(var l = listenerArray.length,i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t\t\t}\r\n\t\t\t}catch(e){this.log('Wrong with ',ifKeyOrFn);}});\r\n\t\t}\r\n\t\ttryRealNodeSetter(){\r\n\t\t\tconst self = this.proxy(),keys = Reflect.ownKeys(self);\r\n\t\t\tvar i = keys.length;\r\n\t\t\twhile(i --> 0) Reflect.has(Reflect.getOwnPropertyDescriptor(self,keys[i]),'get') || self[keys[i]] instanceof RealNode ||\r\n\t\t\t(self[keys[i]] = RealNode.createHidden({initValue: self[keys[i]]}));\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(key: String)=>Boolean} [filterFn] \r\n\t\t * @returns {{}}\r\n\t\t */\r\n\t\tgetByFilter(filterFn){\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(self),notFn = typeof filterFn !== 'function',temp = Object.create(null);\r\n\t\t\tvar i = keyArray.length;\r\n\t\t\twhile(i --> 0) if(notFn || filterFn(keyArray[i])) Reflect.\r\n\t\t\tset(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{}} obj \r\n\t\t */\r\n\t\tprotoSet(obj){\r\n\t\t\tif(Object(obj) !== obj) return false;\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(Object(obj)),temp = [];\r\n\t\t\tfor(const key of keyArray) obj[key] instanceof RealNode ? (self[key] = obj[key],temp.push(key)) :\r\n\t\t\tself[key] instanceof RealNode ? self[key].set(obj[key],true,true,true) && temp.push(key) :\r\n\t\t\tobj[key] !== self[key] && (self[key] = obj[key],temp.push(key));\r\n\t\t\tif(temp.length) try{this.protoReact(temp);}catch(e){this.log(e?.stack ?? e);}finally{return true;}else{\r\n\t\t\t\tconst listenerArray = this.listenerMap.get(RealGroup._),l = listenerArray.length;\r\n\t\t\t\tfor(var i = 0;i < l;i++) try{listenerArray[i]();}catch(e){this.log('Wrong with ',listenerArray[i]);}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {(()=>{}) & ((objectDescription: {})=>{}) & ((key)=>*)}\r\n\t\t */\r\n\t\tprotoGet(...argArray){\r\n\t\t\tif(0 === argArray.length) return this.getByFilter();\r\n\t\t\tvar temp = argArray[0];\r\n\t\t\tif(Object(temp) !== temp) return (temp = this.proxy()[temp],temp instanceof RealNode ? temp.value : temp);\r\n\t\t\tconst self = this.proxy(),keyArray = Reflect.ownKeys(temp);\r\n\t\t\t/**@type {{}} */\r\n\t\t\ttemp = Object.create(null);\r\n\t\t\tvar i = keyArray.length;\r\n\t\t\twhile(i --> 0) Reflect.set(temp,keyArray[i],self[keyArray[i]] instanceof RealNode ? self[keyArray[i]].value : self[keyArray[i]]);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@type {T & {()=>T}} */\r\n\t\tget proxy(){return this.proto.value;}\r\n\t\tget set(){return this.realSet;}\r\n\t\tset set(set){/**tthis.log('Invalid set \"set\" !'); */}\r\n\t\t/**@type {(keyOrkeyObj?: String | Symbol | {})=> *} */\r\n\t\tget get(){return this.protoGet;}\r\n\t\tset get(get){/**this.log('Invalid set \"get\" !'); */}\r\n\t\tget react(){return this.protoReact;}\r\n\t\tset react(react){/**this.log('Invalid set \"react\" !'); */}\r\n\t\tget tryRealNode(){return false;}\r\n\t\tset tryRealNode(tryRealNode){tryRealNode && this.log('I can not try realNode !');}\r\n\t\t/**@type {Map<String | Symbol | (keyArray: (String | Symbol)[])=>Boolean,(()=>void)[]>} */\r\n\t\tlistenerMap = new Map([[RealGroup._,[]]]);\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{self?: T}} param0 \r\n\t\t */\r\n\t\tconstructor({id,info,self = Object.create(null)} = emptyObj){\r\n\t\t\tvar temp;\r\n\t\t\tif((temp = RealGroup.groupMap.get(self)) instanceof RealGroup) return console.log('Please do not new for \"self\":'+self+' again !'),temp;\r\n\t\t\tsuper({id,info});\r\n\t\t\tif(Object(self) !== self) this.error('\"self\" not typeof object !');\r\n\t\t\tReflect.defineProperty(this,'listenerMap',tempConfig);\r\n\t\t\ttemp = new RealGroup.tempProxy(self,this);\r\n\t\t\tthis.proto.value = new Proxy(temp,temp);\r\n\t\t\tRealGroup.groupMap.set(self,this);\r\n\t\t}\r\n\t};\r\n\tvar RealTarget =\r\n\t/**\r\n\t * \r\n\t * @template {Element | {}} T\r\n\t */\r\n\tclass RealTarget extends RealNode{\r\n\t\t/**@typedef {AntiNode & {self: Element & {},isElement: Boolean,transform(value)=>*}} AntiTarget */\r\n\t\tstatic proto = class AntiTarget extends RealNode.proto{\r\n\t\t\t/**@type {Element & {}} */\r\n\t\t\tself;\r\n\t\t\t/**@type {Boolean} */\r\n\t\t\tisElement;\r\n\t\t\t/**@type {(value)=>*} */\r\n\t\t\ttransform;\r\n\t\t};\r\n\t\t/**@param {Element} self  */\r\n\t\tstatic newBySelf(self){return new this({self});}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @type {{(element: Element)=>RealElement[];(element: {})=>RealTarget[];(element)=>RealElement[];}}\r\n\t\t */\r\n\t\tstatic searchByObj(element){\r\n\t\t\tconst temp = [];\r\n\t\t\tif(Object(element) !== element) return temp;\r\n\t\t\tfor(const realTarget of RealTarget._sys.values()) if(element === realTarget.self) temp.push(realTarget);\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealTarget}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse();\r\n\t\t\t\tif(!position.length) return this.realSet(realNode.value,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\trealNode.value === value[position[0]] || (value[position[0]] = realNode.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.fix(),react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealTarget) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\tforceRefresh(){this.self.load?.();}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {T} value \r\n\t\t */\r\n\t\tprotoTransform(value){return value;}\r\n\t\tfix(){return this.self[this.key] = this.transform(this.proto.value),this;}\r\n\t\tclearClassName(){return this.proto.isElement && (this.proto.self.className = '',true);}\r\n\t\t/**@param {...String} classList */\r\n\t\taddClassName(...classList){return this.proto.isElement && (this.proto.self.classList.add(...classList),true);}\r\n\t\t/**@param {String} className */\r\n\t\ttoggleClassName(className){return this.proto.isElement && this.proto.self.classList.toggle(className);}\r\n\t\t/**@param {...String} classList  */\r\n\t\tremoveClassName(...classList){return this.proto.isElement && (this.proto.self.classList.remove(...classList),true);}\r\n\t\tgetIndexWithin(){\r\n\t\t\tvar i = 0,temp = this.proto.self;\r\n\t\t\twhile(temp = temp.previousElementSibling) i++;\r\n\t\t\treturn i;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Boolean}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){try{\r\n\t\t\tvar temp;\r\n\t\t\treturn (this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true) && (this.fix(),react && this.react?.(),notify && this.notify(noSelf),true);\r\n\t\t}catch(e){return error(e),e;};}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {keyof HTMLElementTagNameMap} selfSelector \r\n\t\t * @param {String | {[selector: String]: {[styleName: String]: String}}} classNameOrRuleObjObj \r\n\t\t */\r\n\t\tapplyCSS(selfSelector,classNameOrRuleObjObj){\r\n\t\t\tif(!(this.proto.self instanceof Element)) this.error('I am not RealElement !');\r\n\t\t\tconst strReg = /^[A-Za-z]/;\r\n\t\t\tvar temp = selfSelector;\r\n\t\t\tif(typeof selfSelector !== 'string'){\r\n\t\t\t\twhile(temp = temp?.parentElement) if(temp === this.proto.self) break;\r\n\t\t\t\ttemp ? selfSelector = ' #'+(selfSelector.id || (selfSelector.id = RealElement.getRandomId())) :\r\n\t\t\t\tthis.error('\"selfSelector\" must be String or my descendant !');\r\n\t\t\t}\r\n\t\t\tconst id = this.proto.self.id || (this.proto.self.id = RealElement.getRandomId());\r\n\t\t\ttypeof classNameOrRuleObjObj === 'string' ? classNameOrRuleObjObj = RealElement.myStyle.get(classNameOrRuleObjObj) :\r\n\t\t\tclassNameOrRuleObjObj = Object(classNameOrRuleObjObj);\r\n\t\t\treturn !classNameOrRuleObjObj ? false : (RealElement.addCSSRules(\r\n\t\t\t\t'#'+id+(strReg.test(selfSelector) ? ' ' : '')+selfSelector,classNameOrRuleObjObj\r\n\t\t\t),RealElement.addId(id,false),true);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} keepValue \r\n\t\t * @param {Boolean} fix \r\n\t\t * @param {Boolean} [deepCopyRelativeRNs] \r\n\t\t */\r\n\t\tclone(keepValue,fix,deepCopyRelativeRNs){\r\n\t\t\tconst self = this.proto.self instanceof Element ? this.proto.self.cloneNode() :\r\n\t\t\tObject.assign(Object.create(Reflect.getPrototypeOf(this.proto.self)),this.proto.self);\r\n\t\t\tconst param0 = {self,key: this.key,transform: this.transform};\r\n\t\t\tconst temp = new RealTarget(param0,{\r\n\t\t\t\tget: this.proto.get,\r\n\t\t\t\tset: this.proto.set,\r\n\t\t\t\treact: this.proto.react,\r\n\t\t\t\tid: this.id.description+'-clone',\r\n\t\t\t\tinfo: this.info,\r\n\t\t\t\tinitValue: keepValue ? this.proto.value : void 0,\r\n\t\t\t});\r\n\t\t\tReflect.setPrototypeOf(temp,Reflect.getPrototypeOf(this));\r\n\t\t\tif(null == deepCopyRelativeRNs) temp.relativeRNs = deepCopyRelativeRNs ? this.relativeRNs : this.relativeRNs.concat();\r\n\t\t\treturn fix ? temp.fix() : temp;\r\n\t\t}\r\n\t\tget isElement(){return this.proto.isElement;}\r\n\t\tget transform(){return this.proto.transform;}\r\n\t\t/**@param {(value)=>*} transform */\r\n\t\tset transform(transform){this.proto.transform = typeof transform === 'function' ? transform : this.protoTransform;}\r\n\t\t/**@type {T} */\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){\r\n\t\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\t\tthis.error('=> \"self\" must be Object !');\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{self: T,key,transform?: (value)=>*}} param0 \r\n\t\t * @param {{get?: ()=>*,set?: (value)=>Boolean,react?: ()=>void,id?,info?,value?,initValue?}} [config] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {...RealNode} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor({self,key,transform},config,tryRealNode,...relativeRNs){\r\n\t\t\tsuper(config,tryRealNode);\r\n\t\t\t/**@type {AntiTarget} */this.proto;\r\n\t\t\tthis.self = self;\r\n\t\t\tthis.key = key;\r\n\t\t\tthis.transform = transform;\r\n\t\t\ttryRealNode && this.realSet(config.initValue);\r\n\t\t\tthis.relate(...relativeRNs);\r\n\t\t\tthis.addClassName(this.constructor.name);\r\n\t\t}\r\n\t};\r\n\tvar RealElement =\r\n\t/**\r\n\t * \r\n\t * @template {Element | {}} T\r\n\t */\r\n\tclass RealElement extends RealTarget{\r\n\t\t/**@type {T} */\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){\r\n\t\t\tObject(self) === self ? this.proto.isElement = (this.proto.self = self) instanceof Element :\r\n\t\t\tthis.error('=> \"self\" must be Element !');\r\n\t\t}\r\n\t\t/**@type {Set<String>} */\r\n\t\tstatic idSet = new Set;\r\n\t\tstatic findId(id){return this.idSet.has(id);}\r\n\t\tstatic deleteId(id){typeof id !== 'string' && error('=> Please use String \"id\" !');return this.idSet.delete(id);}\r\n\t\tstatic getRandomId(){\r\n\t\t\tfor(var temp;this.idSet.has(temp = 'C3'+Math.floor(Math.random() * 1e14).toString(36)););\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tstatic addId(id,strict = true){\r\n\t\t\tif(id) typeof id !== 'string' ? this.error('=> Please use String \"id\" !') :\r\n\t\t\tthis.idSet.has(id) ? strict && this.error('=> Please use another \"id\" !') :\r\n\t\t\tthis.idSet.add(id);\r\n\t\t}\r\n\t\t/**@type {Map<String,{[selector: String]: {}}>} */\r\n\t\tstatic myStyle = new Map;\r\n\t\t/**@type {{[type: String]:Map<(keyof HTMLElementTagNameMap,EventListener)[]>}} */\r\n\t\tstatic selectorEventListeners = {};\r\n\t\tstatic keyboardController = (browserMode && addEventListener('keydown',e=>{\r\n\t\t\tif(/^(TEXTAREA)|(SELECT)|(INPUT)$/.test(document.activeElement?.tagName)) return;\r\n\t\t\t/**@type {?Element} */\r\n\t\t\tconst onkeyboardController = document.querySelector('.onkeyboardControl') ?? document.querySelector('.keyboardController');\r\n\t\t\tif(!onkeyboardController) return;\r\n\t\t\tvar i,temp;\r\n\t\t\tswitch(e.key){\r\n\t\t\t\tcase RealElement.keyboardController?.previous: i = -1;break;\r\n\t\t\t\tcase RealElement.keyboardController?.next: i = 1;break;\r\n\t\t\t\tcase RealElement.keyboardController?.enter: (temp = RealTarget.searchByObj(onkeyboardController)[0]) instanceof RealDivList ?\r\n\t\t\t\ttemp.proto.list.length ?\r\n\t\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),(temp = temp.proto.list[0]).classList.add('onkeyboardControl')) :\r\n\t\t\t\t(temp = onkeyboardController).click() :\r\n\t\t\t\t(temp = onkeyboardController.querySelector('.keyboardController')) ?\r\n\t\t\t\t(onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t\t(temp = onkeyboardController).click();break;\r\n\t\t\t\tcase RealElement.keyboardController?.back:{\r\n\t\t\t\t\ttemp = onkeyboardController;\r\n\t\t\t\t\twhile(temp = temp.parentElement) if(temp.classList.contains('keyboardController')) break;\r\n\t\t\t\t\ttemp ? (onkeyboardController.classList.remove('onkeyboardControl'),temp.classList.add('onkeyboardControl')) :\r\n\t\t\t\t\t(temp = onkeyboardController).classList.add('onkeyboardControl');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(i++){if(temp = onkeyboardController,onkeyboardController.classList.remove('onkeyboardControl'),i){\r\n\t\t\t\twhile(temp = temp.nextElementSibling) if(getComputedStyle(temp).display !== 'none') break;\r\n\t\t\t\t(temp || (temp = onkeyboardController.parentElement.firstElementChild)).classList.add('onkeyboardControl');\r\n\t\t\t}else{\r\n\t\t\t\twhile(temp = temp.previousElementSibling) if(getComputedStyle(temp).display !== 'none') break;\r\n\t\t\t\t(temp || (temp = onkeyboardController.parentElement.lastElementChild)).classList.add('onkeyboardControl');\r\n\t\t\t}}\r\n\t\t\ttemp && temp.animate({'opacity':[1,0,1]},{duration: 500});\r\n\t\t}),{\r\n\t\t\tprevious: 'ArrowUp',\r\n\t\t\tnext: 'ArrowDown',\r\n\t\t\tenter:'ArrowRight',\r\n\t\t\tback: 'ArrowLeft'\r\n\t\t});\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {RealElement<HTMLDivElement>}\r\n\t\t */\r\n\t\tstatic createDiv(id = '',initValue = ''){return new RealElement({self: document.createElement('div'),key: 'textContent'},{id,initValue});}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {RealElement<HTMLTextAreaElement>}\r\n\t\t */\r\n\t\tstatic createTextarea(placeholder){\r\n\t\t\tconst temp = document.createElement('textarea');\r\n\t\t\treturn new RealElement({self: (temp.placeholder = String(placeholder),temp),key: 'value'});\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {keyof HTMLElementTagNameMap} T\r\n\t\t * @param {T} tagName \r\n\t\t * @param {HTMLElementTagNameMap[T]} [config] \r\n\t\t * @param {CSSStyleDeclaration} [cssConfig] \r\n\t\t * @returns {HTMLElementTagNameMap[T]}\r\n\t\t */\r\n\t\tstatic newXHTML(tagName,config,cssConfig){\r\n\t\t\treturn Object.assign(Object.assign(tagName = document.createElement(tagName),config).style,cssConfig),tagName;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {keyof SVGElementTagNameMap} T\r\n\t\t * @param {T} tagName \r\n\t\t * @param {SVGElementTagNameMap[T]} [config] \r\n\t\t * @param {CSSStyleDeclaration} [cssConfig] \r\n\t\t * @returns {SVGElementTagNameMap[T]}\r\n\t\t */\r\n\t\tstatic newSVG(tagName,config,cssConfig){\r\n\t\t\treturn RealElement.makeElement(document.createElementNS('http://www.w3.org/2000/svg',tagName),config,cssConfig);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} [forceRefresh] \r\n\t\t * @returns {RealElement<HTMLImageElement>}\r\n\t\t */\r\n\t\tstatic createImg(forceRefresh){return new RealElement(\r\n\t\t\t{self: document.createElement('img'),key: 'src'},\r\n\t\t\tforceRefresh ? {react: RealTarget.prototype.forceRefresh} : emptyObj\r\n\t\t);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {HTMLAudioElement} [config] \r\n\t\t * @param {Boolean} [forceRefresh] \r\n\t\t * @returns {RealElement<HTMLAudioElement>}\r\n\t\t */\r\n\t\tstatic createAudio(config,forceRefresh){return new RealElement(\r\n\t\t\t{self: RealElement.newXHTML('audio',config),key: 'src'},\r\n\t\t\tforceRefresh ? {react: RealTarget.prototype.forceRefresh} : emptyObj\r\n\t\t);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {HTMLVideoElement} [config] \r\n\t\t * @param {CSSStyleDeclaration} [cssConfig] \r\n\t\t * @param {Boolean} [forceRefresh] \r\n\t\t * @returns {RealElement<HTMLVideoElement>}\r\n\t\t */\r\n\t\tstatic createVideo(config,cssConfig,forceRefresh){return new RealElement(\r\n\t\t\t{self: RealElement.newXHTML('video',config,cssConfig),key: 'src'},\r\n\t\t\tforceRefresh ? {react: RealTarget.prototype.forceRefresh} : emptyObj\r\n\t\t);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Element[] | IterableIterator<Element>} Elements \r\n\t\t */\r\n\t\tstatic newDocumentFragmentFromElements(Elements){\r\n\t\t\tconst temp = new DocumentFragment();\r\n\t\t\tfor(const ele of Elements) try{temp.appendChild(ele);}catch(e){error(e);}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(Element | {self: Element})} elementList\r\n\t\t */\r\n\t\tstatic applyKeyboardController(...elementList){\r\n\t\t\tfor(const ele of elementList) ele instanceof Element ? ele.classList.add('keyboardController') :\r\n\t\t\tele?.self instanceof Element && ele.self.classList.add('keyboardController');\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...(Element | {self: Element})} elementList\r\n\t\t */\r\n\t\tstatic cancelKeyboardController(...elementList){\r\n\t\t\tfor(const ele of elementList) ele instanceof Element ? ele.classList.remove('keyboardController') :\r\n\t\t\tele?.self instanceof Element && ele.self.classList.remove('keyboardController');\r\n\t\t}\r\n\t\t/**@method */\r\n\t\tstatic makeElementByString = (()=>{\r\n\t\t\t/**@type {HTMLTemplateElement} */\r\n\t\t\tconst template = browserMode ? document.createElement('template') : {content: {}};\r\n\t\t\tconst makeElementByString = innerHTML=>(template.innerHTML = String(innerHTML),template.content.firstElementChild);\r\n\t\t\treturn makeElementByString._clear = ()=>(template.innerHTML = '',template.content),makeElementByString;\r\n\t\t})();\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {Element | keyof HTMLElementTagNameMap} T \r\n\t\t * @param {T} element \r\n\t\t * @param {HTMLElement & SVGElement} [config] \r\n\t\t * @param {CSSStyleDeclaration} [cssConfig] \r\n\t\t * @returns {T extends Element ? T : HTMLElementTagNameMap[T]}\r\n\t\t */\r\n\t\tstatic makeElement(element,config,cssConfig){\r\n\t\t\telement instanceof Element || (element = document.createElement(element));\r\n\t\t\tconst style = element.style;\r\n\t\t\tvar temp;\r\n\t\t\tif(config) for(const attr of Object.keys(config)) try{if(attr in element) try{\r\n\t\t\t\ttypeof (temp = element[attr]) === 'object' && null !== temp ?\r\n\t\t\t\t'baseVal' in temp && element.setAttribute(attr,config[attr]) : element[attr] = config[attr];\r\n\t\t\t}catch(e){error(e);}else attr in style ? style[attr] = String(config[attr]) : element.setAttribute(attr,config[attr]);}catch(e){error(e);}\r\n\t\t\treturn Object.assign(style,cssConfig),element;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {String} T\r\n\t\t * @template {Boolean | Node | []} U\r\n\t\t * @param {T} type \r\n\t\t * @param {T extends 'svg' ? (keyof SVGElementTagNameMap)[] : (keyof HTMLElementTagNameMap)[]} tagNameArray \r\n\t\t * @param {U} [toDocumentFragment] \r\n\t\t * @returns {U extends true ? DocumentFragment : T extends 'svg' ? SVGElement[] : Element[]}\r\n\t\t */\r\n\t\tstatic newElements(type,tagNameArray,toDocumentFragment){\r\n\t\t\tconst iter = tagNameArray[Symbol.iterator]();\r\n\t\t\tif(toDocumentFragment){\r\n\t\t\t\tif(toDocumentFragment = new DocumentFragment(),'svg' === type) for(tagNameArray of iter) toDocumentFragment.\r\n\t\t\t\tappendChild(document.createElementNS('http://www.w3.org/2000/svg',tagNameArray?.tagName ?? tagNameArray));\r\n\t\t\t\telse for(tagNameArray of iter) toDocumentFragment.appendChild(document.createElement(tagNameArray?.tagName ?? tagNameArray));\r\n\t\t\t}else if(toDocumentFragment = [],'svg' === type) for(tagNameArray of iter) toDocumentFragment.push(\r\n\t\t\t\tdocument.createElementNS('http://www.w3.org/2000/svg',tagNameArray?.tagName ?? tagNameArray)\r\n\t\t\t);else for(tagNameArray of iter) toDocumentFragment.push(document.createElement(tagNameArray?.tagName ?? tagNameArray));\r\n\t\t\treturn toDocumentFragment;\r\n\t\t}\r\n\t\t/**@method */\r\n\t\tstatic addEventListenerBySelectors = (()=>{\r\n\t\t\tconst temp =\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {Event} e \r\n\t\t\t * @param {((event: Event)=>void)[]} listenerArray \r\n\t\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t\t */\r\n\t\t\t(e,listenerArray,selectors)=>{try{if(Array.from(document.querySelectorAll(selectors)).includes(e.target)){\r\n\t\t\t\tfor(var i = 0,l = listenerArray.length;i < l;) try{listenerArray[i++](e);}catch(e){error(e?.stack ?? e);}\r\n\t\t\t}}catch(e){error(e);}},\r\n\t\t\taddEventListenerBySelectors =\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {keyof HTMLElementTagNameMap} selectors \r\n\t\t\t * @param {keyof HTMLElementEventMap} type \r\n\t\t\t * @param {(event: Event)=>void} listener \r\n\t\t\t */\r\n\t\t\t(selectors,type,listener)=>{\r\n\t\t\t\tconst tempStr = type.replace(type[0],type[0].toUpperCase());\r\n\t\t\t\treturn !selectors || '*' === selectors ? addEventListener(type,listener) : (\r\n\t\t\t\t\t!RealElement.selectorEventListeners[type] && (RealElement.selectorEventListeners[type] = new Map,addEventListener(type,e=>{\r\n\t\t\t\t\t\tconst t0 = performance.now();\r\n\t\t\t\t\t\tRealElement.selectorEventListeners[type].forEach(/**### bind */(listenerArray,selectors)=>temp(e,listenerArray,selectors));\r\n\t\t\t\t\t\tlog(tempStr+'-listeners completed\\nin '+RealNode.makeNumStr0oTail(performance.now() - t0)+' ms.');\r\n\t\t\t\t\t})),\r\n\t\t\t\t\tRealElement.selectorEventListeners[type].has(selectors) ? RealElement.selectorEventListeners[type].get(selectors).push(listener) :\r\n\t\t\t\t\tRealElement.selectorEventListeners[type].set(selectors,[listener])\r\n\t\t\t\t),addEventListenerBySelectors;\r\n\t\t\t};\r\n\t\t\treturn addEventListenerBySelectors;\r\n\t\t})();\r\n\t\t/**@method */\r\n\t\tstatic addCSSRules = (()=>{\r\n\t\t\tif(!browserMode){const addCSSRules = ()=>addCSSRules; return addCSSRules._css = RealWorld.onload,addCSSRules;}\r\n\t\t\tvar myCSS = RealWorld.onload.then(()=>{\r\n\t\t\t\tconst style = document.getElementsByTagName(\"head\")[0].appendChild(document.createElement(\"style\"));\r\n\t\t\t\twindow.createPopup || style.appendChild(document.createTextNode(\"\")),myCSS = style.sheet;\r\n\t\t\t});\r\n\t\t\tconst testReg = /^\\.([A-Za-z][A-Z0-9a-z]{0,})$/;\r\n\t\t\tconst strReg0 = /[A-Za-z]$/,strReg1 = /^[A-Za-z]/;\r\n\t\t\tconst getKeys = obj=>Object(obj) === obj ? Object.keys(obj) : [];\r\n\t\t\t/**@type {(selector: keyof HTMLElementTagNameMap,rulesStr: String)=>Promise<Number>} */\r\n\t\t\tvar insertRule = !globalThis.CSSStyleSheet.prototype.insertRule ? (selector,rulesStr)=>myCSS.addRule(selector,rulesStr,-1) :\r\n\t\t\t(selector,rulesStr)=>myCSS.insertRule(selector+\"{\\n\"+rulesStr+\"}\",myCSS.cssRules.length);\r\n\t\t\tvar tempInsertRule = (selector,rulesStr)=>myCSS instanceof Promise ?\r\n\t\t\tmyCSS.then(()=>(tempInsertRule = insertRule)(selector,rulesStr)) : (tempInsertRule = insertRule)(selector,rulesStr);\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param {String} prefix \r\n\t\t\t * @param {{[selector: String]: {[styleName: String]: String}}} ruleObjObj \r\n\t\t\t */\r\n\t\t\tconst addCSSRules = (prefix,ruleObjObj)=>{try{\r\n\t\t\t\tif(Array.isArray(prefix)){\r\n\t\t\t\t\tlet i = prefix.length\r\n\t\t\t\t\twhile(i --> 0) typeof prefix[i] === 'string' && addCSSRules(prefix[i],ruleObjObj);\r\n\t\t\t\t\treturn addCSSRules;\r\n\t\t\t\t}else typeof prefix === 'string' || RealElement.error('\"prefix\" in addCSSRules must be String !');\r\n\t\t\t\tfor(const selector of getKeys(ruleObjObj)){\r\n\t\t\t\t\tconst ruleObj = ruleObjObj[selector],temp = [];\r\n\t\t\t\t\tfor(const key of getKeys(ruleObj)){temp.push(key,':',String(ruleObj[key]),';\\n');}\r\n\t\t\t\t\ttempInsertRule(prefix+(strReg0.test(prefix) && strReg1.test(selector) ? ' ' : '')+selector+' ',temp.join(''));\r\n\t\t\t\t}\r\n\t\t\t\tconst cssName = testReg.exec(prefix)?.[1];\r\n\t\t\t\tcssName && RealElement.myStyle.set(cssName,Object.assign({},RealElement.myStyle.get(cssName),ruleObjObj));\r\n\t\t\t}catch(e){error(e);}return addCSSRules;};\r\n\t\t\treturn addCSSRules._css = myCSS,addCSSRules;\r\n\t\t})();\r\n\t\tstatic defaultInit = (()=>{\r\n\t\t\tvar onload = false;\r\n\t\t\t/**@returns {PromiseLike<{error?: Error; time: number; value?;}>} */\r\n\t\t\treturn ()=>{\r\n\t\t\t\treturn onload ? RealWorld.onload : RealWorld.onload = (onload = true,RealWorld.onload.\r\n\t\t\t\tthen(()=>RealNode.time(()=>void RealElement.addCSSRules('',{\r\n\t\t\t\t\t'*':{\r\n\t\t\t\t\t\t'margin':'0',\r\n\t\t\t\t\t\t'padding':'0',\r\n\t\t\t\t\t\t'border':'0',\r\n\t\t\t\t\t\t'-webkit-user-select':'none',\r\n\t\t\t\t\t\t'-moz-user-select':'none',\r\n\t\t\t\t\t\t'-ms-user-select':'none',\r\n\t\t\t\t\t\t'user-select':'none',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t':root':{\r\n\t\t\t\t\t\t'--mapWidth':'1920px',\r\n\t\t\t\t\t\t'--halfBlack':'rgba(0, 0, 0, 0.5)',\r\n\t\t\t\t\t\t'--halfWhite':'rgba(225, 225, 225, 0.5)',\r\n\t\t\t\t\t\t'--noColor':'rgba(0, 0, 0, 0)',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'pre':{\r\n\t\t\t\t\t\t'text-align':'left',\r\n\t\t\t\t\t\t'align-content':'left',\r\n\t\t\t\t\t\t'vertical-align':'top',\r\n\t\t\t\t\t\t'white-space':'pre-wrap',\r\n\t\t\t\t\t\t'word-wrap':'break-word',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'html':{\r\n\t\t\t\t\t\t'cursor':'default',\r\n\t\t\t\t\t\t'background-color':'black',\r\n\t\t\t\t\t\t'color':'white',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'body':{\r\n\t\t\t\t\t\t'transform':'rotate(0)',\r\n\t\t\t\t\t\t'transform-origin':'50vmin 50vmin',\r\n\t\t\t\t\t\t// 'width':'100vmax',\r\n\t\t\t\t\t\t// 'height':'calc((var(--mapWidth) - 100vmax) * 9 / 16 + 100vmin)',\r\n\t\t\t\t\t\t'overflow':'visible scroll',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'body>*':{'position':'absolute',},\r\n\t\t\t\t\t'hr':{'border':'1px solid white,'},\r\n\t\t\t\t\t'::-webkit-scrollbar':{'display':'none',},\r\n\t\t\t\t})('.coverBody',{\r\n\t\t\t\t\t'':{'width': '100vmax','height':'56.25vmax'},\r\n\t\t\t\t})('.noDisplay',{\r\n\t\t\t\t\t'':{'display':'none'},\r\n\t\t\t\t})('.disappear',{\r\n\t\t\t\t\t'':{'visibility':'hidden'},\r\n\t\t\t\t})('.listDown',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listRight',{\r\n\t\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listDownListRight',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('.listRightListDown',{\r\n\t\t\t\t\t'':{'writing-mode':'vertical-lr'},\r\n\t\t\t\t\t'>*':{'position':'relative','display':'block','writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*>*':{'position':'relative','display':'block'},\r\n\t\t\t\t})('div.listClose',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t\t'>:nth-child(1)':{'z-index':'1'},\r\n\t\t\t\t\t'>:nth-child(2)':{'z-index':'2'},\r\n\t\t\t\t\t'>:nth-child(3)':{'z-index':'3'},\r\n\t\t\t\t\t'>:nth-child(4)':{'z-index':'4'},\r\n\t\t\t\t\t'>:nth-child(5)':{'z-index':'5'},\r\n\t\t\t\t\t'>:nth-child(6)':{'z-index':'6'},\r\n\t\t\t\t\t'>:nth-child(7)':{'z-index':'7'},\r\n\t\t\t\t\t'>:nth-child(8)':{'z-index':'8'},\r\n\t\t\t\t\t'>:nth-child(9)':{'z-index':'9'},\r\n\t\t\t\t\t'>:nth-child(10)':{'z-index':'10'},\r\n\t\t\t\t\t'>:nth-child(11)':{'z-index':'11'},\r\n\t\t\t\t\t'>:nth-child(12)':{'z-index':'12'},\r\n\t\t\t\t\t'>:nth-child(13)':{'z-index':'13'},\r\n\t\t\t\t\t'>:nth-child(14)':{'z-index':'14'},\r\n\t\t\t\t\t'>:nth-child(15)':{'z-index':'15'},\r\n\t\t\t\t})('div.listFar',{\r\n\t\t\t\t\t'':{'writing-mode':'horizontal-tb'},\r\n\t\t\t\t\t'>*':{'position':'absolute'},\r\n\t\t\t\t\t'>:nth-last-child(1)':{'z-index':'1'},\r\n\t\t\t\t\t'>:nth-last-child(2)':{'z-index':'2'},\r\n\t\t\t\t\t'>:nth-last-child(3)':{'z-index':'3'},\r\n\t\t\t\t\t'>:nth-last-child(4)':{'z-index':'4'},\r\n\t\t\t\t\t'>:nth-last-child(5)':{'z-index':'5'},\r\n\t\t\t\t\t'>:nth-last-child(6)':{'z-index':'6'},\r\n\t\t\t\t\t'>:nth-last-child(7)':{'z-index':'7'},\r\n\t\t\t\t\t'>:nth-last-child(8)':{'z-index':'8'},\r\n\t\t\t\t\t'>:nth-last-child(9)':{'z-index':'9'},\r\n\t\t\t\t\t'>:nth-last-child(10)':{'z-index':'10'},\r\n\t\t\t\t\t'>:nth-last-child(11)':{'z-index':'11'},\r\n\t\t\t\t\t'>:nth-last-child(12)':{'z-index':'12'},\r\n\t\t\t\t\t'>:nth-last-child(13)':{'z-index':'13'},\r\n\t\t\t\t\t'>:nth-last-child(14)':{'z-index':'14'},\r\n\t\t\t\t\t'>:nth-last-child(15)':{'z-index':'15'},\r\n\t\t\t\t})('.onhover',{\r\n\t\t\t\t\t':hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t\t})('.onactive',{\r\n\t\t\t\t\t':active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t\t})('.childOnhover',{\r\n\t\t\t\t\t'>:hover':{'background':'linear-gradient(#fff,#000,#000,#fff)'}\r\n\t\t\t\t})('.childOnactive',{\r\n\t\t\t\t\t'>:active':{'background':'linear-gradient(#000,#fff,#fff,#000)'}\r\n\t\t\t\t})('.relativeSquare',{\r\n\t\t\t\t\t'':{'width':'20vmin','height':'20vmin'},\r\n\t\t\t\t})('.fontTitle',{\r\n\t\t\t\t\t'':{'font-size':'20vmin'},\r\n\t\t\t\t})('.fontHead',{\r\n\t\t\t\t\t'':{'font-size':'10vmin'},\r\n\t\t\t\t})('.fontNormal',{\r\n\t\t\t\t\t'':{'font-size':'3vmin'},\r\n\t\t\t\t})('.scrollY',{\r\n\t\t\t\t\t'':{'overflow':'hidden scroll'},\r\n\t\t\t\t})('.scrollX',{\r\n\t\t\t\t\t'':{'overflow':'scroll hidden'},\r\n\t\t\t\t})('.scrollXY',{\r\n\t\t\t\t\t'':{'overflow':'scroll'},\r\n\t\t\t\t})('.scrollNone',{\r\n\t\t\t\t\t'':{'overflow':'hidden'},\r\n\t\t\t\t})('.centerCenter',{\r\n\t\t\t\t\t'':{\r\n\t\t\t\t\t\t'text-align':'justify',// 文本左右对齐方式\r\n\t\t\t\t\t\t'align-items':'center',// 子元素自垂直对齐\r\n\t\t\t\t\t\t'align-content':'center',// 元素左右对齐方式\r\n\t\t\t\t\t\t'vertical-align':'baseline',// 元素相对文字对齐\r\n\t\t\t\t\t\t'justify-content':'center',// 子元素水平对齐\r\n\t\t\t\t\t},\r\n\t\t\t\t})('.autoFull',{\r\n\t\t\t\t\t'':{'width':'100vmax','height':'100vmin'},\r\n\t\t\t\t})('.selfCenterCenter',{\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\t// 'align-self':'center',\r\n\t\t\t\t\t\t'left':'50%',\r\n\t\t\t\t\t\t'top':'50%',\r\n\t\t\t\t\t\t'transform':'translate(-50%,-50%)',\r\n\t\t\t\t\t},\r\n\t\t\t\t})._css.finally(),time=>log('Init defaultCSS\\nin '+RealNode.makeNumStr0oTail(time)+' ms.'))));\r\n\t\t\t};\r\n\t\t})();\r\n\t};\r\n\t{\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @typedef {{\r\n\t\t * resolve: (value)=>void;\r\n\t\t * reject: (reason?)=>void;\r\n\t\t * promise: Promise;\r\n\t\t * }} StoryPromise \r\n\t\t */\r\n\t\t/**@type {{()=>StoryPromise; new()=>StoryPromise;}} */\r\n\t\tconst StoryPromise = function(){\r\n\t\t\tif(null == this || this === globalThis) return new StoryPromise;\r\n\t\t\t/**@type {(value)=>void} */\r\n\t\t\tthis.resolve = null;\r\n\t\t\t/**@type {(reason?)=>void} */\r\n\t\t\tthis.reject = null;\r\n\t\t\treturn this.promise = new Promise((resolve,reject)=>{this.resolve = resolve;this.reject = reject;}),this;\r\n\t\t};\r\n\tvar RealStory = new class RealStory{\r\n\t\tnewPage(){return new RealStory(this);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {(page: RealStory)=>T} fn \r\n\t\t * @returns {Promise<T>}\r\n\t\t */\r\n\t\tnewPrivatePage(fn){return new Promise(r=>r(fn?.(this.newPage())));}\r\n\t\tthen(fn){return typeof fn === 'function' && this.fnList.unshift(fn),this;}\r\n\t\tgetNextPage(){\r\n\t\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\t\tconst temp = this.ofStory.pages;\r\n\t\t\treturn temp[temp.indexOf(this) + 1];\r\n\t\t}\r\n\t\tgetPreviousPage(){\r\n\t\t\tif(!(this.ofStory instanceof RealStory)) return;\r\n\t\t\tconst temp = this.ofStory.pages;\r\n\t\t\treturn temp[temp.indexOf(this) - 1];\r\n\t\t}\r\n\t\tnewPromiseObj(){\r\n\t\t\tconst temp = new StoryPromise;\r\n\t\t\treturn this.then(()=>temp.promise),temp;\r\n\t\t}\r\n\t\tasync launch(){\r\n\t\t\tvar i = 0,temp = this;\r\n\t\t\twhile((temp = temp.ofStory) instanceof RealStory) i++;\r\n\t\t\tconst bool = !i;\r\n\t\t\tif(bool) isBusy = true;\r\n\t\t\twhile(this.pages.length || this.fnList.length){\r\n\t\t\t\twhile(this.fnList.length) try{this.info = await this.fnList.pop()?.(this.info);}\r\n\t\t\t\tcatch(e){error('Depth of the fn : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t\t\ttry{await this.pages.shift()?.launch?.();}catch(e){error('Depth of the page : '+i+'\\n'+String(e?.stack ?? e));}\r\n\t\t\t}if(bool) isBusy = false;\r\n\t\t}\r\n\t\tget StoryPromise(){return StoryPromise;}\r\n\t\tget index(){return this.ofStory instanceof RealStory ? this.ofStory.pages.indexOf(this) : -1;}\r\n\t\t/**@type {?RealStory} */\r\n\t\tofStory;\r\n\t\t/**@type {RealStory[]} */\r\n\t\tpages = [];\r\n\t\t/**@type {(()=>*)[]} */\r\n\t\tfnList = [];\r\n\t\tinfo;\r\n\t\tconstructor(ofStory){(this.ofStory = ofStory instanceof RealStory && ofStory) && ofStory.pages.push(this);}\r\n\t};\r\n\t\tlet isBusy = Reflect.getPrototypeOf(RealStory).constructor = false;\r\n\t\tRealWorld.onload.then(()=>Reflect.getPrototypeOf(RealStory).constructor = setInterval(()=>isBusy || RealStory.launch(),50));\r\n\t}\r\n\tvar RealPromise = new\r\n\t/**@template T */\r\n\tclass RealPromise{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template T\r\n\t\t * @param {Promise<T> | T} promise \r\n\t\t */\r\n\t\tnewOne(promise){return new RealPromise(promise);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(reason)=>*} [onrejected] \r\n\t\t */\r\n\t\tcatch(onrejected){return this.self = Promise.resolve(this.self).catch(onrejected),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {()=>void} [onfinally] \r\n\t\t */\r\n\t\tfinally(onfinally){return this.self = Promise.resolve(this.self).finally(onfinally),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U,V\r\n\t\t * @param {(value: T)=>U} [onfulfilled] \r\n\t\t * @param {(reason)=>V} [onrejected] \r\n\t\t * @returns {RealPromise<U>}\r\n\t\t */\r\n\t\tthen(onfulfilled,onrejected){return this.self = Promise.resolve(this.self).then(onfulfilled,onrejected).then(this._push,this._throw),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template U\r\n\t\t * @param {(v)=>U} handler \r\n\t\t * @param {(error: Error)=>void} [onerror] \r\n\t\t */\r\n\t\tasync tryHandler(handler,onerror){\r\n\t\t\tif(typeof handler !== 'function') throw new TypeError('\"handler\" must be Function !');\r\n\t\t\ttry{await this.self;}catch(e){error(this.length,e);}\r\n\t\t\tvar i = this.length;\r\n\t\t\twhile(i --> 0) try{try{return handler(await this.list[i]);}catch(e){(onerror ?? error)(e);}}catch(e){error(e);}\r\n\t\t}\r\n\t\tget require(){return RealPromise.require;}\r\n\t\tstatic require = (()=>{\r\n\t\t\t/**@this {Element} */\r\n\t\t\tfunction onfinally(){this.remove();}\r\n\t\t\tconst pathSet = {},tempReg = /[^\\/]+\\/\\.\\.\\//g;\r\n\t\t\treturn nodeMode ? /**@this {RealPromise} */\r\n\t\t\tfunction(path){return this instanceof RealPromise && this._push(Promise.resolve(nodeRequire(String(path))));} :\r\n\t\t\tbrowserMode ? /**@type {(path: String)=>Promise<*,Error | ErrorEvent | void>}@this {RealPromise} */\r\n\t\t\tfunction(path){\r\n\t\t\t\tvar temp,script;\r\n\t\t\t\tpath = String(path).replaceAll('\\\\','/');\r\n\t\t\t\tif(this instanceof RealPromise) while(tempReg.test(path)) path = path.replaceAll(tempReg,'');else return Promise.reject();\r\n\t\t\t\treturn pathSet[path] || (pathSet[path] = (temp = RealStory.StoryPromise(),document.head.appendChild((\r\n\t\t\t\t\tscript = document.createElement('script'),script.onload = temp.resolve,script.onerror = temp.reject,script.src = path,script\r\n\t\t\t\t)),this._push(temp.promise.finally(onfinally.bind(script)))));\r\n\t\t\t} : function(){return Promise.reject(new Error('Mode error !'));};\r\n\t\t})();\r\n\t\tget length(){return this.list.length;}\r\n\t\tlist = [];\r\n\t\t/**\r\n\t\t * ### bind\r\n\t\t * @param {Promise<T> | T} promise \r\n\t\t */\r\n\t\tconstructor(promise){\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @template U\r\n\t\t\t * @param {U} v \r\n\t\t\t */\r\n\t\t\tthis._push = v=>(this.list.push(v),v);\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @throws\r\n\t\t\t */\r\n\t\t\tthis._throw = e=>{throw this.list.push(e),e;};\r\n\t\t\t/**@type {Promise<T>} */\r\n\t\t\tthis.self = Promise.resolve(promise).then(this._push,this._throw);\r\n\t\t\tReflect.defineProperty(this,'list',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'_push',tempConfig);\r\n\t\t\tReflect.defineProperty(this,'_throw',tempConfig);\r\n\t\t}\r\n\t}(RealWorld.onload.then(()=>EXPORTS));\r\n\tRealPromise.self.finally(()=>RealNode.time(RealWorld.onload,time=>log('Set up\\nin '+RealNode.makeNumStr0oTail(time)+' ms.')));\r\n\r\nif(browserMode){\r\n\r\n\tvar RealCanvas = class RealCanvas extends RealElement{\r\n\t\t/**\r\n\t\t * @typedef {AntiTarget & {\r\n\t\t * self: HTMLCanvasElement;\r\n\t\t * temp: CanvasRenderingContext2D;\r\n\t\t * backup: CanvasRenderingContext2D;\r\n\t\t * img: HTMLImageElement;\r\n\t\t * clearBeforeDraw: Boolean;\r\n\t\t * ctx: CanvasRenderingContext2D;\r\n\t\t * }} AntiCanvas \r\n\t\t * */\r\n\t\tstatic proto = class AntiCanvas extends RealTarget.proto{\r\n\t\t\ttemp = document.createElement('canvas').getContext('2d');\r\n\t\t\tbackup = document.createElement('canvas').getContext('2d');\r\n\t\t\timg = new Image;\r\n\t\t\tisElement = true;\r\n\t\t\tclearBeforeDraw = true;\r\n\t\t\t/**@type {CanvasRenderingContext2D} */\r\n\t\t\tctx;\r\n\t\t}\r\n\t\tstatic useCache = true;\r\n\t\t/**@type {Map<String,HTMLImageElement>} */\r\n\t\tstatic srcImageMap = new Map;\r\n\t\t/**@param {HTMLCanvasElement} canvas  */\r\n\t\tstatic newBySelf(canvas){return new RealCanvas(canvas);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} n \r\n\t\t * @param {Number} length \r\n\t\t */\r\n\t\tstatic strN(n,length){return String(n).padStart(length,'0');}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...String} srcArray \r\n\t\t * @returns {Promise<PromiseSettledResult<HTMLImageElement>[]>}\r\n\t\t */\r\n\t\tstatic preloadSrc(...srcArray){\r\n\t\t\tconst fn = RealCanvas.getImageBySrc,temp = emptyArray.concat(...srcArray);\r\n\t\t\tvar i = temp.length;\r\n\t\t\twhile(i --> 0) temp[i] = fn(temp[i]);\r\n\t\t\treturn Promise.allSettled(temp);\r\n\t\t}\r\n\t\t// /**@method @type {(src)=>Promise<HTMLImageElement>} */\r\n\t\t// static getImageBySrc(src){return new Promise((resolve,reject)=>{\r\n\t\t// \tconst temp = RealCanvas.srcImageMap.get(src) ?? new Image;\r\n\t\t// \ttemp.src ? resolve(temp) : src && typeof src === 'string' && !(RealCanvas.useCache && RealCanvas.srcImageMap.has(src)) ?\r\n\t\t// \t(temp.onload = ()=>(\r\n\t\t// \t\tRealCanvas.srcImageMap.set(src,temp),temp.onload = temp.onerror = resolve(temp)\r\n\t\t// \t),temp.onerror = reject,temp.src = src,temp) : reject();\r\n\t\t// })};\r\n\t\t/**@method @type {(src)=>Promise<HTMLImageElement>} */\r\n\t\tstatic getImageBySrc = (()=>{\r\n\t\t\t/**\r\n\t\t\t * ### bind\r\n\t\t\t * @param {String} src \r\n\t\t\t * @param {(value)=>void} resolve \r\n\t\t\t * @param {(reason?)=>void} reject \r\n\t\t\t */\r\n\t\t\tconst tempFn = (src,resolve,reject)=>{\r\n\t\t\t\tconst temp = RealCanvas.srcImageMap.get(src) ?? new Image;\r\n\t\t\t\ttemp.src ? resolve(temp) : src && typeof src === 'string' && !(RealCanvas.useCache && RealCanvas.srcImageMap.has(src)) ?\r\n\t\t\t\t(temp.onload = ()=>(\r\n\t\t\t\t \tRealCanvas.srcImageMap.set(src,temp),temp.onload = temp.onerror = resolve(temp)\r\n\t\t\t\t),temp.onerror = reject,temp.src = src,temp) : reject();\r\n\t\t\t};\r\n\t\t\treturn src=>new Promise((resolve,reject)=>tempFn(src,resolve,reject));\r\n\t\t})();\r\n\t\tstatic getRealGroupToClear = (()=>{\r\n\t\t\tclass ConfigToClearShape{x = 0;y = 0;radiusX;radiusY;shape;relative;}\r\n\t\t\t/**\r\n\t\t\t * ### bind\r\n\t\t\t * @template {RealCanvas} T \r\n\t\t\t * @param {T} realCanvas \r\n\t\t\t * @param {{initFn?: ()=>void;fnBeforeClear?: (this: T)=>void;fnAfterClear?: (this: T)=>void;}} [param1] \r\n\t\t\t */\r\n\t\t\treturn function getRealGroupToClear(realCanvas,{initFn,fnBeforeClear,fnAfterClear} = emptyObj){\r\n\t\t\t\tif(!(realCanvas instanceof RealCanvas)) throw new Error('=> \"realCanvas\" must be instanceof RealCanvas !');\r\n\t\t\t\tconst config = new ConfigToClearShape;\r\n\t\t\t\treturn fnAfterClear = typeof fnAfterClear === 'function' ? ()=>fnAfterClear.call(realCanvas) : prevent,\r\n\t\t\t\tfnBeforeClear = typeof fnBeforeClear === 'function' ? ()=>fnBeforeClear.call(realCanvas) : prevent,\r\n\t\t\t\trealCanvas.loaded.finally(initFn),new RealGroup({self: config}).addSetterListener(null,async()=>(\r\n\t\t\t\t\tawait realCanvas.loaded,fnBeforeClear(),realCanvas.clearShape(config,config.shape).finally(fnAfterClear)\r\n\t\t\t\t));\r\n\t\t\t};\r\n\t\t})();\r\n\t\tprotoTransform(){}\r\n\t\tasync protoGet(){return await this.loaded,this.proto.value;}\r\n\t\tclearAsync(){return this.loaded = Promise.resolve(this.loaded).then(()=>this.clear());}\r\n\t\tfix(imgOrCanvas = this.proto.temp.canvas){(this.proto.clearBeforeDraw ? this.clear() : this.proto.ctx).drawImage(imgOrCanvas,0,0);}\r\n\t\t/**### bind @returns {Promise<PromiseSettledResult<HTMLImageElement>[]>} */\r\n\t\tpreloadSrc(...srcArray){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.preloadSrc(...srcArray));}\r\n\t\tclear(){return this.proto.ctx.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.ctx.closePath(),this.proto.ctx;}\r\n\t\tclearTemp(){return this.proto.temp.clearRect(0,0,this.proto.self.width,this.proto.self.height),this.proto.temp.closePath(),this.proto.temp;}\r\n\t\t/**### bind */\r\n\t\ttestSrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(()=>true,e=>this.rejectSrc(src,e));}\r\n\t\t/**### bind */\r\n\t\trejectSrc(src,err){return src && error(err instanceof Error ? err : (\r\n\t\t\tRealCanvas.useCache && err && RealCanvas.srcImageMap.set(src),this+': Fail to load by src \"'+src+'\" !'\r\n\t\t)),false;}\r\n\t\t/**### bind */\r\n\t\tprotoSet(src){\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).\r\n\t\t\tthen(img=>(this.proto.img = img,this.proto.value = src,true),e=>this.rejectSrc(src,e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Promise<Blob>}\r\n\t\t */\r\n\t\ttoBlob(){try{return RealWorld.cb2promise({thisArg: this.self,useFn: 'toBlob'}).then(\r\n\t\t\tresult=>(result[0] instanceof Error ? (error(result[0]),new Blob) : result[0])\r\n\t\t);}catch(e){return error(e),Promise.resolve(new Blob);}}\r\n\t\tresizeBySrc(src){return this.loaded = Promise.resolve(this.loaded).then(()=>RealCanvas.getImageBySrc(src)).then(img=>{\r\n\t\t\tif(this.self.width !== img.naturalWidth) this.width = img.naturalWidth;\r\n\t\t\tif(this.self.height !== img.naturalHeight) this.height = img.naturalHeight;\r\n\t\t});}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} react \r\n\t\t * @param {Boolean} notify \r\n\t\t * @param {Boolean} noSelf \r\n\t\t * @returns {Promise<Boolean>}\r\n\t\t */\r\n\t\trealSet(value,react,notify,noSelf){\r\n\t\t\tvar temp;\r\n\t\t\treturn this.loaded = Array.isArray(value) ? this.multiDrawSrcArray({},...value).then(()=>{this.proto.value = value;}) :\r\n\t\t\tPromise.resolve(this.proto.set.call(\r\n\t\t\t\tthis,\r\n\t\t\t\tthis.proto.tryRealNode && (temp = this._computePositionsOfRNs(value)).length ?\r\n\t\t\t\tthis._dealWithPositionsOfRNs(temp,value) : value\r\n\t\t\t) ?? true).then(v=>v && (this.fix(this.img),react && this.react?.(),notify && this.notify(noSelf),true)).catch(e=>(error(e),e));\r\n\t\t}\r\n\t\tmultiDrawSrcArray({bgSrc,autoOpacity,resize},...srcArray){\r\n\t\t\tthis.preloadSrc(bgSrc,srcArray);\r\n\t\t\tvar i = -1,temp = bgSrc ?? srcArray[0] ?? false;\r\n\t\t\tresize && temp && this.resizeBySrc(temp);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>this.clearTemp());\r\n\t\t\tif(Array.isArray(bgSrc)){for(temp = bgSrc.length;temp >++ i;) this.temp = bgSrc[i];}\r\n\t\t\telse bgSrc && typeof bgSrc === 'string' && (this.temp = bgSrc);\r\n\t\t\tif(srcArray.length > 1 && autoOpacity){\r\n\t\t\t\tfor(i = srcArray.length,temp = 0;i --> 0;) this.tempOpacity = .625 ** i,this.temp = srcArray[temp++];\r\n\t\t\t}else for(i = -1,temp = srcArray.length;temp >++ i;) this.temp = srcArray[i];\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{this.fix(this.proto.temp.canvas);},e=>log(e?.stack ?? e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t\t * @param {'rect' | 'circle'} [shape] \r\n\t\t */\r\n\t\tapplyMouseClear({radiusX,radiusY,relative} = emptyObj,shape){\r\n\t\t\tconst self = this.proto.self,backup = this.proto.backup,nowStyle = getComputedStyle(self);\r\n\t\t\tconst mouseenter = ()=>(backup.canvas.width = self.width,backup.canvas.height = self.height,backup.drawImage(self,0,0)),\r\n\t\t\t/**@type {(e: MouseEvent)=>Promise<void>} */\r\n\t\t\tmousemove = e=>(mouseleave(),this.clearShape({\r\n\t\t\t\tx: e.offsetX * self.width / +nowStyle.width.slice(0,-2),\r\n\t\t\t\ty: e.offsetY * self.height / +nowStyle.height.slice(0,-2),\r\n\t\t\t\tradiusX,radiusY,relative\r\n\t\t\t},shape)),mouseleave = ()=>this.clear().drawImage(backup.canvas,0,0),\r\n\t\t\t/**## 唯一可以取消该功能的函数 */\r\n\t\t\tcancelMouseClear = ()=>(\r\n\t\t\t\tself.removeEventListener('mouseenter',mouseenter),\r\n\t\t\t\tself.removeEventListener('mouseleave',mouseleave),\r\n\t\t\t\tself.removeEventListener('mousemove',mousemove)\r\n\t\t\t);\r\n\t\t\tself.addEventListener('mouseenter',mouseenter),self.addEventListener('mouseleave',mouseleave),self.addEventListener('mousemove',mousemove);\r\n\t\t\treturn cancelMouseClear;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{x: Number;y: Number;radiusX: Number;radiusY: Number;relative?: Boolean;}} param0 \r\n\t\t * @param {'rect' | 'circle'} [shape] \r\n\t\t */\r\n\t\tclearShape({x = 0,y = 0,radiusX,radiusY,relative} = emptyObj,shape){\r\n\t\t\tvar failed = false;\r\n\t\t\ttypeof radiusX === 'number' ? typeof radiusY === 'number' || (radiusY = radiusX) :\r\n\t\t\ttypeof radiusY === 'number' ? radiusX = radiusY : failed = true;\r\n\t\t\tfailed || (failed = !Number.isFinite(radiusX + radiusY));\r\n\t\t\tif(failed) return Promise.reject(new Error('\"radiusX\": '+String(radiusX)+' or \"radiusY\": '+String(radiusY)+' must be legal number !'));\r\n\t\t\tif(typeof x !== 'number') x = 0;if(typeof y !== 'number') y = 0;\r\n\t\t\tfailed || (failed = !Number.isFinite(x + y));\r\n\t\t\tif(failed) return Promise.reject(new Error('\"x\": '+String(x)+' or \"y\": '+String(y)+' must be legal number !'));\r\n\t\t\treturn this.loaded = Promise.resolve(this.loaded).then(()=>{\r\n\t\t\t\tconst self = this.proto.self,temp = this.proto.temp;\r\n\t\t\t\tvar i = 0,j;\r\n\t\t\t\tradiusX = Math.abs(relative ? radiusX * this.width / 2 : radiusX);\r\n\t\t\t\tradiusY = Math.abs(relative ? radiusY * this.height / 2 : radiusY);\r\n\t\t\t\ttemp.canvas.width = self.width,temp.canvas.height = self.height;\r\n\t\t\t\ttemp.drawImage(self,0,0);\r\n\t\t\t\tswitch(shape){\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tx = Math.round(x),y = Math.round(y),radiusX = Math.ceil(radiusX),radiusY = Math.ceil(radiusY);\r\n\t\t\t\t\t\tconst yPOW2 = radiusY ** 2,yDIVxPOW2 = yPOW2 / radiusX ** 2;\r\n\t\t\t\t\t\twhile(i ++< radiusX) j = Math.floor(Math.sqrt(yPOW2 - i ** 2 * yDIVxPOW2)) + 1,temp.clearRect(x - i,y - j,i * 2,j * 2);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'rect': {\r\n\t\t\t\t\t\ttemp.clearRect(Math.floor(x - radiusX),Math.floor(y - radiusY),Math.ceil(radiusX * 2),Math.ceil(radiusY * 2));\r\n\t\t\t\t\t\tthis.clear().drawImage(temp.canvas,0,0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}this.clear().drawImage(temp.canvas,0,0);\r\n\t\t\t}).catch(e=>error(e));\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{\r\n\t\t * prefix: String; suffix: String; startN: Number; length: Number; midLength?: Number;\r\n\t\t * bgSrc?: String; playMode?: 0 | 1 | 2 | 3; timeSep?: Number; sizeMode?: 'std' | 'auto';\r\n\t\t * resizeAfter?: Boolean;\r\n\t\t * }} param0 \r\n\t\t * @returns {{loaded: Promise<void>,finished: Promise<void>}}\r\n\t\t */\r\n\t\tanimate({\r\n\t\t\tprefix,suffix,startN = 0,length,midLength,\r\n\t\t\tbgSrc,playMode = 0,timeSep = 100,sizeMode = 'std',resizeAfter = true,\r\n\t\t} = emptyObj){\r\n\t\t\tconst size = {width: this.width,height: this.height},config = '1235',srcArr = [];\r\n\t\t\tvar i = startN + length + playMode;\r\n\t\t\tlength *= config[playMode] || 1;\r\n\t\t\ttimeSep /= config[playMode] || 1;\r\n\t\t\twhile(i --> startN) srcArr.push(prefix+RealCanvas.strN(i,midLength)+suffix);\r\n\t\t\treturn this.preloadSrc(srcArr),i = 0,{loaded: this.loaded,finished: this.loaded.then(()=>{\r\n\t\t\t\tvar resize;\r\n\t\t\t\tconst temp = new RealWorld(timeSep);\r\n\t\t\t\tswitch(sizeMode){\r\n\t\t\t\t\tcase 'auto': resize = true;break;\r\n\t\t\t\t}\r\n\t\t\t\tswitch(playMode){\r\n\t\t\t\t\tdefault: while(length --> 0) temp.then(this.multiDrawSrcArray,this,{bgSrc,resize},prefix+RealCanvas.strN(startN++,midLength)+suffix);\r\n\t\t\t\t\tcase 1:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t(i = !i) || prefix+RealCanvas.strN(startN++,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\tprefix+RealCanvas.strN(startN,midLength)+suffix\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 2:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 2 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t),3 ===++ i && (startN++,i %= 3);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 3:{\r\n\t\t\t\t\t\twhile(length --> 0) temp.then(\r\n\t\t\t\t\t\t\t// this.multiDrawSrcArray,this,{bgSrc,autoOpacity: true},\r\n\t\t\t\t\t\t\t// 3 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 0 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t\t// 2 === i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 1 === i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix,\r\n\t\t\t\t\t\t\t// 2 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t\tthis.multiDrawSrcArray,this,{bgSrc,autoOpacity: true,resize},\r\n\t\t\t\t\t\t\t1 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 4 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t2 === i ? prefix+RealCanvas.strN(startN + 1,midLength)+suffix : 3 === i && prefix+RealCanvas.strN(startN,midLength)+suffix,\r\n\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t3 > i ? prefix+RealCanvas.strN(startN,midLength)+suffix : 2 < i && prefix+RealCanvas.strN(startN + 1,midLength)+suffix\r\n\t\t\t\t\t\t),5 ===++ i && (startN++,i %= 5);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn temp.then(()=>(this.clearTemp(),resizeAfter && (this.width = size.width,this.height = size.height),temp.destroy()));\r\n\t\t\t})};\r\n\t\t}\r\n\t\tget ctx(){return this.proto.ctx;}\r\n\t\tget img(){return this.proto.img;}\r\n\t\tget imgW(){return this.proto.img.naturalWidth;}\r\n\t\tget imgH(){return this.proto.img.naturalHeight;}\r\n\t\tget width(){return this.proto.self.width;}\r\n\t\tset width(width){if(null != width) this.proto.self.width = this.proto.temp.canvas.width = width;}\r\n\t\tget height(){return this.proto.self.height;}\r\n\t\tset height(height){if(null != height) this.proto.self.height = this.proto.temp.canvas.height = height;}\r\n\t\tget self(){return this.proto.self;}\r\n\t\tset self(self){if(self instanceof HTMLCanvasElement) this.proto.ctx = (this.proto.self = self).getContext('2d');}\r\n\t\tget clearBeforeDraw(){return Promise.resolve(this.loaded).then(()=>this.proto.clearBeforeDraw);}\r\n\t\tset clearBeforeDraw(clearBeforeDraw){this.loaded = Promise.resolve(this.loaded).then(()=>this.proto.clearBeforeDraw = clearBeforeDraw);}\r\n\t\tget temp(){return this.proto.temp.canvas;}\r\n\t\t/**### bind */\r\n\t\tset temp(src){return this.proto.set.call(this,src).then(()=>(this.proto.temp.drawImage(this.img,0,0),true),e=>this.rejectSrc(src,e));}\r\n\t\tget opacity(){return Promise.resolve(this.loaded).then(()=>this.proto.ctx.globalAlpha);}\r\n\t\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\t\tset opacity(opacityConfig){\r\n\t\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\t\tthen(value=>{this.proto.ctx.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t\t}\r\n\t\t/**@param {[(Promise<Number>|Number),Number]} opacityConfig */\r\n\t\tset tempOpacity(opacityConfig){\r\n\t\t\tArray.isArray(opacityConfig) || (opacityConfig = [opacityConfig]);\r\n\t\t\tthis.loaded = Promise.resolve(this.loaded).then(()=>opacityConfig[0]).\r\n\t\t\tthen(value=>{this.proto.temp.globalAlpha = value * (opacityConfig[1] ?? 1);});\r\n\t\t}\r\n\t\tloaded = RealNode.now;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {Number} [width] \r\n\t\t * @param {Number} [height] \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {...RealNode} [relativeRNs] \r\n\t\t */\r\n\t\tconstructor(id,width,height,tryRealNode,...relativeRNs){\r\n\t\t\tvar temp;temp = id;\r\n\t\t\tconst self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tif(self) self instanceof HTMLCanvasElement || RealNode.error('=> \"id\" exists but not within an HTMLCanvasElement !');\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\ttemp = {id};\r\n\t\t\tsuper({self: self || RealElement.newXHTML('canvas',temp)},temp,tryRealNode,...relativeRNs);\r\n\t\t\t/**@type {AntiCanvas} */\r\n\t\t\tthis.proto;\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\t\t\tthis.proto.ctx = this.proto.self.getContext('2d');\r\n\t\t}\r\n\t};\r\n\tvar RealLoader =\r\n\t/** @template {Boolean} T */\r\n\tclass RealLoader extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {onerror: null | (error: Error)=>void,onloadend: null | (n: Number)=>void}} AntiLoader */\r\n\t\tstatic proto = class AntiLoader extends RealTarget.proto{\r\n\t\t\t/**@type {null | (error: Error)=>void} */\r\n\t\t\tonerror;\r\n\t\t\t/**@type {null | (this: RealLoader)=>void} */\r\n\t\t\tonloadend;\r\n\t\t};\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...String} srcArray \r\n\t\t * @returns {Promise<PromiseSettledResult<[?Error,Stats | Response]>[]>}\r\n\t\t */\r\n\t\tstatic checkSrc(...srcArray){\r\n\t\t\tconst fn = RealLoader.fs.stat,temp = emptyArray.concat(...srcArray);\r\n\t\t\tvar i = temp.length;\r\n\t\t\twhile(i --> 0) temp[i] = fn(temp[i]);\r\n\t\t\treturn Promise.allSettled(temp);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {...String} srcArray \r\n\t\t * @returns {Promise<PromiseSettledResult<Response>[]>}\r\n\t\t */\r\n\t\tstatic preloadSrc(...srcArray){\r\n\t\t\tconst fn = RealLoader.fs.fetch,temp = emptyArray.concat(...srcArray);\r\n\t\t\tvar i = temp.length;\r\n\t\t\twhile(i --> 0) temp[i] = fn(temp[i]);\r\n\t\t\treturn Promise.allSettled(temp);\r\n\t\t}\r\n\t\tstatic fs = (()=>{\r\n\t\t\tconst initHEAD = {method: 'HEAD'};\r\n\t\t\tclass DocumentFs{get stat(){return DocumentFs.stat;}get fetch(){return DocumentFs.fetch;}get readdir(){return DocumentFs.readdir;}}\r\n\t\t\t\t/**@type {(path: string | URL | Request,init?: RequestInit)=>[?Error,?Response]} */\r\n\t\t\tDocumentFs.fetch = (()=>{\r\n\t\t\t\t/**\r\n\t\t\t\t * \r\n\t\t\t\t * @template {Response} T\r\n\t\t\t\t * @param {T} response \r\n\t\t\t\t */\r\n\t\t\t\tconst tempFn = response=>response.status < 300 ? response : RealLoader.error('Failed request !');\r\n\t\t\t\treturn browserMode && document.location.protocol === 'file:' ?\r\n\t\t\t\t(path,init)=>fetch(path,(init = Object.assign({},init),init.mode = 'no-cors',init)).then(tempFn) :\r\n\t\t\t\t(path,init)=>fetch(path,Object(init)).then(tempFn);\r\n\t\t\t})();\r\n\t\t\t/**@type {(path: String)=>Promise<[Error | null,Stats | Response]>} */\r\n\t\t\tDocumentFs.stat = nodeMode ? (async(path)=>RealWorld.cb2promise({thisArg: await nodeFS,useFn: 'stat'},path)) :\r\n\t\t\t(async path=>{try{return [null,await DocumentFs.fetch(path,initHEAD)];}catch(e){return [e,null];}});\r\n\t\t\t/**@type {(path: String,...strArgs: (String | String[])[])=>Promise<[Error | null,String[]]>} */\r\n\t\t\tDocumentFs.readdir = nodeMode ?\r\n\t\t\t(async(path)=>RealWorld.cb2promise({thisArg: await nodeFS,useFn: 'readdir'},path)) :\r\n\t\t\t(async(path,...strArgs)=>{try{\r\n\t\t\t\tconst length = strArgs.length;\r\n\t\t\t\tvar i = length,fileName;\r\n\t\t\t\t/\\/$/.test(path) || (path += '/');\r\n\t\t\t\tiLoop: while(i --> 0){\r\n\t\t\t\t\tif(Array.isArray(strArgs[i])){\r\n\t\t\t\t\t\tfor(fileName = strArgs[i].length;fileName --> 0;) strArgs[i][fileName] = String(strArgs[i][fileName]);\r\n\t\t\t\t\t\tcontinue iLoop;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst str = String(strArgs[i]);\r\n\t\t\t\t\tif('\\\\' === str[0]) switch(str[1]){\r\n\t\t\t\t\t\tcase 'w': strArgs[i] = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';break;\r\n\t\t\t\t\t\tcase 'd': strArgs[i] = '0123456789';break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse strArgs[i] = [str];\r\n\t\t\t\t}\r\n\t\t\t\tconst statList = [],testFileNameList = [],fileNameList = [];\r\n\t\t\t\tfor(const temp = Array(length).fill(0);!('-1' in temp);){\r\n\t\t\t\t\tfileName = '';\r\n\t\t\t\t\tfor(i = 0;i < length;i++) fileName+=strArgs[i][temp[i]];\r\n\t\t\t\t\ttestFileNameList.push(fileName),fileName = path+fileName,statList.push(DocumentFs.stat(fileName));\r\n\t\t\t\t\t// log(fileName);\r\n\t\t\t\t\tfor(temp[(i = length) - 1]++;i --> 0;) strArgs[i].length > temp[i] || (temp[i] = 0,temp[i - 1]++);\r\n\t\t\t\t}\r\n\t\t\t\tconst resultList = await Promise.all(statList),limit = resultList.length;\r\n\t\t\t\tfor(i = 0;i < limit;i++) resultList[i][0] ?? log(fileNameList.push(testFileNameList[i]),testFileNameList[i]);\r\n\t\t\t\treturn [null,fileNameList];\r\n\t\t\t}catch(e){return [e,[]];}});\r\n\t\t\treturn new DocumentFs;\r\n\t\t})();\r\n\t\tstatic _configDescriptor = (browserMode && addEventListener('click',async e=>{\r\n\t\t\tif(e.target.classList.contains('RealLoader')) for(const temp of RealTarget.searchByObj(e.target)) if(temp instanceof RealLoader){\r\n\t\t\t\ttry{const err = (await RealLoader.load(temp))[0];err ? temp.onerror?.(err) : temp.onloadend?.();}catch(e){error(e);}\r\n\t\t\t\ttemp.notify(true);\r\n\t\t\t\ttemp.react?.();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}),{writable: false,enumerable: false,configurable: false});\r\n\t\t/**@param {Boolean} isDownload  */\r\n\t\tstatic newByType(isDownload){return new RealLoader(isDownload,'file');}\r\n\t\tstatic getArrayBufferFrom(data){return Promise.resolve(\r\n\t\t\tdata instanceof ArrayBuffer ? data : ArrayBuffer.isView(data) ? data.buffer :\r\n\t\t\tdata instanceof Blob ? data.arrayBuffer() : new Blob(Array.isArray(data) ? data.join('') : String(data)).arrayBuffer()\r\n\t\t);}\r\n\t\t/**@type {(realLoader: RealLoader)=>Promise<[?Error]>} @method */\r\n\t\tstatic load = (\r\n\t\t\tnodeMode ? (async(realLoader)=>{try{\r\n\t\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[null];\r\n\t\t\t\t}\r\n\t\t\t\tconst fs = await nodeFS;\r\n\t\t\t\tconst data = await realLoader.dataGetter();\r\n\t\t\t\tconst {1: prefix = 'file',2: suffix = ''} = /(.+)(\\..+)/.exec(realLoader.temp.download) || emptyArray;\r\n\t\t\t\tconst result = await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},'./'+realLoader.temp.download);\r\n\t\t\t\tif(!result) this.error('Unknown Error !');\r\n\t\t\t\tif(result[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},'./'+realLoader.temp.download,new Uint8Array(ab)));\r\n\t\t\t\tfor(var i = 1;true;i++){\r\n\t\t\t\t\tconst path = './'+prefix+' - '+i+suffix;\r\n\t\t\t\t\tif((await RealWorld.cb2promise({thisArg: fs,useFn: 'stat'},path))[0]) return RealLoader.getArrayBufferFrom(data).\r\n\t\t\t\t\tthen(ab=>RealWorld.cb2promise({thisArg: fs,useFn: 'writeFile'},path,new Uint8Array(ab)));\r\n\t\t\t\t}\r\n\t\t\t}catch(e){return [e];}}) :\r\n\t\t\t(async(realLoader)=>{try{\r\n\t\t\t\tif('upload' === realLoader.type){\r\n\t\t\t\t\tconst temp = realLoader.temp.files;\r\n\t\t\t\t\treturn realLoader.temp.click(),await RealWorld.onceIf(()=>temp !== realLoader.temp.files,10),[null];\r\n\t\t\t\t}\r\n\t\t\t\tconst data = await realLoader.dataGetter(),href = URL.createObjectURL(\r\n\t\t\t\t\ttypeof data === 'string' ? new Blob([data]) : data instanceof Blob ? data : new Blob([await RealLoader.getArrayBufferFrom(data)])\r\n\t\t\t\t);\r\n\t\t\t\treturn realLoader.temp.href = href,realLoader.temp.click(),URL.revokeObjectURL(href),[null];\r\n\t\t\t}catch(e){return [e];}})\r\n\t\t);\r\n\t\tload(){return RealLoader.load(this);}\r\n\t\tprotoSet(value){return this.self[this.key] = String(value),false;}\r\n\t\t/**@type {(this: RealLoader<false>)=>FileList} */\r\n\t\tget files(){return 'upload' === this.type ? this.temp.files : this.error('I\\'m an downloader without files !');}\r\n\t\tget onerror(){return this.proto.onerror;}\r\n\t\tset onerror(onerror){this.proto.onerror = typeof onerror === 'function' ? onerror : null;}\r\n\t\tget onloadend(){return this.proto.onloadend;}\r\n\t\tset onloadend(onloadend){this.proto.onloadend = typeof onloadend === 'function' ? onloadend : null;}\r\n\t\t/**@this {RealLoader<true>} */\r\n\t\tget fileName(){return 'upload' === this.type ? this.error('Uploader bans \"fileName\" !') : this.temp.download;}\r\n\t\t/**@this {RealLoader<true>} */\r\n\t\tset fileName(fileName){\r\n\t\t\t'upload' === this.type && this.error('Uploader bans \"fileName\" !');\r\n\t\t\ttypeof fileName === 'symbol' && this.error('\"fileName\" must be String but not Symbol !');\r\n\t\t\tif(nodeMode && !/^\\.\\//.test(fileName)) fileName = './'+fileName;\r\n\t\t\tthis.temp.download = fileName;\r\n\t\t}\r\n\t\t/**@type {()=>*} */\r\n\t\tdataGetter;\r\n\t\t// /**@type {Promise<ArrayBufferView | String>} */\r\n\t\t// data;\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {T} isDownload \r\n\t\t * @param {String} fileName \r\n\t\t * @param {()=>*} dataGetter \r\n\t\t * @param {{innerHTML?: String;onerror?: (e)=>void;onloadend?: (this: RealLoader)=>void;}} param3 \r\n\t\t */\r\n\t\tconstructor(isDownload,fileName,dataGetter,{innerHTML,onerror,onloadend} = emptyObj){\r\n\t\t\tsuper({self: document.createElement('div'),key: 'innerHTML'});\r\n\t\t\t/**@type {AntiLoader} */\r\n\t\t\tthis.proto;\r\n\t\t\tthis.onerror = onerror;\r\n\t\t\tthis.onloadend = onloadend;\r\n\t\t\tthis.dataGetter = dataGetter;\r\n\t\t\tthis.value = innerHTML;\r\n\t\t\tisDownload = Boolean(isDownload);\r\n\t\t\t/**@type {T extends true ? HTMLAnchorElement : HTMLInputElement} */\r\n\t\t\tthis.temp = document.createElement(isDownload ? 'a' : 'input');\r\n\t\t\tReflect.defineProperty(this,'temp',RealLoader._configDescriptor);\r\n\t\t\t/**@type {T extends true ? 'download' : 'upload'} */\r\n\t\t\tthis.type = isDownload ? (this.fileName = fileName || 'file','download') : (this.temp.type = 'file','upload');\r\n\t\t\tReflect.defineProperty(this,'type',RealLoader._configDescriptor);\r\n\t\t}\r\n\t};\r\n\tvar RealSelect = class RealSelect extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {list: HTMLOptionElement[]}} AntiSelect */\r\n\t\tstatic proto = class AntiSelect extends RealTarget.proto{\r\n\t\t\t/**@type {HTMLOptionElement[]} */\r\n\t\t\tlist = [];\r\n\t\t};\r\n\t\t/**@param {HTMLSelectElement} select  */\r\n\t\tstatic newBySelf(select){return new RealSelect(select);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealSelect}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value,i;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value){\r\n\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\tfix:for(const key of Object.keys(value)) if(key !== position[0]) i++;else{\r\n\t\t\t\t\t\t\tthis.proto.list[i].value = String(tempValue);\r\n\t\t\t\t\t\t\tbreak fix;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealSelect) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {{[text: String]: String}} value \r\n\t\t */\r\n\t\tprotoSet(value){return this.proto.value = Object.assign({},value),true;}\r\n\t\tfix(){\r\n\t\t\tthis.self[this.key] = this.protoTransform(this.proto.value);\r\n\t\t\tthis.proto.list = Array.from(this.self.children);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tgetValueIndexs(){\r\n\t\t\tvar i = this.proto.list.length,temp = [];\r\n\t\t\twhile(i --> 0) this.proto.list[i].selected && temp.push(i);\r\n\t\t\treturn temp.reverse();\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {String[]}\r\n\t\t */\r\n\t\tprotoGet(){\r\n\t\t\tconst valueArray = [],list = this.proto.list,end = list.length;\r\n\t\t\tfor(var i = 0;i < end;i++){list[i].selected && valueArray.push(list[i].value);}\r\n\t\t\treturn valueArray;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {*[]} value \r\n\t\t */\r\n\t\tprotoTransform(value,defaultKey = String(this.defaultKey),defaultValue = String(this.defaultValue)){\r\n\t\t\tvar now;\r\n\t\t\tif(this instanceof RealSelect && !this.self.multiple) value = Object.assign({[defaultKey]: defaultValue},value);\r\n\t\t\tconst innerHTML = [],iterator = Object.entries(value).sort((a,b)=>a[0].localeCompare(b[0])).sort((a,b)=>a[0] - b[0]).values();\r\n\t\t\twhile(!(now = iterator.next()).done)\r\n\t\t\t\tinnerHTML.push(`<option value=\"${String(now.value[1])}\" ${now.value[0] === defaultKey ? 'selected' : ''}>${now.value[0]}</option>`);\r\n\t\t\treturn innerHTML.join('');\r\n\t\t}\r\n\t\t/**@returns {Element[]} */\r\n\t\tget list(){return this.proto.list;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {Boolean} multiple \r\n\t\t * @param {{[text: String]: String}} optionConfig \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {String} [defaultKey] \r\n\t\t * @param {String} [defaultValue] \r\n\t\t * @param {(e: Event)=>void} [onchange] \r\n\t\t */\r\n\t\tconstructor(id,multiple,optionConfig,tryRealNode,defaultKey,defaultValue,onchange){\r\n\t\t\tconst temp = id,self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tif(self) self instanceof HTMLSelectElement ? (self.multiple = multiple,self.onchange = onchange) :\r\n\t\t\tRealNode.error('=> \"id\" exists but not within an HTMLSelectElement !');\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({\r\n\t\t\t\tkey: 'innerHTML',self: self || RealElement.newXHTML('select',{id,multiple,onchange})\r\n\t\t\t},{id,initValue: Object.assign({},optionConfig)},tryRealNode);\r\n\t\t\t/**@type {AntiSelect} */this.proto;\r\n\t\t\tthis.defaultKey = defaultKey ?? '_';\r\n\t\t\tthis.defaultValue = defaultValue ?? '';\r\n\t\t\tthis.fix();\r\n\t\t}\r\n\t};\r\n\tvar RealComtag = class RealComtag extends RealElement{\r\n\t\t/**@type {Map<String,[*[],Boolean,HTMLDivElement,((this: RealComtag)=>void) | null]>} */\r\n\t\tstatic comtagClassMap = new Map;\r\n\t\t/**@param {Element} self  */\r\n\t\tstatic newBySelf(self){return new RealComtag(self);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} className \r\n\t\t * @param {{\r\n\t\t * optionList?: [];\r\n\t\t * tryRealNode?: Boolean;\r\n\t\t * selfAssign?: HTMLDivElement;\r\n\t\t * cssRuleObjObj?: {[selector: String]: {[styleName: String]: String}};\r\n\t\t * callback?: (this: RealDivList)=>void;\r\n\t\t * }} config \r\n\t\t */\r\n\t\tstatic defineComtagClass(className,config){\r\n\t\t\tconst {optionList = [],tryRealNode,selfAssign,cssRuleObjObj,callback} = config || emptyObj;\r\n\t\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\t\tthis.comtagClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\t\tthis.comtagClassMap.set(className,[optionList,tryRealNode,selfAssign,typeof callback === 'function' ? callback : null]);\r\n\t\t}\r\n\t\tstatic createByClassName(className,...argArray){Comtag\r\n\t\t\tconst config = this.comtagClassMap.get(className);\r\n\t\t\tconfig || this.error('\"className\" not found !');\r\n\t\t\tconst temp = new RealComtag('',config[0],config[1],config[2]);\r\n\t\t\treturn config[3] && config[3].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t\t}\r\n\t\tprotoTransform(value){return RealElement.newElements('',value,true);}\r\n\t\tfix(){return this.self.innerHTML = '',this.self.appendChild(this.transform(this.proto.value)),this;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Array !');\r\n\t\t\t/**@type {[IteratorYieldResult<String>,IteratorYieldResult<String>]} */\r\n\t\t\tconst temp = Array(2),iter1 = tryYieldKey(value,'tagName',''),iter0 = tryYieldKey(this.proto.value,'tagName','');\r\n\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)) if(temp[0].done) break;\r\n\t\t\telse if(temp[0].value.toLowerCase() !== temp[1].value.toLowerCase()) return this.proto.value = Array.from(value),true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {String[]} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,optionList,tryRealNode,selfAssign){\r\n\t\t\tconst temp = id,self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({self: self || RealElement.newXHTML('div',selfAssign)},{\r\n\t\t\t\tid,initValue: optionList?.[Symbol.iterator] ? Array.from(optionList) : []\r\n\t\t\t},tryRealNode);\r\n\t\t\tthis.fix().proto.self.id = id;\r\n\t\t}\r\n\t};\r\n\tvar RealSVG = class RealSVG extends RealComtag{\r\n\t\t/**@param {keyof SVGElementTagNameMap} tagName  */\r\n\t\tstatic newByTagName(tagName){return new RealSVG(tagName);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {Boolean | Node | []} T\r\n\t\t * @param {String[]} hrefList \r\n\t\t * @param {T} [toDocumentFragment] \r\n\t\t * @returns {T extends true ? DocumentFragment : SVGImageElement[]}\r\n\t\t */\r\n\t\tstatic newImages(hrefList,toDocumentFragment){\r\n\t\t\tconst iter = hrefList[Symbol.iterator]();\r\n\t\t\tif(toDocumentFragment) for(hrefList of (toDocumentFragment = new DocumentFragment(),iter)) try{\r\n\t\t\t\ttoDocumentFragment.appendChild(document.createElementNS('http://www.w3.org/2000/svg','image')).href.baseVal = String(hrefList);\r\n\t\t\t}catch(e){error(e);}\r\n\t\t\telse for(hrefList of (toDocumentFragment = [],iter)) try{\r\n\t\t\t\tconst SVGImage = document.createElementNS('http://www.w3.org/2000/svg','image');\r\n\t\t\t\ttoDocumentFragment.push(SVGImage),SVGImage.href.baseVal = String(hrefList);\r\n\t\t\t}catch(e){error(e);}\r\n\t\t\treturn toDocumentFragment;\r\n\t\t}\r\n\t\tprotoTransform(value){return RealElement.newElements('svg',value,true);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @template {keyof SVGElementTagNameMap} T\r\n\t\t * @param {T} tagName \r\n\t\t * @param {(keyof SVGElementTagNameMap)[]} [optionList] \r\n\t\t * @param {SVGElementTagNameMap[T]} [selfAssign] \r\n\t\t * @param {(this: RealSVG,children: SVGElement[])=>void} [callback] \r\n\t\t */\r\n\t\tconstructor(tagName,optionList,selfAssign,callback){\r\n\t\t\tsuper(RealElement.newSVG(tagName,selfAssign),optionList,false);\r\n\t\t\ttypeof callback === 'function' && callback.call(this,Array.from(this.proto.self.children));\r\n\t\t}\r\n\t};\r\n\tvar RealDivList = class RealDivList extends RealElement{\r\n\t\t/**@typedef {AntiTarget & {list: Element[],childrenList: Element[][]}} AntiList */\r\n\t\tstatic proto = class AntiList extends RealTarget.proto{\r\n\t\t\t/**@type {HTMLDivElement[]} */\r\n\t\t\tlist = [];\r\n\t\t\t/**@type {Element[][]} */\r\n\t\t\tchildrenList = [];\r\n\t\t}\r\n\t\t/**@type {Map<String,[Boolean,*[],Boolean,{[selector: String]: {[styleName: String]: String}},((this: RealDivList)=>void) | null]>} */\r\n\t\tstatic divListClassMap = new Map;\r\n\t\t/**@param {Element} self  */\r\n\t\tstatic newBySelf(self){return new this(self);}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number} length \r\n\t\t * @param {String} tagName \r\n\t\t * @param {String} [id] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tstatic createList(length = 0,tagName,id,selfAssign){\r\n\t\t\tconst temp = [];\r\n\t\t\twhile(length --> 0) temp.push(document.createElement(tagName));\r\n\t\t\treturn new RealDivList(id,true,temp,RealDivList.tryRealNode,selfAssign);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealDivList}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse().concat(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value) (position[1] = this.proto.list[position[0]]).innerHTML = '';\r\n\t\t\t\t\ttempValue instanceof Element ? position[1].appendChild(tempValue) :\r\n\t\t\t\t\tthis.tryHTML ? position[1].innerHTML = tempValue : position[1].textContent = tempValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealDivList) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} className \r\n\t\t * @param {{\r\n\t\t * tryHTML?: Boolean;\r\n\t\t * optionList?: [];\r\n\t\t * tryRealNode?: Boolean;\r\n\t\t * selfAssign?: HTMLDivElement;\r\n\t\t * cssRuleObjObj?: {[selector: String]: {[styleName: String]: String}};\r\n\t\t * callback?: (this: RealDivList)=>void;\r\n\t\t * }} config \r\n\t\t */\r\n\t\tstatic defineDivListClass(className,config){\r\n\t\t\tconst {tryHTML,optionList = [],tryRealNode,selfAssign,cssRuleObjObj,callback} = config || emptyObj;\r\n\t\t\t/^([A-Za-z]\\w*)$/.test(className) || this.error('Illegal \"className\" !');\r\n\t\t\tthis.divListClassMap.has(className) && this.error('\"className\" repeated !');\r\n\t\t\toptionList?.[Symbol.iterator] || this.error('\"optionList\" must be Array !');\r\n\t\t\tthis.addCSSRules('.'+className,cssRuleObjObj);\r\n\t\t\tthis.divListClassMap.set(className,[tryHTML,optionList,tryRealNode,selfAssign,typeof callback === 'function' ? callback : null]);\r\n\t\t}\r\n\t\tstatic createByClassName(className,...argArray){\r\n\t\t\tconst config = this.divListClassMap.get(className);\r\n\t\t\tconfig || this.error('\"className\" not found !');\r\n\t\t\tconst temp = new RealDivList('',config[0],config[1],config[2],config[3]);\r\n\t\t\treturn config[4] && config[4].apply(temp,argArray),temp.addClassName(className),temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {Element[]}\r\n\t\t */\r\n\t\tprotoGet(){return this.proto.list;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){return this.proto.value = Array.from(value),true;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {*[]} value \r\n\t\t */\r\n\t\tprotoTransform(value){\r\n\t\t\tvar list = [],ele;\r\n\t\t\ttry{\r\n\t\t\t\tfor(const temp of value) list.push(ele = document.createElement('div')),temp.value instanceof Node ?\r\n\t\t\t\tele.appendChild(temp) : this.tryHTML ? ele.innerHTML = String(temp) : ele.textContent = String(temp);\r\n\t\t\t}catch{throw new Error('=> \"value\" must be Array !');}\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Boolean} [toRealElement] \r\n\t\t * @param {String} [key] \r\n\t\t * @returns {{[id: String]: Element} | {[id: String]: RealElement}}\r\n\t\t */\r\n\t\tgetIdDict(toRealElement,key){\r\n\t\t\t/**@type {{[id: String]: Element} | {[id: String]: RealElement}} */\r\n\t\t\tconst list = Object.create(null);\r\n\t\t\tvar i = this.proto.list.length,temp;\r\n\t\t\tif(toRealElement) while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t\t(list[temp[0].id] = new RealElement({self: this.proto.list[i],key}));\r\n\t\t\telse while(i --> 0) (temp = this.proto.childrenList[i]).length > 1 || !temp[0]?.id ||\r\n\t\t\t(list[temp[0].id] = this.proto.list[i]);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {RealElement[]}\r\n\t\t */\r\n\t\tgetRealEmentList(){\r\n\t\t\tconst temp = this.proto.list.concat();\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = new RealElement({self: temp[i]});\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tfix(){\r\n\t\t\tvar i = 0;\r\n\t\t\t/**@type {HTMLDivElement[]} list */\r\n\t\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\twhile(i < list.length){childrenList.push(Array.from(elementList.appendChild(list[i++]).children));}\r\n\t\t\tthis.self.innerHTML = '';\r\n\t\t\tthis.self.appendChild(elementList);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**@type {Element[][]} */\r\n\t\tget childrenList(){return this.proto.childrenList;}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String | Element} id \r\n\t\t * @param {Boolean} tryHTML \r\n\t\t * @param {(Element | String)[]} optionList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,tryHTML,optionList,tryRealNode,selfAssign){\r\n\t\t\tconst temp = id,self = temp instanceof Element ? (id = temp.id,temp) :\r\n\t\t\t(typeof temp === 'string' || (id = '',false)) && document.getElementById(temp);\r\n\t\t\tRealElement.addId(id,!self);\r\n\t\t\tsuper({self: self || RealElement.newXHTML('div',selfAssign)},{\r\n\t\t\t\tid,initValue: optionList?.[Symbol.iterator] ? Array.from(optionList) : []\r\n\t\t\t},tryRealNode);\r\n\t\t\t/**@type {AntiList} */this.proto;\r\n\t\t\tthis.tryHTML = tryHTML;\r\n\t\t\tthis.fix().proto.self.id = id;\r\n\t\t}\r\n\t};\r\n\tvar RealImgList = class RealImgList extends RealDivList{\r\n\t\t/**\r\n\t\t * \r\n\t\t * @this {RealImgList}\r\n\t\t * @param {RealNode} realNode \r\n\t\t */\r\n\t\tstatic _react(realNode,react = true,notify = true,noSelf = true){try{\r\n\t\t\tvar value;\r\n\t\t\tconst temp = this._getPositionsOfChildRN(realNode);\r\n\t\t\twhile(temp.length){\r\n\t\t\t\tconst position = temp.pop().reverse(),tempValue = realNode.value;\r\n\t\t\t\tif(!position.length) return this.realSet(tempValue,react,notify,noSelf);else{\r\n\t\t\t\t\tvalue = this.proto.value;\r\n\t\t\t\t\twhile(position.length > 1) value = value[position.pop()];\r\n\t\t\t\t\ttempValue === value[position[0]] || (value[position[0]] = tempValue);\r\n\t\t\t\t\tif(value === this.proto.value) this.proto.childrenList[position[0]][0].src = String(tempValue?.src ?? tempValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn react && this.react?.(noSelf),notify && this.notify(noSelf),true;\r\n\t\t}catch(e){\r\n\t\t\tif(this instanceof RealImgList) throw e;\r\n\t\t\tthis.error('Please avoid using method \"react\" of typeof '+this?.name+' !\\n'+e.message);\r\n\t\t}}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @returns {HTMLImageElement[]}\r\n\t\t */\r\n\t\tcloneImgList(){\r\n\t\t\tconst temp = this.childrenList.concat();\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = temp[i][0].cloneNode();\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {*[]} value \r\n\t\t */\r\n\t\tprotoTransform(value){\r\n\t\t\tvar list = [],temp,img;\r\n\t\t\ttry{var iter = value[Symbol.iterator]();}catch{throw new Error('=> \"value\" must be Array !');}\r\n\t\t\twhile(!(temp = iter.next()).done) list.push(temp.done = document.createElement('div')),\r\n\t\t\ttemp.done.appendChild(temp.value instanceof Image ? temp.value : ((img = new Image()).src = String(temp.value),img));\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {(Element | String)[]} value \r\n\t\t */\r\n\t\tprotoSet(value){\r\n\t\t\tif(!value?.[Symbol.iterator]) throw new Error('=> \"value\" must be Array !');\r\n\t\t\t/**@type {[IteratorYieldResult<String>,IteratorYieldResult<String>]} */\r\n\t\t\tconst temp = Array(2),iter1 = tryYieldKey(value,'src',''),iter0 = tryYieldKey(this.proto.value,'src','');\r\n\t\t\twhile((temp[0] = iter0.next(),temp[1] = iter1.next(),!temp[0].done ^ temp[1].done)) if(temp[0].done) break;\r\n\t\t\telse if(temp[0].value !== temp[1].value) return this.proto.value = Array.from(value),true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {String} id \r\n\t\t * @param {(Element | String)[]} srcList \r\n\t\t * @param {Boolean} [tryRealNode] \r\n\t\t * @param {HTMLDivElement} [selfAssign] \r\n\t\t */\r\n\t\tconstructor(id,srcList,tryRealNode,selfAssign){super(id,true,srcList,tryRealNode,selfAssign);}\r\n\t};\r\n\tvar RealDivQueue = class RealDivQueue extends RealDivList{\r\n\t\t/**@typedef {AntiList & {queueArray: Number[]}} AntiQueue */\r\n\t\tstatic proto = class AntiQueue extends RealDivList.proto{\r\n\t\t\t/**@type {Number[]} */\r\n\t\t\tqueueArray;\r\n\t\t}\r\n\t\t/**@type {Element} */\r\n\t\tstatic tempTarget = void(browserMode && (RealWorld.onload.then(()=>RealElement.addCSSRules('.RealDivQueue',{\r\n\t\t\t// '>div': {'transition-duration':'.1s'},\r\n\t\t\t'>div:hover': {'transform':'scale(1.1,1)'},\r\n\t\t\t'>div:active': {'transform':'scale(1.2,1)'},\r\n\t\t})),addEventListener('mousedown',e=>(RealDivQueue.tempTarget = e.target)),addEventListener('mouseup',e=>{\r\n\t\t\t/**@type {RealDivQueue} */\r\n\t\t\tvar realDivQueue,target,queue;\r\n\t\t\tconst list0 = [target = RealDivQueue.tempTarget];\r\n\t\t\twhile(target = target.parentElement) list0.push(target);\r\n\t\t\tconst list1 = [target = e.target];\r\n\t\t\twhile(target = target.parentElement) list1.push(target);\r\n\t\t\tif(list0.pop() !== list1.pop()) return;\r\n\t\t\ttarget = [];\r\n\t\t\twhile((target[0] = list0.pop()) === (target[1] = list1.pop())) if(!list0.length) return;\r\n\t\t\tconst [target0,target1] = target;\r\n\t\t\tif(!target0 || !target1) return;\r\n\t\t\t/**@type {Element} */\r\n\t\t\tconst temp = target0.parentElement;\r\n\t\t\tif(temp.classList.contains('RealDivQueue')){\r\n\t\t\t\tfor(realDivQueue of RealTarget.searchByObj(temp)) if(realDivQueue instanceof RealDivQueue) break;\r\n\t\t\t\tqueue = realDivQueue.queueArray;\r\n\t\t\t\tqueue = (target[0] = queue.indexOf(realDivQueue.proto.list.indexOf(target[0]))) >\r\n\t\t\t\t(target[1] = queue.indexOf(realDivQueue.proto.list.indexOf(target[1]))) ?\r\n\t\t\t\tqueue.slice(0,target[1]).concat(queue[target[0]],queue.slice(target[1],target[0]),queue.slice(target[0] + 1)) :\r\n\t\t\t\tqueue.slice(0,target[0]).concat(queue.slice(target[0] + 1,target[1] + 1),queue[target[0]],queue.slice(target[1] + 1));\r\n\t\t\t\trealDivQueue.applyQueue(queue,target0,target1);\r\n\t\t\t}\r\n\t\t})));\r\n\t\tgetListQueue(){\r\n\t\t\t/**@type {AntiQueue} */this.proto;\r\n\t\t\t/**@type {Element[]} */\r\n\t\t\tconst temp = this.queueArray;\r\n\t\t\tfor(var i = temp.length;i --> 0;) temp[i] = this.proto.list[temp[i]];\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tfix(){\r\n\t\t\tvar i = 0;\r\n\t\t\t/**@type {HTMLDivElement[]} list */\r\n\t\t\tconst list = this.proto.list = this.transform(this.proto.value),childrenList = this.proto.childrenList = [];\r\n\t\t\twhile(i < list.length) childrenList.push(Array.from(list[i++].children));\r\n\t\t\treturn this.applyQueue([]);\r\n\t\t}\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param {Number[]} queueArray \r\n\t\t * @param {Element} [target0] \r\n\t\t * @param {Element} [target1] \r\n\t\t * @returns \r\n\t\t */\r\n\t\tapplyQueue(queueArray,target0,target1){\r\n\t\t\tconst previousQueue = this.queueArray ?? [];\r\n\t\t\tconst temp = Array.isArray(queueArray);queueArray = temp ? queueArray.slice(0,this.proto.list.length) : previousQueue;\r\n\t\t\tconst list = this.proto.list.concat(),length = list.length,top = this.self.scrollTop,left = this.self.scrollLeft;\r\n\t\t\tvar i = length;\r\n\t\t\twhile(i --> 0) queueArray[i] == null && (queueArray[i] = i),queueArray.indexOf(i) === -1 && this.error('Illegal \"queueArray\" !');\r\n\t\t\ti = [previousQueue.indexOf(this.proto.list.indexOf(target0)),previousQueue.indexOf(this.proto.list.indexOf(target1))];\r\n\t\t\tif(i[0] !== -1 && i[1] !== -1) i[0] < i[1] ? target1.insertAdjacentElement('afterend',target0) :\r\n\t\t\ttarget1.insertAdjacentElement('beforebegin',target0);\r\n\t\t\telse{\r\n\t\t\t\ti = 0;\r\n\t\t\t\tconst elementList = RealElement.makeElementByString._clear();\r\n\t\t\t\twhile(i < length) elementList.appendChild(list[queueArray[i++]]);\r\n\t\t\t\tthis.self.classList.add('disappear');\r\n\t\t\t\tthis.self.innerHTML = '';\r\n\t\t\t\tthis.self.appendChild(elementList);\r\n\t\t\t\tthis.self.scrollTo({top,left,behavior: 'instant'});\r\n\t\t\t\tthis.self.classList.remove('disappear');\r\n\t\t\t}\r\n\t\t\tthis.proto.queueArray = queueArray;\r\n\t\t\tif(temp) this.react?.(),this.notify(true);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**@type {Number[]} */\r\n\t\tget queueArray(){return this.proto.queueArray?.concat?.();}\r\n\t};\r\n\t/**\r\n\t * \r\n\t * @param {{[key: String]: *}} [optionConfig] \r\n\t * @param {Boolean} [multiple] \r\n\t * @param {(this: RealDivList,e: Event)=>void} [onchange] \r\n\t */\r\n\tvar createRealDivSelect = (optionConfig,multiple,onchange)=>RealDivList.createByClassName('realDivSelect',optionConfig,multiple,onchange);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSelect',{tryRealNode: true,cssRuleObjObj: {\r\n\t\t'': {'background':'linear-gradient(135deg,#fff,#000)'},\r\n\t\t'>div': {'background-color':'#333','transform':'scale(0.8,1)'},\r\n\t\t'>div:hover': {'transform':'scale(0.9,1)'},\r\n\t\t'>.selected': {'background-color':'#555','transform':'scale(1)','font-weight':'bolder'},\r\n\t},callback: (()=>{\r\n\t\tconst changeConfig = {bubbles: true,cancelable: false};\r\n\t\t/**@type {(this: RealDivList)=>*[]} */\r\n\t\tfunction tempGet(){\r\n\t\t\tconst temp = [],list = this.proto.list;\r\n\t\t\tfor(var i = 0;list[i];i++) list[i].classList.contains('selected') && temp.push(this.info.optionList[i]);\r\n\t\t\tthis.info.multiple || temp.length || !i || (list[0].classList.add('selected'),temp.push(this.info.optionList[0]));\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t/**@type {(this: RealDivList,value: {})=>false} */\r\n\t\tfunction tempSet(value){\r\n\t\t\tfor(const key of (\r\n\t\t\t\tthis.info.optionList = [],\r\n\t\t\t\tthis.proto.value = Object.keys(value = Object(value)).sort().sort((a,b)=>a - b)\r\n\t\t\t)) this.info.optionList.push(value[key]);\r\n\t\t\treturn this.fix().value,false;\r\n\t\t}\r\n\t\t/**@type {(RS: RealDivList)=>Boolean} */\r\n\t\tasync function tempReact(RS){return RS.react?.(),await RS.notify(),RS.self.dispatchEvent(new Event('change',changeConfig));}\r\n\t\taddEventListener('click',e=>{\r\n\t\t\t/**@type {?Element} */\r\n\t\t\tconst parentElement = e.target.parentElement;\r\n\t\t\tif(!parentElement || !parentElement.classList.contains('realDivSelect')) return;\r\n\t\t\tvar i = 0,REList,temp;\r\n\t\t\tREList = RealTarget.searchByObj(parentElement);\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\tconst RS = temp,previousValue = RS.value[0];\r\n\t\t\tREList = RS.proto.list;\r\n\t\t\tif(RS.info.multiple) return e.target.classList.toggle('selected'),tempReact(RS);\r\n\t\t\twhile(temp = REList[i++]) e.target === temp ? temp.classList.add('selected') : temp.classList.remove('selected');\r\n\t\t\tpreviousValue === RS.value[0] || tempReact(RS);\r\n\t\t});\r\n\t\t/**@type {(this: RealDivList,optionConfig?: {[key: String]: *},multiple?: Boolean,onchange?: (this: RealDivList,e: Event)=>void)=>void} */\r\n\t\treturn function(optionConfig,multiple,onchange){\r\n\t\t\tthis.get = tempGet;\r\n\t\t\tthis.set = tempSet;\r\n\t\t\tthis.info = Object(this.info);\r\n\t\t\tthis.info.multiple = Boolean(multiple);\r\n\t\t\t/**### bind */\r\n\t\t\tif(typeof onchange === 'function') this.self.onchange = e=>onchange.call(this,e);\r\n\t\t\tthis.value = optionConfig;\r\n\t\t};\r\n\t})()}));\r\n\t/**\r\n\t * \r\n\t * @param {String} [placeholder] \r\n\t */\r\n\tvar createRealDivSearch = placeholder=>RealDivList.createByClassName('realDivSearch',placeholder);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSearch',{callback: (()=>{\r\n\t\t/**@type {RealDivList} */\r\n\t\tvar tempRealDivList;\r\n\t\tconst changeConfig = {bubbles: true,cancelable: false},now = Promise.resolve();\r\n\t\t/**@type {(this: RealDivList)=>String} */\r\n\t\tfunction tempGet(){return this.info.inputer.value;}\r\n\t\t/**@type {(target: Element)=>void} */\r\n\t\tfunction tempReact(target){tempRealDivList && target !== tempRealDivList.info.inputer && (\r\n\t\t\ttempRealDivList.info.matcher.value = {},tempRealDivList.react?.(),tempRealDivList.notify(true)\r\n\t\t);}\r\n\t\t/**@type {(this: RealDivList,value: *[])=>false} */\r\n\t\tfunction tempSet(value){\r\n\t\t\tArray.isArray(value) ? this.info.wordList = value : this.error('\"value must be Array !');\r\n\t\t\treturn now.then(()=>this.info.inputer.dispatchEvent(new Event('input',changeConfig))),\r\n\t\t\t(tempRealDivList || (tempRealDivList = this)).info.matcher.value = {},false;\r\n\t\t}\r\n\t\taddEventListener('click',e=>RealNode.afterNow(()=>tempReact(e.target)));\r\n\t\tRealElement.addEventListenerBySelectors('.RealDivList.realDivSearch>:nth-child(1)>textarea','click',async e=>(\r\n\t\t\tawait 0,e.target.dispatchEvent(new Event('input',changeConfig))\r\n\t\t))('.RealDivList.realDivSearch>:nth-child(1)>textarea','input',e=>{\r\n\t\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\tconst testReg = new RegExp(temp.info.inputer.value,'i');\r\n\t\t\ttemp.info.matcher.value = RealNode.arrayToObject(temp.info.wordList.filter(str=>testReg.test(String(str))));\r\n\t\t})('.RealDivList.realDivSearch>:nth-child(2)>div>div','click',e=>{\r\n\t\t\tvar REList = RealTarget.searchByObj(e.target.parentElement.parentElement.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\tif(!temp) return;\r\n\t\t\ttemp.info.inputer.value = temp.info.matcher.value[0];\r\n\t\t\ttempRealDivList = temp;\r\n\t\t\ttempRealDivList.react?.(),tempRealDivList.notify(true);\r\n\t\t\t// (tempRealDivList = temp).info.inputer.dispatchEvent(new Event('input',changeConfig));\r\n\t\t});\r\n\t\t/**@type {(this: RealDivList)=>void} */\r\n\t\treturn function(placeholder){\r\n\t\t\tconst matcher = RealDivList.createByClassName('realDivSelect');\r\n\t\t\tthis.proto.value = ['<textarea placeholder=\"'+String(placeholder)+'\"></textarea>',matcher.self];\r\n\t\t\tthis.fix().info = Object(this.info);\r\n\t\t\tthis.info.inputer = this.proto.childrenList[0][0];\r\n\t\t\tthis.info.matcher = matcher;\r\n\t\t\tthis.info.wordList = [];\r\n\t\t\tthis.get = tempGet;\r\n\t\t\tthis.set = tempSet;\r\n\t\t};\r\n\t})(),tryHTML: true,tryRealNode: true,cssRuleObjObj: {'>:nth-child(2)>div>div:hover': {'transform':'scale(0.9,1)'}}}));\r\n\t/**\r\n\t * \r\n\t * @param {String | RealNode | ()=>String} titleGetter \r\n\t */\r\n\tvar createRealDivSeries = titleGetter=>RealDivList.createByClassName('realDivSeries',titleGetter);\r\n\tRealWorld.onload = RealWorld.onload.\r\n\tfinally(()=>RealDivList.defineDivListClass('realDivSeries',{tryRealNode: true,cssRuleObjObj: {\r\n\t\t'>div:nth-child(1)': {'font-weight':'bolder'},\r\n\t\t'.hidden>div:nth-child(n + 2)': {'display':'none'},\r\n\t},callback: (()=>{\r\n\t\tRealElement.addEventListenerBySelectors('.RealDivList.realDivSeries>div:nth-child(1)','click',e=>{\r\n\t\t\tvar REList = RealElement.searchByObj(e.target.parentElement),temp;\r\n\t\t\twhile(temp = REList.pop()) if(temp instanceof RealDivList) break;\r\n\t\t\ttemp && temp.toggleClassName('hidden');\r\n\t\t});\r\n\t\t/**### bind @type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>( typeof_fn | typeof _realNode | typeof _str)} */\r\n\t\tfunction getTransform(titleGetter){\r\n\t\t\treturn typeof titleGetter === 'function' ? /**@param {String[]} value */value=>_fn.call(this,titleGetter,value) :\r\n\t\t\ttitleGetter instanceof RealNode ? /**@param {String[]} value */value=>_realNode.call(this,titleGetter,value) :\r\n\t\t\t/**@param {String[]} value */value=> _str.call(this,titleGetter,value);\r\n\t\t}\r\n\t\t/**@type {(this: RealDivList,titleGetter: ()=>String,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _fn(titleGetter,value){return this.protoTransform(emptyArray.concat(titleGetter(),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: String,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _str(titleGetter,value){return this.protoTransform(emptyArray.concat(String(titleGetter),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: RealNode,value: String[])=>HTMLDivElement[]} */\r\n\t\tfunction _realNode(titleGetter,value){return this.protoTransform(emptyArray.concat(String(titleGetter.value),value));}\r\n\t\t/**@type {(this: RealDivList,titleGetter: String | RealNode | ()=>String)=>void} */\r\n\t\treturn function(titleGetter){this.transform = getTransform.call(this,titleGetter),this.fix();};\r\n\t})()}));\r\n\r\n}else log('No DOM !');\r\n\r\n\tEXPORTS.RealWorld = RealWorld,EXPORTS.RealNode = RealNode,EXPORTS.RealGroup = RealGroup,EXPORTS.RealTarget = RealTarget,\r\n\tEXPORTS.RealStory = RealStory,EXPORTS.RealPromise = RealPromise,\r\n\tEXPORTS.RealElement = RealElement,EXPORTS.RealCanvas = RealCanvas,EXPORTS.RealLoader = RealLoader,EXPORTS.RealSelect = RealSelect,\r\n\tEXPORTS.RealComtag = RealComtag,EXPORTS.RealSVG = RealSVG,\r\n\tEXPORTS.RealDivList = RealDivList,EXPORTS.RealImgList = RealImgList,EXPORTS.RealDivQueue = RealDivQueue,\r\n\tEXPORTS.createRealDivSelect = createRealDivSelect,EXPORTS.createRealDivSearch = createRealDivSearch,EXPORTS.createRealDivSeries = createRealDivSeries;\r\n\t(function tempFn(fn){for(const key of Object.keys(fn)){\r\n\t\tif(typeof fn[key] === 'function') Reflect.defineProperty(fn,key,nonEnumerableConfig),tempFn(fn[key]);\r\n\t}})(EXPORTS);\r\n\t/**## 如果用作全局接口，请不要注释掉下面这一行。  */\r\n\t// Object.assign(globalThis,EXPORTS);\r\n\tlog('Sync\\nin '+RealNode.makeNumStr0oTail(performance.now() - t0)+' ms.');\r\n\treturn EXPORTS;\r\n})());\r\nvar\r\nRealNode,RealGroup,RealTarget,\r\nRealStory,RealPromise,\r\nRealElement,RealCanvas,RealLoader,RealSelect,\r\nRealComtag,RealSVG,\r\nRealDivList,RealImgList,RealDivQueue,\r\ncreateRealDivSelect,createRealDivSearch,createRealDivSeries,\r\nRealWorld;\r\n"],"names":["RealNode","RealGroup","RealTarget","RealStory","RealPromise","RealElement","RealCanvas","RealLoader","RealSelect","RealComtag","RealSVG","RealDivList","RealImgList","RealDivQueue","createRealDivSelect","createRealDivSearch","createRealDivSeries","RealWorld","prevent","v","Element","globalThis","performance","Date","emptyArray","t0","now","emptyObj","Object","create","browserMode","nonEnumerableConfig","enumerable","tempConfig","writable","log","argArray","console","error","tryYieldKey","iter","key","type","target","yield","e","EXPORTS","nodeRequire","nodeMode","setInterval","clearInterval","module","exports","require","path","Promise","r","await","import","String","default","stack","nodeFS","onload","undefined","timeSep","fnList","this","Number","isFinite","_id","_mainFn","info","self","document","createElement","paused","intervalFn","ifFn","soFn","Reflect","defineProperty","onceUserActive","tempFn","removeEventListener","addEventListener","resolve","tempListener","setTimeout","clearTimeout","Interval","handler","timeout","_","transform","prototype","apply","clear","id","eventLoop","value","createInterval","syncSymbol","Symbol","tempErrorHandler","getPromiseState","async","promise","race","onceIf","TypeError","temp","cb2promise","thisArg","useFn","callback","parameters","Error","call","error0","error1","catch","onhandle","resume","next","done","makeAsyncFunctionWithErrorHandler","anyWithIterator","iteratorFn","asyncIterator","iterator","Function","destroy","then","fn","unshift","getRealElement","initValue","innerHTML","setTimeSep","pop","e0","e1","message","name","_sys","Map","tryRealNode","proto","AntiNode","childRNs","react","search","get","newByInitValue","is","value1","value2","justNow","arrayToObject","array","concat","length","i","createExpression","config","set","relativeRNs","createHidden","assign","display","check","realNode","entries","afterNow","keepNow","protoCreate","createNumber","bind","Array","isArray","copyObj","obj","newObj","keys","charCodeAt","createString","join","time","result","makeNumStr0oTail","n","tail","int","float","toString","Math","floor","0","1","split","BigInt","slice","padEnd","_react","notify","noSelf","_getPositionsOfChildRN","position","reverse","realSet","protoReact","protoGet","protoSet","clearChildRNs","realReact","toPrimitive","hint","constructor","description","NaN","onerror","status","depth","finished","err","protoNotify","reactedArray","failedArray","push","includes","_computePositionsOfRNs","_dealWithPositionsOfRNs","values","cancelWatch","index","indexOf","splice","watch","indexof","relate","unrelate","unrelativeRNs","deep","count","ownKeys","realNodeMap","expression","end","list","tempReact","dir","has","delete","Boolean","tempProxy","AntiGroup","construct","realGroup","getByFilter","isExtensible","preventExtensions","deleteProperty","setPrototypeOf","attributes","super","groupMap","newByObj","createDeepGroup","strict","getPrototypeOf","keyArray","getObjByStructure","source","structure","isInteger","all","proxy","addSetterListener","ifKeyOrFn","listener","listenerMap","forEach","listenerArray","l","tryRealNodeSetter","getOwnPropertyDescriptor","filterFn","notFn","Proxy","AntiTarget","isElement","newBySelf","searchByObj","element","realTarget","fix","forceRefresh","load","protoTransform","clearClassName","className","addClassName","classList","add","toggleClassName","toggle","removeClassName","remove","getIndexWithin","previousElementSibling","applyCSS","selfSelector","classNameOrRuleObjObj","parentElement","getRandomId","myStyle","addCSSRules","test","addId","clone","keepValue","deepCopyRelativeRNs","param0","cloneNode","idSet","Set","findId","deleteId","random","selectorEventListeners","keyboardController","activeElement","tagName","onkeyboardController","querySelector","previous","enter","click","back","contains","nextElementSibling","getComputedStyle","firstElementChild","lastElementChild","animate","opacity","duration","createDiv","createTextarea","placeholder","newXHTML","cssConfig","style","newSVG","makeElement","createElementNS","createImg","createAudio","createVideo","newDocumentFragmentFromElements","Elements","ele","DocumentFragment","appendChild","applyKeyboardController","elementList","cancelKeyboardController","makeElementByString","template","content","_clear","attr","setAttribute","newElements","tagNameArray","toDocumentFragment","addEventListenerBySelectors","selectors","tempStr","replace","toUpperCase","from","querySelectorAll","_css","myCSS","getElementsByTagName","window","createPopup","createTextNode","sheet","testReg","strReg0","strReg1","getKeys","insertRule","CSSStyleSheet","selector","rulesStr","cssRules","addRule","tempInsertRule","prefix","ruleObjObj","let","ruleObj","cssName","exec","defaultInit","*","margin","padding","border","-webkit-user-select","-moz-user-select","-ms-user-select","user-select",":root","--mapWidth","--halfBlack","--halfWhite","--noColor","pre","text-align","align-content","vertical-align","white-space","word-wrap","html","cursor","background-color","color","body","transform-origin","overflow","body>*","hr","::-webkit-scrollbar","","width","height","visibility","writing-mode",">*",">*>*",">:nth-child(1)","z-index",">:nth-child(2)",">:nth-child(3)",">:nth-child(4)",">:nth-child(5)",">:nth-child(6)",">:nth-child(7)",">:nth-child(8)",">:nth-child(9)",">:nth-child(10)",">:nth-child(11)",">:nth-child(12)",">:nth-child(13)",">:nth-child(14)",">:nth-child(15)",">:nth-last-child(1)",">:nth-last-child(2)",">:nth-last-child(3)",">:nth-last-child(4)",">:nth-last-child(5)",">:nth-last-child(6)",">:nth-last-child(7)",">:nth-last-child(8)",">:nth-last-child(9)",">:nth-last-child(10)",">:nth-last-child(11)",">:nth-last-child(12)",">:nth-last-child(13)",">:nth-last-child(14)",">:nth-last-child(15)",":hover","background",":active",">:hover",">:active","font-size","align-items","justify-content","left","top","finally","StoryPromise","reject","newPage","newPrivatePage","getNextPage","ofStory","pages","getPreviousPage","newPromiseObj","launch","bool","isBusy","shift","newOne","onrejected","onfinally","onfulfilled","_push","_throw","tryHandler","pathSet","tempReg","script","replaceAll","head","src","AntiCanvas","getContext","backup","img","Image","clearBeforeDraw","ctx","useCache","srcImageMap","canvas","strN","padStart","preloadSrc","srcArray","getImageBySrc","allSettled","getRealGroupToClear","ConfigToClearShape","x","y","radiusX","radiusY","shape","relative","realCanvas","initFn","fnBeforeClear","fnAfterClear","loaded","clearShape","clearAsync","imgOrCanvas","drawImage","clearRect","closePath","clearTemp","testSrc","rejectSrc","toBlob","Blob","resizeBySrc","naturalWidth","naturalHeight","multiDrawSrcArray","bgSrc","autoOpacity","resize","tempOpacity","applyMouseClear","nowStyle","mouseenter","mousemove","mouseleave","offsetX","offsetY","failed","j","abs","round","ceil","yPOW2","yDIVxPOW2","sqrt","suffix","startN","midLength","playMode","sizeMode","resizeAfter","size","srcArr","imgW","imgH","HTMLCanvasElement","globalAlpha","opacityConfig","getElementById","AntiLoader","onloadend","checkSrc","fs","stat","fetch","initHEAD","method","DocumentFs","readdir","response","location","protocol","init","mode","strArgs","fileName","str","statList","testFileNameList","fileNameList","fill","resultList","limit","_configDescriptor","configurable","newByType","isDownload","getArrayBufferFrom","data","ArrayBuffer","isView","buffer","arrayBuffer","realLoader","files","dataGetter","2","download","ab","Uint8Array","href","URL","createObjectURL","revokeObjectURL","AntiSelect","select","tempValue","children","getValueIndexs","selected","valueArray","defaultKey","defaultValue","multiple","sort","a","b","localeCompare","optionConfig","onchange","HTMLSelectElement","comtagClassMap","defineComtagClass","optionList","selfAssign","cssRuleObjObj","createByClassName","Comtag","iter1","iter0","toLowerCase","newByTagName","newImages","hrefList","baseVal","SVGImage","AntiList","childrenList","divListClassMap","createList","tryHTML","textContent","defineDivListClass","Node","getIdDict","toRealElement","getRealEmentList","cloneImgList","srcList","AntiQueue","queueArray","tempTarget",">div:hover",">div:active","realDivQueue","list0","list1","target0","target1","queue","applyQueue","getListQueue","previousQueue","scrollTop","scrollLeft","insertAdjacentElement","scrollTo","behavior",">div",">.selected","font-weight","changeConfig","bubbles","cancelable","tempGet","tempSet","RS","dispatchEvent","Event","REList","previousValue","tempRealDivList","inputer","wordList","matcher","RegExp","filter",">:nth-child(2)>div>div:hover","titleGetter",">div:nth-child(1)",".hidden>div:nth-child(n + 2)","getTransform","_fn","_realNode","_str"],"mappings":"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"}